(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var X$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var B2={exports:{}},Jd={};var x_;function yI(){if(x_)return Jd;x_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Jd.Fragment=e,Jd.jsx=t,Jd.jsxs=t,Jd}var S_;function vI(){return S_||(S_=1,B2.exports=yI()),B2.exports}var y=vI(),F2={exports:{}},cn={};var A_;function bI(){if(A_)return cn;A_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,I={};function j(V,P,G){this.props=V,this.context=P,this.refs=I,this.updater=G||N}j.prototype.isReactComponent={},j.prototype.setState=function(V,P){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,P,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=j.prototype;function Y(V,P,G){this.props=V,this.context=P,this.refs=I,this.updater=G||N}var Z=Y.prototype=new X;Z.constructor=Y,L(Z,j.prototype),Z.isPureReactComponent=!0;var ae=Array.isArray;function ge(){}var U={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function k(V,P,G){var K=G.ref;return{$$typeof:n,type:V,key:P,ref:K!==void 0?K:null,props:G}}function W(V,P){return k(V.type,P,V.props)}function E(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function R(V){var P={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(G){return P[G]})}var B=/\/+/g;function ce(V,P){return typeof V=="object"&&V!==null&&V.key!=null?R(""+V.key):P.toString(36)}function Ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ge,ge):(V.status="pending",V.then(function(P){V.status==="pending"&&(V.status="fulfilled",V.value=P)},function(P){V.status==="pending"&&(V.status="rejected",V.reason=P)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function oe(V,P,G,K,re){var de=typeof V;(de==="undefined"||de==="boolean")&&(V=null);var pe=!1;if(V===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(V.$$typeof){case n:case e:pe=!0;break;case p:return pe=V._init,oe(pe(V._payload),P,G,K,re)}}if(pe)return re=re(V),pe=K===""?"."+ce(V,0):K,ae(re)?(G="",pe!=null&&(G=pe.replace(B,"$&/")+"/"),oe(re,P,G,"",function(Ve){return Ve})):re!=null&&(E(re)&&(re=W(re,G+(re.key==null||V&&V.key===re.key?"":(""+re.key).replace(B,"$&/")+"/")+pe)),P.push(re)),1;pe=0;var xe=K===""?".":K+":";if(ae(V))for(var Te=0;Te<V.length;Te++)K=V[Te],de=xe+ce(K,Te),pe+=oe(K,P,G,de,re);else if(Te=w(V),typeof Te=="function")for(V=Te.call(V),Te=0;!(K=V.next()).done;)K=K.value,de=xe+ce(K,Te++),pe+=oe(K,P,G,de,re);else if(de==="object"){if(typeof V.then=="function")return oe(Ae(V),P,G,K,re);throw P=String(V),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return pe}function me(V,P,G){if(V==null)return V;var K=[],re=0;return oe(V,K,"","",function(de){return P.call(G,de,re++)}),K}function se(V){if(V._status===-1){var P=V._result;P=P(),P.then(function(G){(V._status===0||V._status===-1)&&(V._status=1,V._result=G)},function(G){(V._status===0||V._status===-1)&&(V._status=2,V._result=G)}),V._status===-1&&(V._status=0,V._result=P)}if(V._status===1)return V._result.default;throw V._result}var Ne=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ue={map:me,forEach:function(V,P,G){me(V,function(){P.apply(this,arguments)},G)},count:function(V){var P=0;return me(V,function(){P++}),P},toArray:function(V){return me(V,function(P){return P})||[]},only:function(V){if(!E(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return cn.Activity=v,cn.Children=ue,cn.Component=j,cn.Fragment=t,cn.Profiler=r,cn.PureComponent=Y,cn.StrictMode=i,cn.Suspense=h,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,cn.__COMPILER_RUNTIME={__proto__:null,c:function(V){return U.H.useMemoCache(V)}},cn.cache=function(V){return function(){return V.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(V,P,G){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var K=L({},V.props),re=V.key;if(P!=null)for(de in P.key!==void 0&&(re=""+P.key),P)!M.call(P,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&P.ref===void 0||(K[de]=P[de]);var de=arguments.length-2;if(de===1)K.children=G;else if(1<de){for(var pe=Array(de),xe=0;xe<de;xe++)pe[xe]=arguments[xe+2];K.children=pe}return k(V.type,re,K)},cn.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},cn.createElement=function(V,P,G){var K,re={},de=null;if(P!=null)for(K in P.key!==void 0&&(de=""+P.key),P)M.call(P,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(re[K]=P[K]);var pe=arguments.length-2;if(pe===1)re.children=G;else if(1<pe){for(var xe=Array(pe),Te=0;Te<pe;Te++)xe[Te]=arguments[Te+2];re.children=xe}if(V&&V.defaultProps)for(K in pe=V.defaultProps,pe)re[K]===void 0&&(re[K]=pe[K]);return k(V,de,re)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(V){return{$$typeof:u,render:V}},cn.isValidElement=E,cn.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:se}},cn.memo=function(V,P){return{$$typeof:f,type:V,compare:P===void 0?null:P}},cn.startTransition=function(V){var P=U.T,G={};U.T=G;try{var K=V(),re=U.S;re!==null&&re(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ge,Ne)}catch(de){Ne(de)}finally{P!==null&&G.types!==null&&(P.types=G.types),U.T=P}},cn.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},cn.use=function(V){return U.H.use(V)},cn.useActionState=function(V,P,G){return U.H.useActionState(V,P,G)},cn.useCallback=function(V,P){return U.H.useCallback(V,P)},cn.useContext=function(V){return U.H.useContext(V)},cn.useDebugValue=function(){},cn.useDeferredValue=function(V,P){return U.H.useDeferredValue(V,P)},cn.useEffect=function(V,P){return U.H.useEffect(V,P)},cn.useEffectEvent=function(V){return U.H.useEffectEvent(V)},cn.useId=function(){return U.H.useId()},cn.useImperativeHandle=function(V,P,G){return U.H.useImperativeHandle(V,P,G)},cn.useInsertionEffect=function(V,P){return U.H.useInsertionEffect(V,P)},cn.useLayoutEffect=function(V,P){return U.H.useLayoutEffect(V,P)},cn.useMemo=function(V,P){return U.H.useMemo(V,P)},cn.useOptimistic=function(V,P){return U.H.useOptimistic(V,P)},cn.useReducer=function(V,P,G){return U.H.useReducer(V,P,G)},cn.useRef=function(V){return U.H.useRef(V)},cn.useState=function(V){return U.H.useState(V)},cn.useSyncExternalStore=function(V,P,G){return U.H.useSyncExternalStore(V,P,G)},cn.useTransition=function(){return U.H.useTransition()},cn.version="19.2.3",cn}var T_;function m5(){return T_||(T_=1,F2.exports=bI()),F2.exports}var $=m5();const Ss=V1($);var U2={exports:{}},Zd={},z2={exports:{}},q2={};var E_;function wI(){return E_||(E_=1,(function(n){function e(oe,me){var se=oe.length;oe.push(me);e:for(;0<se;){var Ne=se-1>>>1,ue=oe[Ne];if(0<r(ue,me))oe[Ne]=me,oe[se]=ue,se=Ne;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var me=oe[0],se=oe.pop();if(se!==me){oe[0]=se;e:for(var Ne=0,ue=oe.length,V=ue>>>1;Ne<V;){var P=2*(Ne+1)-1,G=oe[P],K=P+1,re=oe[K];if(0>r(G,se))K<ue&&0>r(re,G)?(oe[Ne]=re,oe[K]=se,Ne=K):(oe[Ne]=G,oe[P]=se,Ne=P);else if(K<ue&&0>r(re,se))oe[Ne]=re,oe[K]=se,Ne=K;else break e}}return me}function r(oe,me){var se=oe.sortIndex-me.sortIndex;return se!==0?se:oe.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,v=null,x=3,w=!1,N=!1,L=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Z(oe){for(var me=t(f);me!==null;){if(me.callback===null)i(f);else if(me.startTime<=oe)i(f),me.sortIndex=me.expirationTime,e(h,me);else break;me=t(f)}}function ae(oe){if(L=!1,Z(oe),!N)if(t(h)!==null)N=!0,ge||(ge=!0,R());else{var me=t(f);me!==null&&Ae(ae,me.startTime-oe)}}var ge=!1,U=-1,M=5,k=-1;function W(){return I?!0:!(n.unstable_now()-k<M)}function E(){if(I=!1,ge){var oe=n.unstable_now();k=oe;var me=!0;try{e:{N=!1,L&&(L=!1,X(U),U=-1),w=!0;var se=x;try{t:{for(Z(oe),v=t(h);v!==null&&!(v.expirationTime>oe&&W());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,x=v.priorityLevel;var ue=Ne(v.expirationTime<=oe);if(oe=n.unstable_now(),typeof ue=="function"){v.callback=ue,Z(oe),me=!0;break t}v===t(h)&&i(h),Z(oe)}else i(h);v=t(h)}if(v!==null)me=!0;else{var V=t(f);V!==null&&Ae(ae,V.startTime-oe),me=!1}}break e}finally{v=null,x=se,w=!1}me=void 0}}finally{me?R():ge=!1}}}var R;if(typeof Y=="function")R=function(){Y(E)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ce=B.port2;B.port1.onmessage=E,R=function(){ce.postMessage(null)}}else R=function(){j(E,0)};function Ae(oe,me){U=j(function(){oe(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(oe){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var se=x;x=me;try{return oe()}finally{x=se}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(oe,me){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var se=x;x=oe;try{return me()}finally{x=se}},n.unstable_scheduleCallback=function(oe,me,se){var Ne=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ne+se:Ne):se=Ne,oe){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=se+ue,oe={id:p++,callback:me,priorityLevel:oe,startTime:se,expirationTime:ue,sortIndex:-1},se>Ne?(oe.sortIndex=se,e(f,oe),t(h)===null&&oe===t(f)&&(L?(X(U),U=-1):L=!0,Ae(ae,se-Ne))):(oe.sortIndex=ue,e(h,oe),N||w||(N=!0,ge||(ge=!0,R()))),oe},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(oe){var me=x;return function(){var se=x;x=me;try{return oe.apply(this,arguments)}finally{x=se}}}})(q2)),q2}var N_;function _I(){return N_||(N_=1,z2.exports=wI()),z2.exports}var H2={exports:{}},Ls={};var C_;function xI(){if(C_)return Ls;C_=1;var n=m5();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ls.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ls.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},Ls.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},Ls.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Ls.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ls.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ls.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Ls.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ls.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Ls.requestFormReset=function(h){i.d.r(h)},Ls.unstable_batchedUpdates=function(h,f){return h(f)},Ls.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Ls.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ls.version="19.2.3",Ls}var R_;function pA(){if(R_)return H2.exports;R_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),H2.exports=xI(),H2.exports}var I_;function SI(){if(I_)return Zd;I_=1;var n=_I(),e=m5(),t=pA();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(i(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var b=c.return;if(b===null)break;var S=b.alternate;if(S===null){if(d=b.return,d!==null){c=d;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===c)return h(b),s;if(S===d)return h(b),o;S=S.sibling}throw Error(i(188))}if(c.return!==d.return)c=b,d=S;else{for(var O=!1,ee=b.child;ee;){if(ee===c){O=!0,c=b,d=S;break}if(ee===d){O=!0,d=b,c=S;break}ee=ee.sibling}if(!O){for(ee=S.child;ee;){if(ee===c){O=!0,c=S,d=b;break}if(ee===d){O=!0,d=S,c=b;break}ee=ee.sibling}if(!O)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function R(s){return s===null||typeof s!="object"?null:(s=E&&s[E]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case j:return"Profiler";case I:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case Y:return s.displayName||"Context";case X:return(s._context.displayName||"Context")+".Consumer";case Z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return o=s.displayName||null,o!==null?o:ce(s.type)||"Memo";case M:o=s._payload,s=s._init;try{return ce(s(o))}catch{}}return null}var Ae=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ne=[],ue=-1;function V(s){return{current:s}}function P(s){0>ue||(s.current=Ne[ue],Ne[ue]=null,ue--)}function G(s,o){ue++,Ne[ue]=s.current,s.current=o}var K=V(null),re=V(null),de=V(null),pe=V(null);function xe(s,o){switch(G(de,o),G(re,s),G(K,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?G4(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=G4(o),s=W4(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}P(K),G(K,s)}function Te(){P(K),P(re),P(de)}function Ve(s){s.memoizedState!==null&&G(pe,s);var o=K.current,c=W4(o,s.type);o!==c&&(G(re,s),G(K,c))}function be(s){re.current===s&&(P(K),P(re)),pe.current===s&&(P(pe),Kd._currentValue=se)}var Ce,je;function Pe(s){if(Ce===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Ce=o&&o[1]||"",je=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+s+je}var H=!1;function qe(s,o){if(!s||H)return"";H=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(ze){var Fe=ze}Reflect.construct(s,[],Qe)}else{try{Qe.call()}catch(ze){Fe=ze}s.call(Qe.prototype)}}else{try{throw Error()}catch(ze){Fe=ze}(Qe=s())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(ze){if(ze&&Fe&&typeof ze.stack=="string")return[ze.stack,Fe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),O=S[0],ee=S[1];if(O&&ee){var ye=O.split(`
`),Oe=ee.split(`
`);for(b=d=0;d<ye.length&&!ye[d].includes("DetermineComponentFrameRoot");)d++;for(;b<Oe.length&&!Oe[b].includes("DetermineComponentFrameRoot");)b++;if(d===ye.length||b===Oe.length)for(d=ye.length-1,b=Oe.length-1;1<=d&&0<=b&&ye[d]!==Oe[b];)b--;for(;1<=d&&0<=b;d--,b--)if(ye[d]!==Oe[b]){if(d!==1||b!==1)do if(d--,b--,0>b||ye[d]!==Oe[b]){var Ke=`
`+ye[d].replace(" at new "," at ");return s.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",s.displayName)),Ke}while(1<=d&&0<=b);break}}}finally{H=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Pe(c):""}function ot(s,o){switch(s.tag){case 26:case 27:case 5:return Pe(s.type);case 16:return Pe("Lazy");case 13:return s.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return qe(s.type,!1);case 11:return qe(s.type.render,!1);case 1:return qe(s.type,!0);case 31:return Pe("Activity");default:return""}}function lt(s){try{var o="",c=null;do o+=ot(s,c),c=s,s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ge=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,St=n.unstable_requestPaint,Ht=n.unstable_now,en=n.unstable_getCurrentPriorityLevel,st=n.unstable_ImmediatePriority,Yt=n.unstable_UserBlockingPriority,Xt=n.unstable_NormalPriority,gt=n.unstable_LowPriority,Qt=n.unstable_IdlePriority,yt=n.log,oi=n.unstable_setDisableYieldValue,nn=null,jt=null;function Gt(s){if(typeof yt=="function"&&oi(s),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(nn,s)}catch{}}var an=Math.clz32?Math.clz32:Ut,Rt=Math.log,Fn=Math.LN2;function Ut(s){return s>>>=0,s===0?32:31-(Rt(s)/Fn|0)|0}var zt=256,qn=262144,Ct=4194304;function Tt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gn(s,o,c){var d=s.pendingLanes;if(d===0)return 0;var b=0,S=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var ee=d&134217727;return ee!==0?(d=ee&~S,d!==0?b=Tt(d):(O&=ee,O!==0?b=Tt(O):c||(c=ee&~s,c!==0&&(b=Tt(c))))):(ee=d&~S,ee!==0?b=Tt(ee):O!==0?b=Tt(O):c||(c=d&~s,c!==0&&(b=Tt(c)))),b===0?0:o!==0&&o!==b&&(o&S)===0&&(S=b&-b,c=o&-o,S>=c||S===32&&(c&4194048)!==0)?o:b}function Nr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function pr(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function rr(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function It(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ta(s,o,c,d,b,S){var O=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var ee=s.entanglements,ye=s.expirationTimes,Oe=s.hiddenUpdates;for(c=O&~c;0<c;){var Ke=31-an(c),Qe=1<<Ke;ee[Ke]=0,ye[Ke]=-1;var Fe=Oe[Ke];if(Fe!==null)for(Oe[Ke]=null,Ke=0;Ke<Fe.length;Ke++){var ze=Fe[Ke];ze!==null&&(ze.lane&=-536870913)}c&=~Qe}d!==0&&as(s,d,0),S!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=S&~(O&~o))}function as(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-an(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&261930}function qr(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-an(c),b=1<<d;b&o|s[d]&o&&(s[d]|=o),c&=~b}}function Hr(s,o){var c=o&-o;return c=(c&42)!==0?1:Jn(c),(c&(s.suspendedLanes|o))!==0?0:c}function Jn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function li(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $i(){var s=me.p;return s!==0?s:(s=window.event,s===void 0?32:m_(s.type))}function Cr(s,o){var c=me.p;try{return me.p=s,o()}finally{me.p=c}}var mr=Math.random().toString(36).slice(2),Hn="__reactFiber$"+mr,ti="__reactProps$"+mr,Ki="__reactContainer$"+mr,Gr="__reactEvents$"+mr,As="__reactListeners$"+mr,Ga="__reactHandles$"+mr,zs="__reactResources$"+mr,Wr="__reactMarker$"+mr;function Ea(s){delete s[Hn],delete s[ti],delete s[Gr],delete s[As],delete s[Ga]}function os(s){var o=s[Hn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ki]||c[Hn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Z4(s);s!==null;){if(c=s[Hn])return c;s=Z4(s)}return o}s=c,c=s.parentNode}return null}function Rr(s){if(s=s[Hn]||s[Ki]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function ls(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Ts(s){var o=s[zs];return o||(o=s[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ai(s){s[Wr]=!0}var Qo=new Set,$r={};function Es(s,o){qs(s,o),qs(s+"Capture",o)}function qs(s,o){for($r[s]=o,s=0;s<o.length;s++)Qo.add(o[s])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Zo={};function Pl(s){return Ge.call(Zo,s)?!0:Ge.call(Jo,s)?!1:vo.test(s)?Zo[s]=!0:(Jo[s]=!0,!1)}function cs(s,o,c){if(Pl(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function gr(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Li(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}function wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Na(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ns(s,o,c){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,S=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){c=""+O,S.call(this,O)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Nn(s){if(!s._valueTracker){var o=Na(s)?"checked":"value";s._valueTracker=Ns(s,o,""+s[o])}}function Wa(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=Na(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Vi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var yi=/[\n"\\]/g;function Di(s){return s.replace(yi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function bo(s,o,c,d,b,S,O,ee){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),o!=null?O==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+wn(o)):s.value!==""+wn(o)&&(s.value=""+wn(o)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),o!=null?kl(s,O,wn(o)):c!=null?kl(s,O,wn(c)):d!=null&&s.removeAttribute("value"),b==null&&S!=null&&(s.defaultChecked=!!S),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?s.name=""+wn(ee):s.removeAttribute("name")}function Ic(s,o,c,d,b,S,O,ee){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),o!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Nn(s);return}c=c!=null?""+wn(c):"",o=o!=null?""+wn(o):c,ee||o===s.value||(s.value=o),s.defaultValue=o}d=d??b,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=ee?s.checked:!!d,s.defaultChecked=!!d,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Nn(s)}function kl(s,o,c){o==="number"&&Vi(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ir(s,o,c,d){if(s=s.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<s.length;c++)b=o.hasOwnProperty("$"+s[c].value),s[c].selected!==b&&(s[c].selected=b),b&&d&&(s[c].defaultSelected=!0)}else{for(c=""+wn(c),o=null,b=0;b<s.length;b++){if(s[b].value===c){s[b].selected=!0,d&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function Ml(s,o,c){if(o!=null&&(o=""+wn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+wn(c):""}function Ca(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(Ae(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=wn(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d),Nn(s)}function sr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var $a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||$a.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Vl(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var b in o)d=o[b],o.hasOwnProperty(b)&&c[b]!==d&&Ol(s,b,d)}else for(var S in o)o.hasOwnProperty(S)&&Ol(s,S,o[S])}function el(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(s){return Ra.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Hs(){}var Ia=null;function Yr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ka=null,Pt=null;function wo(s){var o=Rr(s);if(o&&(s=o.stateNode)){var c=s[ti]||null;e:switch(s=o.stateNode,o.type){case"input":if(bo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Di(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var b=d[ti]||null;if(!b)throw Error(i(90));bo(d,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&Wa(d)}break e;case"textarea":Ml(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ir(s,!!c.multiple,o,!1)}}}var nl=!1;function Ya(s,o,c){if(nl)return s(o,c);nl=!0;try{var d=s(o);return d}finally{if(nl=!1,(Ka!==null||Pt!==null)&&(qm(),Ka&&(o=Ka,s=Pt,Pt=Ka=null,wo(o),s)))for(o=0;o<s.length;o++)wo(s[o])}}function ar(s,o){var c=s.stateNode;if(c===null)return null;var d=c[ti]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=!1;if(Yi)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{_o=!1}var us=null,xo=null,Gs=null;function Bl(){if(Gs)return Gs;var s,o=xo,c=o.length,d,b="value"in us?us.value:us.textContent,S=b.length;for(s=0;s<c&&o[s]===b[s];s++);var O=c-s;for(d=1;d<=O&&o[c-d]===b[S-d];d++);return Gs=b.slice(s,1<d?1-d:void 0)}function hs(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function La(){return!0}function fs(){return!1}function Bi(s){function o(c,d,b,S,O){this._reactName=c,this._targetInst=b,this.type=d,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(c=s[ee],this[ee]=c?c(S):S[ee]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?La:fs,this.isPropagationStopped=fs,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),o}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Bi(na),ia=v({},na,{view:0,detail:0}),Xa=Bi(ia),ra,sa,Cs,So=v({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vt,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Cs&&(Cs&&s.type==="mousemove"?(ra=s.screenX-Cs.screenX,sa=s.screenY-Cs.screenY):sa=ra=0,Cs=s),ra)},movementY:function(s){return"movementY"in s?s.movementY:sa}}),il=Bi(So),ds=v({},So,{dataTransfer:0}),aa=Bi(ds),Fl=v({},ia,{relatedTarget:0}),Ws=Bi(Fl),rl=v({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Bi(rl),z=v({},na,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),he=Bi(z),ve=v({},na,{data:0}),Ee=Bi(ve),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=dt[s])?!!o[s]:!1}function Vt(){return wt}var Lt=v({},ia,{key:function(s){if(s.key){var o=$e[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=hs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?et[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vt,charCode:function(s){return s.type==="keypress"?hs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?hs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_n=Bi(Lt),ci=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zn=Bi(ci),g=v({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vt}),C=Bi(g),F=v({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),ne=Bi(F),Ie=v({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Bi(Ie),it=v({},na,{newState:0,oldState:0}),tn=Bi(it),ui=[9,13,27,32],vn=Yi&&"CompositionEvent"in window,Wn=null;Yi&&"documentMode"in document&&(Wn=document.documentMode);var vr=Yi&&"TextEvent"in window&&!Wn,Lr=Yi&&(!vn||Wn&&8<Wn&&11>=Wn),ni=" ",Dr=!1;function $s(s,o){switch(s){case"keyup":return ui.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ja=!1;function ps(s,o){switch(s){case"compositionend":return Qa(o);case"keypress":return o.which!==32?null:(Dr=!0,ni);case"textInput":return s=o.data,s===ni&&Dr?null:s;default:return null}}function Ao(s,o){if(Ja)return s==="compositionend"||!vn&&$s(s,o)?(s=Bl(),Gs=xo=us=null,Ja=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Lr&&o.locale!=="ko"?null:o.data;default:return null}}var Lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Lc[s.type]:o==="textarea"}function Ks(s,o,c,d){Ka?Pt?Pt.push(d):Pt=[d]:Ka=d,o=Xm(o,"onChange"),0<o.length&&(c=new yr("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var Da=null,To=null;function qu(s){B4(s,0)}function ja(s){var o=ls(s);if(Wa(o))return s}function sl(s,o){if(s==="change")return o}var Rs=!1;if(Yi){var ms;if(Yi){var Za="oninput"in document;if(!Za){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Za=typeof eo.oninput=="function"}ms=Za}else ms=!1;Rs=ms&&(!document.documentMode||9<document.documentMode)}function Eo(){Da&&(Da.detachEvent("onpropertychange",Dc),To=Da=null)}function Dc(s){if(s.propertyName==="value"&&ja(To)){var o=[];Ks(o,To,s,Yr(s)),Ya(qu,o)}}function jc(s,o,c){s==="focusin"?(Eo(),Da=o,To=c,Da.attachEvent("onpropertychange",Dc)):s==="focusout"&&Eo()}function Fi(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ja(To)}function kh(s,o){if(s==="click")return ja(o)}function to(s,o){if(s==="input"||s==="change")return ja(o)}function no(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var jr=typeof Object.is=="function"?Object.is:no;function No(s,o){if(jr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var b=c[d];if(!Ge.call(o,b)||!jr(s[b],o[b]))return!1}return!0}function Pc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kc(s,o){var c=Pc(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Pc(c)}}function Co(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Co(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ro(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Vi(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Vi(s.document)}return o}function io(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Ul=Yi&&"documentMode"in document&&11>=document.documentMode,Ys=null,Io=null,Xr=null,oa=!1;function Un(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;oa||Ys==null||Ys!==Vi(d)||(d=Ys,"selectionStart"in d&&io(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Xr&&No(Xr,d)||(Xr=d,d=Xm(Io,"onSelect"),0<d.length&&(o=new yr("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=Ys)))}function jn(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var hi={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},Ui={},ro={};Yi&&(ro=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Pa(s){if(Ui[s])return Ui[s];if(!hi[s])return s;var o=hi[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in ro)return Ui[s]=o[c];return s}var zl=Pa("animationend"),Hu=Pa("animationiteration"),yd=Pa("animationstart"),bm=Pa("transitionrun"),wm=Pa("transitionstart"),_m=Pa("transitioncancel"),vd=Pa("transitionend"),bd=new Map,ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ql.push("scrollEnd");function la(s,o){bd.set(s,o),Es(o,[s])}var Gu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Xs=[],Hl=0,Mh=0;function Wu(){for(var s=Hl,o=Mh=Hl=0;o<s;){var c=Xs[o];Xs[o++]=null;var d=Xs[o];Xs[o++]=null;var b=Xs[o];Xs[o++]=null;var S=Xs[o];if(Xs[o++]=null,d!==null&&b!==null){var O=d.pending;O===null?b.next=b:(b.next=O.next,O.next=b),d.pending=b}S!==0&&Ku(c,b,S)}}function $u(s,o,c,d){Xs[Hl++]=s,Xs[Hl++]=o,Xs[Hl++]=c,Xs[Hl++]=d,Mh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Oh(s,o,c,d){return $u(s,o,c,d),Qr(s)}function Lo(s,o){return $u(s,null,null,o),Qr(s)}function Ku(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var b=!1,S=s.return;S!==null;)S.childLanes|=c,d=S.alternate,d!==null&&(d.childLanes|=c),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(b=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,b&&o!==null&&(b=31-an(c),s=S.hiddenUpdates,d=s[b],d===null?s[b]=[o]:d.push(o),o.lane=c|536870912),S):null}function Qr(s){if(50<Ud)throw Ud=0,c2=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Pr={};function Vh(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(s,o,c,d){return new Vh(s,o,c,d)}function Bh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ca(s,o){var c=s.alternate;return c===null?(c=Jr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Yu(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Mc(s,o,c,d,b,S){var O=0;if(d=s,typeof s=="function")Bh(s)&&(O=1);else if(typeof s=="string")O=sI(s,c,K.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Jr(31,c,o,b),s.elementType=k,s.lanes=S,s;case L:return al(c.children,b,S,o);case I:O=8,b|=24;break;case j:return s=Jr(12,c,o,b|2),s.elementType=j,s.lanes=S,s;case ae:return s=Jr(13,c,o,b),s.elementType=ae,s.lanes=S,s;case ge:return s=Jr(19,c,o,b),s.elementType=ge,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Y:O=10;break e;case X:O=9;break e;case Z:O=11;break e;case U:O=14;break e;case M:O=16,d=null;break e}O=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=Jr(O,c,o,b),o.elementType=s,o.type=d,o.lanes=S,o}function al(s,o,c,d){return s=Jr(7,s,d,o),s.lanes=c,s}function Xu(s,o,c){return s=Jr(6,s,null,o),s.lanes=c,s}function Fh(s){var o=Jr(18,null,null,0);return o.stateNode=s,o}function Oc(s,o,c){return o=Jr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Uh=new WeakMap;function ua(s,o){if(typeof s=="object"&&s!==null){var c=Uh.get(s);return c!==void 0?c:(o={value:s,source:o,stack:lt(o)},Uh.set(s,o),o)}return{value:s,source:o,stack:lt(o)}}var Vc=[],Gl=0,zh=null,Qu=0,ha=[],fa=0,ol=null,da=1,pa="";function Qs(s,o){Vc[Gl++]=Qu,Vc[Gl++]=zh,zh=s,Qu=o}function xm(s,o,c){ha[fa++]=da,ha[fa++]=pa,ha[fa++]=ol,ol=s;var d=da;s=pa;var b=32-an(d)-1;d&=~(1<<b),c+=1;var S=32-an(o)+b;if(30<S){var O=b-b%5;S=(d&(1<<O)-1).toString(32),d>>=O,b-=O,da=1<<32-an(o)+b|c<<b|d,pa=S+s}else da=1<<S|c<<b|d,pa=s}function wd(s){s.return!==null&&(Qs(s,1),xm(s,1,0))}function qh(s){for(;s===zh;)zh=Vc[--Gl],Vc[Gl]=null,Qu=Vc[--Gl],Vc[Gl]=null;for(;s===ol;)ol=ha[--fa],ha[fa]=null,pa=ha[--fa],ha[fa]=null,da=ha[--fa],ha[fa]=null}function Sm(s,o){ha[fa++]=da,ha[fa++]=pa,ha[fa++]=ol,da=o.id,pa=o.overflow,ol=s}var kr=null,vi=null,Sn=!1,gs=null,ji=!1,ka=Error(i(519));function ll(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(ua(o,s)),ka}function _d(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[Hn]=s,o[ti]=d,c){case"dialog":Tn("cancel",o),Tn("close",o);break;case"iframe":case"object":case"embed":Tn("load",o);break;case"video":case"audio":for(c=0;c<qd.length;c++)Tn(qd[c],o);break;case"source":Tn("error",o);break;case"img":case"image":case"link":Tn("error",o),Tn("load",o);break;case"details":Tn("toggle",o);break;case"input":Tn("invalid",o),Ic(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Tn("invalid",o);break;case"textarea":Tn("invalid",o),Ca(o,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||q4(o.textContent,c)?(d.popover!=null&&(Tn("beforetoggle",o),Tn("toggle",o)),d.onScroll!=null&&Tn("scroll",o),d.onScrollEnd!=null&&Tn("scrollend",o),d.onClick!=null&&(o.onclick=Hs),o=!0):o=!1,o||ll(s,!0)}function Do(s){for(kr=s.return;kr;)switch(kr.tag){case 5:case 31:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:kr=kr.return}}function Mr(s){if(s!==kr)return!1;if(!Sn)return Do(s),Sn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||A2(s.type,s.memoizedProps)),c=!c),c&&vi&&ll(s),Do(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));vi=J4(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));vi=J4(s)}else o===27?(o=vi,Zc(s.type)?(s=R2,R2=null,vi=s):vi=o):vi=kr?lo(s.stateNode.nextSibling):null;return!0}function Wl(){vi=kr=null,Sn=!1}function xd(){var s=gs;return s!==null&&(wa===null?wa=s:wa.push.apply(wa,s),gs=null),s}function Bc(s){gs===null?gs=[s]:gs.push(s)}var Hh=V(null),cl=null,so=null;function ul(s,o,c){G(Hh,o._currentValue),o._currentValue=c}function ma(s){s._currentValue=Hh.current,P(Hh)}function Fc(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function $l(s,o,c,d){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var S=b.dependencies;if(S!==null){var O=b.child;S=S.firstContext;e:for(;S!==null;){var ee=S;S=b;for(var ye=0;ye<o.length;ye++)if(ee.context===o[ye]){S.lanes|=c,ee=S.alternate,ee!==null&&(ee.lanes|=c),Fc(S.return,c,s),d||(O=null);break e}S=ee.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(i(341));O.lanes|=c,S=O.alternate,S!==null&&(S.lanes|=c),Fc(O,c,s),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===s){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function hl(s,o,c,d){s=null;for(var b=o,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var ee=b.type;jr(b.pendingProps.value,O.value)||(s!==null?s.push(ee):s=[ee])}}else if(b===pe.current){if(O=b.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Kd):s=[Kd])}b=b.return}s!==null&&$l(o,s,c,d),o.flags|=262144}function Gh(s){for(s=s.firstContext;s!==null;){if(!jr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function fl(s){cl=s,so=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Or(s){return Am(cl,s)}function Wh(s,o){return cl===null&&fl(s),Am(s,o)}function Am(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},so===null){if(s===null)throw Error(i(308));so=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else so=so.next=o;return c}var C0=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},R0=n.unstable_scheduleCallback,I0=n.unstable_NormalPriority,zi={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new C0,data:new Map,refCount:0}}function Ju(s){s.refCount--,s.refCount===0&&R0(I0,function(){s.controller.abort()})}var Zu=null,$h=0,m=0,_=null;function T(s,o){if(Zu===null){var c=Zu=[];$h=0,m=m2(),_={status:"pending",value:void 0,then:function(d){c.push(d)}}}return $h++,o.then(D,D),o}function D(){if(--$h===0&&Zu!==null){_!==null&&(_.status="fulfilled");var s=Zu;Zu=null,m=0,_=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function q(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(d.status="rejected",d.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),d}var Q=oe.S;oe.S=function(s,o){d4=Ht(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&T(s,o),Q!==null&&Q(s,o)};var J=V(null);function te(){var s=J.current;return s!==null?s:wi.pooledCache}function ie(s,o){o===null?G(J,J.current):G(J,o.pool)}function fe(){var s=te();return s===null?null:{parent:zi._currentValue,pool:s}}var we=Error(i(460)),ke=Error(i(474)),le=Error(i(542)),Se={then:function(){}};function Le(s){return s=s.status,s==="fulfilled"||s==="rejected"}function We(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Hs,Hs),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,nt(s),s;default:if(typeof o.status=="string")o.then(Hs,Hs);else{if(s=wi,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=d}},function(d){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,nt(s),s}throw He=o,we}}function De(s){try{var o=s._init;return o(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(He=c,we):c}}var He=null;function Ye(){if(He===null)throw Error(i(459));var s=He;return He=null,s}function nt(s){if(s===we||s===le)throw Error(i(483))}var Ze=null,_t=0;function ht(s){var o=_t;return _t+=1,Ze===null&&(Ze=[]),We(Ze,s,o)}function rn(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function vt(s,o){throw o.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function xn(s){function o(Re,_e){if(s){var Me=Re.deletions;Me===null?(Re.deletions=[_e],Re.flags|=16):Me.push(_e)}}function c(Re,_e){if(!s)return null;for(;_e!==null;)o(Re,_e),_e=_e.sibling;return null}function d(Re){for(var _e=new Map;Re!==null;)Re.key!==null?_e.set(Re.key,Re):_e.set(Re.index,Re),Re=Re.sibling;return _e}function b(Re,_e){return Re=ca(Re,_e),Re.index=0,Re.sibling=null,Re}function S(Re,_e,Me){return Re.index=Me,s?(Me=Re.alternate,Me!==null?(Me=Me.index,Me<_e?(Re.flags|=67108866,_e):Me):(Re.flags|=67108866,_e)):(Re.flags|=1048576,_e)}function O(Re){return s&&Re.alternate===null&&(Re.flags|=67108866),Re}function ee(Re,_e,Me,Xe){return _e===null||_e.tag!==6?(_e=Xu(Me,Re.mode,Xe),_e.return=Re,_e):(_e=b(_e,Me),_e.return=Re,_e)}function ye(Re,_e,Me,Xe){var Ft=Me.type;return Ft===L?Ke(Re,_e,Me.props.children,Xe,Me.key):_e!==null&&(_e.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===M&&De(Ft)===_e.type)?(_e=b(_e,Me.props),rn(_e,Me),_e.return=Re,_e):(_e=Mc(Me.type,Me.key,Me.props,null,Re.mode,Xe),rn(_e,Me),_e.return=Re,_e)}function Oe(Re,_e,Me,Xe){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Me.containerInfo||_e.stateNode.implementation!==Me.implementation?(_e=Oc(Me,Re.mode,Xe),_e.return=Re,_e):(_e=b(_e,Me.children||[]),_e.return=Re,_e)}function Ke(Re,_e,Me,Xe,Ft){return _e===null||_e.tag!==7?(_e=al(Me,Re.mode,Xe,Ft),_e.return=Re,_e):(_e=b(_e,Me),_e.return=Re,_e)}function Qe(Re,_e,Me){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Xu(""+_e,Re.mode,Me),_e.return=Re,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return Me=Mc(_e.type,_e.key,_e.props,null,Re.mode,Me),rn(Me,_e),Me.return=Re,Me;case N:return _e=Oc(_e,Re.mode,Me),_e.return=Re,_e;case M:return _e=De(_e),Qe(Re,_e,Me)}if(Ae(_e)||R(_e))return _e=al(_e,Re.mode,Me,null),_e.return=Re,_e;if(typeof _e.then=="function")return Qe(Re,ht(_e),Me);if(_e.$$typeof===Y)return Qe(Re,Wh(Re,_e),Me);vt(Re,_e)}return null}function Fe(Re,_e,Me,Xe){var Ft=_e!==null?_e.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Ft!==null?null:ee(Re,_e,""+Me,Xe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:return Me.key===Ft?ye(Re,_e,Me,Xe):null;case N:return Me.key===Ft?Oe(Re,_e,Me,Xe):null;case M:return Me=De(Me),Fe(Re,_e,Me,Xe)}if(Ae(Me)||R(Me))return Ft!==null?null:Ke(Re,_e,Me,Xe,null);if(typeof Me.then=="function")return Fe(Re,_e,ht(Me),Xe);if(Me.$$typeof===Y)return Fe(Re,_e,Wh(Re,Me),Xe);vt(Re,Me)}return null}function ze(Re,_e,Me,Xe,Ft){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Re=Re.get(Me)||null,ee(_e,Re,""+Xe,Ft);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case w:return Re=Re.get(Xe.key===null?Me:Xe.key)||null,ye(_e,Re,Xe,Ft);case N:return Re=Re.get(Xe.key===null?Me:Xe.key)||null,Oe(_e,Re,Xe,Ft);case M:return Xe=De(Xe),ze(Re,_e,Me,Xe,Ft)}if(Ae(Xe)||R(Xe))return Re=Re.get(Me)||null,Ke(_e,Re,Xe,Ft,null);if(typeof Xe.then=="function")return ze(Re,_e,Me,ht(Xe),Ft);if(Xe.$$typeof===Y)return ze(Re,_e,Me,Wh(_e,Xe),Ft);vt(_e,Xe)}return null}function bt(Re,_e,Me,Xe){for(var Ft=null,$n=null,Et=_e,yn=_e=0,Rn=null;Et!==null&&yn<Me.length;yn++){Et.index>yn?(Rn=Et,Et=null):Rn=Et.sibling;var Kn=Fe(Re,Et,Me[yn],Xe);if(Kn===null){Et===null&&(Et=Rn);break}s&&Et&&Kn.alternate===null&&o(Re,Et),_e=S(Kn,_e,yn),$n===null?Ft=Kn:$n.sibling=Kn,$n=Kn,Et=Rn}if(yn===Me.length)return c(Re,Et),Sn&&Qs(Re,yn),Ft;if(Et===null){for(;yn<Me.length;yn++)Et=Qe(Re,Me[yn],Xe),Et!==null&&(_e=S(Et,_e,yn),$n===null?Ft=Et:$n.sibling=Et,$n=Et);return Sn&&Qs(Re,yn),Ft}for(Et=d(Et);yn<Me.length;yn++)Rn=ze(Et,Re,yn,Me[yn],Xe),Rn!==null&&(s&&Rn.alternate!==null&&Et.delete(Rn.key===null?yn:Rn.key),_e=S(Rn,_e,yn),$n===null?Ft=Rn:$n.sibling=Rn,$n=Rn);return s&&Et.forEach(function(ru){return o(Re,ru)}),Sn&&Qs(Re,yn),Ft}function Kt(Re,_e,Me,Xe){if(Me==null)throw Error(i(151));for(var Ft=null,$n=null,Et=_e,yn=_e=0,Rn=null,Kn=Me.next();Et!==null&&!Kn.done;yn++,Kn=Me.next()){Et.index>yn?(Rn=Et,Et=null):Rn=Et.sibling;var ru=Fe(Re,Et,Kn.value,Xe);if(ru===null){Et===null&&(Et=Rn);break}s&&Et&&ru.alternate===null&&o(Re,Et),_e=S(ru,_e,yn),$n===null?Ft=ru:$n.sibling=ru,$n=ru,Et=Rn}if(Kn.done)return c(Re,Et),Sn&&Qs(Re,yn),Ft;if(Et===null){for(;!Kn.done;yn++,Kn=Me.next())Kn=Qe(Re,Kn.value,Xe),Kn!==null&&(_e=S(Kn,_e,yn),$n===null?Ft=Kn:$n.sibling=Kn,$n=Kn);return Sn&&Qs(Re,yn),Ft}for(Et=d(Et);!Kn.done;yn++,Kn=Me.next())Kn=ze(Et,Re,yn,Kn.value,Xe),Kn!==null&&(s&&Kn.alternate!==null&&Et.delete(Kn.key===null?yn:Kn.key),_e=S(Kn,_e,yn),$n===null?Ft=Kn:$n.sibling=Kn,$n=Kn);return s&&Et.forEach(function(gI){return o(Re,gI)}),Sn&&Qs(Re,yn),Ft}function mi(Re,_e,Me,Xe){if(typeof Me=="object"&&Me!==null&&Me.type===L&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:e:{for(var Ft=Me.key;_e!==null;){if(_e.key===Ft){if(Ft=Me.type,Ft===L){if(_e.tag===7){c(Re,_e.sibling),Xe=b(_e,Me.props.children),Xe.return=Re,Re=Xe;break e}}else if(_e.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===M&&De(Ft)===_e.type){c(Re,_e.sibling),Xe=b(_e,Me.props),rn(Xe,Me),Xe.return=Re,Re=Xe;break e}c(Re,_e);break}else o(Re,_e);_e=_e.sibling}Me.type===L?(Xe=al(Me.props.children,Re.mode,Xe,Me.key),Xe.return=Re,Re=Xe):(Xe=Mc(Me.type,Me.key,Me.props,null,Re.mode,Xe),rn(Xe,Me),Xe.return=Re,Re=Xe)}return O(Re);case N:e:{for(Ft=Me.key;_e!==null;){if(_e.key===Ft)if(_e.tag===4&&_e.stateNode.containerInfo===Me.containerInfo&&_e.stateNode.implementation===Me.implementation){c(Re,_e.sibling),Xe=b(_e,Me.children||[]),Xe.return=Re,Re=Xe;break e}else{c(Re,_e);break}else o(Re,_e);_e=_e.sibling}Xe=Oc(Me,Re.mode,Xe),Xe.return=Re,Re=Xe}return O(Re);case M:return Me=De(Me),mi(Re,_e,Me,Xe)}if(Ae(Me))return bt(Re,_e,Me,Xe);if(R(Me)){if(Ft=R(Me),typeof Ft!="function")throw Error(i(150));return Me=Ft.call(Me),Kt(Re,_e,Me,Xe)}if(typeof Me.then=="function")return mi(Re,_e,ht(Me),Xe);if(Me.$$typeof===Y)return mi(Re,_e,Wh(Re,Me),Xe);vt(Re,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,_e!==null&&_e.tag===6?(c(Re,_e.sibling),Xe=b(_e,Me),Xe.return=Re,Re=Xe):(c(Re,_e),Xe=Xu(Me,Re.mode,Xe),Xe.return=Re,Re=Xe),O(Re)):c(Re,_e)}return function(Re,_e,Me,Xe){try{_t=0;var Ft=mi(Re,_e,Me,Xe);return Ze=null,Ft}catch(Et){if(Et===we||Et===le)throw Et;var $n=Jr(29,Et,null,Re.mode);return $n.lanes=Xe,$n.return=Re,$n}}}var bi=xn(!0),ln=xn(!1),ft=!1;function at(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ti(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wt(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function fn(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Qn&2)!==0){var b=d.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),d.pending=o,o=Qr(s),Ku(s,null,c),o}return $u(s,d,o,c),Qr(s)}function Yn(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,qr(s,c)}}function or(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var b=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?b=S=O:S=S.next=O,c=c.next}while(c!==null);S===null?b=S=o:S=S.next=o}else b=S=o;c={baseState:d.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Vr=!1;function fi(){if(Vr){var s=_;if(s!==null)throw s}}function Xi(s,o,c,d){Vr=!1;var b=s.updateQueue;ft=!1;var S=b.firstBaseUpdate,O=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var ye=ee,Oe=ye.next;ye.next=null,O===null?S=Oe:O.next=Oe,O=ye;var Ke=s.alternate;Ke!==null&&(Ke=Ke.updateQueue,ee=Ke.lastBaseUpdate,ee!==O&&(ee===null?Ke.firstBaseUpdate=Oe:ee.next=Oe,Ke.lastBaseUpdate=ye))}if(S!==null){var Qe=b.baseState;O=0,Ke=Oe=ye=null,ee=S;do{var Fe=ee.lane&-536870913,ze=Fe!==ee.lane;if(ze?(Cn&Fe)===Fe:(d&Fe)===Fe){Fe!==0&&Fe===m&&(Vr=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var bt=s,Kt=ee;Fe=o;var mi=c;switch(Kt.tag){case 1:if(bt=Kt.payload,typeof bt=="function"){Qe=bt.call(mi,Qe,Fe);break e}Qe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Kt.payload,Fe=typeof bt=="function"?bt.call(mi,Qe,Fe):bt,Fe==null)break e;Qe=v({},Qe,Fe);break e;case 2:ft=!0}}Fe=ee.callback,Fe!==null&&(s.flags|=64,ze&&(s.flags|=8192),ze=b.callbacks,ze===null?b.callbacks=[Fe]:ze.push(Fe))}else ze={lane:Fe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ke===null?(Oe=Ke=ze,ye=Qe):Ke=Ke.next=ze,O|=Fe;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;ze=ee,ee=ze.next,ze.next=null,b.lastBaseUpdate=ze,b.shared.pending=null}}while(!0);Ke===null&&(ye=Qe),b.baseState=ye,b.firstBaseUpdate=Oe,b.lastBaseUpdate=Ke,S===null&&(b.shared.lanes=0),Kc|=O,s.lanes=O,s.memoizedState=Qe}}function Zr(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Qi(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Zr(c[s],o)}var bn=V(null),Mn=V(0);function Ei(s,o){s=ic,G(Mn,s),G(bn,o),ic=s|o.baseLanes}function zn(){G(Mn,ic),G(bn,bn.current)}function lr(){ic=Mn.current,P(bn),P(Mn)}var Ni=V(null),On=null;function qi(s){var o=s.alternate;G(Pn,Pn.current&1),G(Ni,s),On===null&&(o===null||bn.current!==null||o.memoizedState!==null)&&(On=s)}function Xn(s){G(Pn,Pn.current),G(Ni,s),On===null&&(On=s)}function Ji(s){s.tag===22?(G(Pn,Pn.current),G(Ni,s),On===null&&(On=s)):Zi()}function Zi(){G(Pn,Pn.current),G(Ni,Ni.current)}function ii(s){P(Ni),On===s&&(On=null),P(Pn)}var Pn=V(0);function es(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||N2(c)||C2(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pi=0,kt=null,Bt=null,Vn=null,Is=!1,ga=!1,ys=!1,er=0,dl=0,pl=null,Kh=0;function di(){throw Error(i(321))}function Sd(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!jr(s[c],o[c]))return!1;return!0}function Ad(s,o,c,d,b,S){return Pi=S,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,oe.H=s===null||s.memoizedState===null?Aw:V0,ys=!1,S=c(d,b),ys=!1,ga&&(S=jo(o,c,d,b)),Yh(s),S}function Yh(s){oe.H=Dd;var o=Bt!==null&&Bt.next!==null;if(Pi=0,Vn=Bt=kt=null,Is=!1,dl=0,pl=null,o)throw Error(i(300));s===null||wr||(s=s.dependencies,s!==null&&Gh(s)&&(wr=!0))}function jo(s,o,c,d){kt=s;var b=0;do{if(ga&&(pl=null),dl=0,ga=!1,25<=b)throw Error(i(301));if(b+=1,Vn=Bt=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}oe.H=Tw,S=o(c,d)}while(ga);return S}function L0(){var s=oe.H,o=s.useState()[0];return o=typeof o.then=="function"?ml(o):o,s=s.useState()[0],(Bt!==null?Bt.memoizedState:null)!==s&&(kt.flags|=1024),o}function Td(){var s=er!==0;return er=0,s}function Ed(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Xh(s){if(Is){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Is=!1}Pi=0,Vn=Bt=kt=null,ga=!1,dl=er=0,pl=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?kt.memoizedState=Vn=s:Vn=Vn.next=s,Vn}function ki(){if(Bt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=Bt.next;var o=Vn===null?kt.memoizedState:Vn.next;if(o!==null)Vn=o,Bt=s;else{if(s===null)throw kt.alternate===null?Error(i(467)):Error(i(310));Bt=s,s={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Vn===null?kt.memoizedState=Vn=s:Vn=Vn.next=s}return Vn}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(s){var o=dl;return dl+=1,pl===null&&(pl=[]),s=We(pl,s,o),o=kt,(Vn===null?o.memoizedState:Vn.next)===null&&(o=o.alternate,oe.H=o===null||o.memoizedState===null?Aw:V0),s}function zc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ml(s);if(s.$$typeof===Y)return Or(s)}throw Error(i(438,String(s)))}function Kl(s){var o=null,c=kt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=kt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=eh(),kt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=W;return o.index++,c}function ao(s,o){return typeof o=="function"?o(s):o}function Qh(s){var o=ki();return qc(o,Bt,s)}function qc(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var b=s.baseQueue,S=d.pending;if(S!==null){if(b!==null){var O=b.next;b.next=S.next,S.next=O}o.baseQueue=b=S,d.pending=null}if(S=s.baseState,b===null)s.memoizedState=S;else{o=b.next;var ee=O=null,ye=null,Oe=o,Ke=!1;do{var Qe=Oe.lane&-536870913;if(Qe!==Oe.lane?(Cn&Qe)===Qe:(Pi&Qe)===Qe){var Fe=Oe.revertLane;if(Fe===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Qe===m&&(Ke=!0);else if((Pi&Fe)===Fe){Oe=Oe.next,Fe===m&&(Ke=!0);continue}else Qe={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ye===null?(ee=ye=Qe,O=S):ye=ye.next=Qe,kt.lanes|=Fe,Kc|=Fe;Qe=Oe.action,ys&&c(S,Qe),S=Oe.hasEagerState?Oe.eagerState:c(S,Qe)}else Fe={lane:Qe,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ye===null?(ee=ye=Fe,O=S):ye=ye.next=Fe,kt.lanes|=Qe,Kc|=Qe;Oe=Oe.next}while(Oe!==null&&Oe!==o);if(ye===null?O=S:ye.next=ee,!jr(S,s.memoizedState)&&(wr=!0,Ke&&(c=_,c!==null)))throw c;s.memoizedState=S,s.baseState=O,s.baseQueue=ye,d.lastRenderedState=S}return b===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Jh(s){var o=ki(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,b=c.pending,S=o.memoizedState;if(b!==null){c.pending=null;var O=b=b.next;do S=s(S,O.action),O=O.next;while(O!==b);jr(S,o.memoizedState)||(wr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),c.lastRenderedState=S}return[S,d]}function Zh(s,o,c){var d=kt,b=ki(),S=Sn;if(S){if(c===void 0)throw Error(i(407));c=c()}else c=o();var O=!jr((Bt||b).memoizedState,c);if(O&&(b.memoizedState=c,wr=!0),b=b.queue,D0(Cd.bind(null,d,b,s),[s]),b.getSnapshot!==o||O||Vn!==null&&Vn.memoizedState.tag&1){if(d.flags|=2048,Xl(9,{destroy:void 0},Nd.bind(null,d,b,c,o),null),wi===null)throw Error(i(349));S||(Pi&127)!==0||Po(d,o,c)}return c}function Po(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=kt.updateQueue,o===null?(o=eh(),kt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Nd(s,o,c,d){o.value=c,o.getSnapshot=d,Tm(o)&&Rd(s)}function Cd(s,o,c){return c(function(){Tm(o)&&Rd(s)})}function Tm(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!jr(s,c)}catch{return!0}}function Rd(s){var o=Lo(s,2);o!==null&&_a(o,s,2)}function gl(s){var o=br();if(typeof s=="function"){var c=s;if(s=c(),ys){Gt(!0);try{c()}finally{Gt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:s},o}function Em(s,o,c,d){return s.baseState=c,qc(s,Bt,typeof d=="function"?d:ao)}function Nm(s,o,c,d,b){if(Lm(s))throw Error(i(485));if(s=o.action,s!==null){var S={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};oe.T!==null?c(!0):S.isTransition=!1,d(S),c=o.pending,c===null?(S.next=o.pending=S,Cm(o,S)):(S.next=c.next,o.pending=c.next=S)}}function Cm(s,o){var c=o.action,d=o.payload,b=s.state;if(o.isTransition){var S=oe.T,O={};oe.T=O;try{var ee=c(b,d),ye=oe.S;ye!==null&&ye(O,ee),Id(s,o,ee)}catch(Oe){Yl(s,o,Oe)}finally{S!==null&&O.types!==null&&(S.types=O.types),oe.T=S}}else try{S=c(b,d),Id(s,o,S)}catch(Oe){Yl(s,o,Oe)}}function Id(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Rm(s,o,d)},function(d){return Yl(s,o,d)}):Rm(s,o,c)}function Rm(s,o,c){o.status="fulfilled",o.value=c,ef(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Cm(s,c)))}function Yl(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,ef(o),o=o.next;while(o!==d)}s.action=null}function ef(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function th(s,o){return o}function oo(s,o){if(Sn){var c=wi.formState;if(c!==null){e:{var d=kt;if(Sn){if(vi){t:{for(var b=vi,S=ji;b.nodeType!==8;){if(!S){b=null;break t}if(b=lo(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){vi=lo(b.nextSibling),d=b.data==="F!";break e}}ll(d)}d=!1}d&&(o=c[0])}}return c=br(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:o},c.queue=d,c=_w.bind(null,kt,d),d.dispatch=c,d=gl(!1),S=O0.bind(null,kt,!1,d.queue),d=br(),b={state:o,dispatch:null,action:s,pending:null},d.queue=b,c=Nm.bind(null,kt,b,S,c),b.dispatch=c,d.memoizedState=s,[o,c,!1]}function ko(s){var o=ki();return Mo(o,Bt,s)}function Mo(s,o,c){if(o=qc(s,o,th)[0],s=Qh(ao)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=ml(o)}catch(O){throw O===we?le:O}else d=o;o=ki();var b=o.queue,S=b.dispatch;return c!==o.memoizedState&&(kt.flags|=2048,Xl(9,{destroy:void 0},tf.bind(null,b,c),null)),[d,S,s]}function tf(s,o){s.action=o}function nf(s){var o=ki(),c=Bt;if(c!==null)return Mo(o,c,s);ki(),o=o.memoizedState,c=ki();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function Xl(s,o,c,d){return s={tag:s,create:c,deps:d,inst:o,next:null},o=kt.updateQueue,o===null&&(o=eh(),kt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function Im(){return ki().memoizedState}function Hc(s,o,c,d){var b=br();kt.flags|=s,b.memoizedState=Xl(1|o,{destroy:void 0},c,d===void 0?null:d)}function Gc(s,o,c,d){var b=ki();d=d===void 0?null:d;var S=b.memoizedState.inst;Bt!==null&&d!==null&&Sd(d,Bt.memoizedState.deps)?b.memoizedState=Xl(o,S,c,d):(kt.flags|=s,b.memoizedState=Xl(1|o,S,c,d))}function ow(s,o){Hc(8390656,8,s,o)}function D0(s,o){Gc(2048,8,s,o)}function u7(s){kt.flags|=4;var o=kt.updateQueue;if(o===null)o=eh(),kt.updateQueue=o,o.events=[s];else{var c=o.events;c===null?o.events=[s]:c.push(s)}}function lw(s){var o=ki().memoizedState;return u7({ref:o,nextImpl:s}),function(){if((Qn&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function cw(s,o){return Gc(4,2,s,o)}function uw(s,o){return Gc(4,4,s,o)}function hw(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function fw(s,o,c){c=c!=null?c.concat([s]):null,Gc(4,4,hw.bind(null,o,s),c)}function j0(){}function dw(s,o){var c=ki();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Sd(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function pw(s,o){var c=ki();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Sd(o,d[1]))return d[0];if(d=s(),ys){Gt(!0);try{s()}finally{Gt(!1)}}return c.memoizedState=[d,o],d}function P0(s,o,c){return c===void 0||(Pi&1073741824)!==0&&(Cn&261930)===0?s.memoizedState=o:(s.memoizedState=c,s=m4(),kt.lanes|=s,Kc|=s,c)}function mw(s,o,c,d){return jr(c,o)?c:bn.current!==null?(s=P0(s,c,d),jr(s,o)||(wr=!0),s):(Pi&42)===0||(Pi&1073741824)!==0&&(Cn&261930)===0?(wr=!0,s.memoizedState=c):(s=m4(),kt.lanes|=s,Kc|=s,o)}function gw(s,o,c,d,b){var S=me.p;me.p=S!==0&&8>S?S:8;var O=oe.T,ee={};oe.T=ee,O0(s,!1,o,c);try{var ye=b(),Oe=oe.S;if(Oe!==null&&Oe(ee,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ke=q(ye,d);Ld(s,o,Ke,Va(s))}else Ld(s,o,d,Va(s))}catch(Qe){Ld(s,o,{then:function(){},status:"rejected",reason:Qe},Va())}finally{me.p=S,O!==null&&ee.types!==null&&(O.types=ee.types),oe.T=O}}function h7(){}function k0(s,o,c,d){if(s.tag!==5)throw Error(i(476));var b=yw(s).queue;gw(s,b,o,se,c===null?h7:function(){return vw(s),c(d)})}function yw(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:se},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function vw(s){var o=yw(s);o.next===null&&(o=s.alternate.memoizedState),Ld(s,o.next.queue,{},Va())}function M0(){return Or(Kd)}function bw(){return ki().memoizedState}function ww(){return ki().memoizedState}function f7(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Va();s=Wt(c);var d=fn(o,s,c);d!==null&&(_a(d,o,c),Yn(d,o,c)),o={cache:Uc()},s.payload=o;return}o=o.return}}function d7(s,o,c){var d=Va();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lm(s)?xw(o,c):(c=Oh(s,o,c,d),c!==null&&(_a(c,s,d),Sw(c,o,d)))}function _w(s,o,c){var d=Va();Ld(s,o,c,d)}function Ld(s,o,c,d){var b={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lm(s))xw(o,b);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var O=o.lastRenderedState,ee=S(O,c);if(b.hasEagerState=!0,b.eagerState=ee,jr(ee,O))return $u(s,o,b,0),wi===null&&Wu(),!1}catch{}if(c=Oh(s,o,b,d),c!==null)return _a(c,s,d),Sw(c,o,d),!0}return!1}function O0(s,o,c,d){if(d={lane:2,revertLane:m2(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Lm(s)){if(o)throw Error(i(479))}else o=Oh(s,c,d,2),o!==null&&_a(o,s,2)}function Lm(s){var o=s.alternate;return s===kt||o!==null&&o===kt}function xw(s,o){ga=Is=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Sw(s,o,c){if((c&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,qr(s,c)}}var Dd={readContext:Or,use:zc,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useLayoutEffect:di,useInsertionEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useSyncExternalStore:di,useId:di,useHostTransitionStatus:di,useFormState:di,useActionState:di,useOptimistic:di,useMemoCache:di,useCacheRefresh:di};Dd.useEffectEvent=di;var Aw={readContext:Or,use:zc,useCallback:function(s,o){return br().memoizedState=[s,o===void 0?null:o],s},useContext:Or,useEffect:ow,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Hc(4194308,4,hw.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hc(4194308,4,s,o)},useInsertionEffect:function(s,o){Hc(4,2,s,o)},useMemo:function(s,o){var c=br();o=o===void 0?null:o;var d=s();if(ys){Gt(!0);try{s()}finally{Gt(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=br();if(c!==void 0){var b=c(o);if(ys){Gt(!0);try{c(o)}finally{Gt(!1)}}}else b=o;return d.memoizedState=d.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},d.queue=s,s=s.dispatch=d7.bind(null,kt,s),[d.memoizedState,s]},useRef:function(s){var o=br();return s={current:s},o.memoizedState=s},useState:function(s){s=gl(s);var o=s.queue,c=_w.bind(null,kt,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:j0,useDeferredValue:function(s,o){var c=br();return P0(c,s,o)},useTransition:function(){var s=gl(!1);return s=gw.bind(null,kt,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=kt,b=br();if(Sn){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),wi===null)throw Error(i(349));(Cn&127)!==0||Po(d,o,c)}b.memoizedState=c;var S={value:c,getSnapshot:o};return b.queue=S,ow(Cd.bind(null,d,S,s),[s]),d.flags|=2048,Xl(9,{destroy:void 0},Nd.bind(null,d,S,c,o),null),c},useId:function(){var s=br(),o=wi.identifierPrefix;if(Sn){var c=pa,d=da;c=(d&~(1<<32-an(d)-1)).toString(32)+c,o="_"+o+"R_"+c,c=er++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Kh++,o="_"+o+"r_"+c.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:M0,useFormState:oo,useActionState:oo,useOptimistic:function(s){var o=br();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=O0.bind(null,kt,!0,c),c.dispatch=o,[s,o]},useMemoCache:Kl,useCacheRefresh:function(){return br().memoizedState=f7.bind(null,kt)},useEffectEvent:function(s){var o=br(),c={impl:s};return o.memoizedState=c,function(){if((Qn&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},V0={readContext:Or,use:zc,useCallback:dw,useContext:Or,useEffect:D0,useImperativeHandle:fw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:pw,useReducer:Qh,useRef:Im,useState:function(){return Qh(ao)},useDebugValue:j0,useDeferredValue:function(s,o){var c=ki();return mw(c,Bt.memoizedState,s,o)},useTransition:function(){var s=Qh(ao)[0],o=ki().memoizedState;return[typeof s=="boolean"?s:ml(s),o]},useSyncExternalStore:Zh,useId:bw,useHostTransitionStatus:M0,useFormState:ko,useActionState:ko,useOptimistic:function(s,o){var c=ki();return Em(c,Bt,s,o)},useMemoCache:Kl,useCacheRefresh:ww};V0.useEffectEvent=lw;var Tw={readContext:Or,use:zc,useCallback:dw,useContext:Or,useEffect:D0,useImperativeHandle:fw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:pw,useReducer:Jh,useRef:Im,useState:function(){return Jh(ao)},useDebugValue:j0,useDeferredValue:function(s,o){var c=ki();return Bt===null?P0(c,s,o):mw(c,Bt.memoizedState,s,o)},useTransition:function(){var s=Jh(ao)[0],o=ki().memoizedState;return[typeof s=="boolean"?s:ml(s),o]},useSyncExternalStore:Zh,useId:bw,useHostTransitionStatus:M0,useFormState:nf,useActionState:nf,useOptimistic:function(s,o){var c=ki();return Bt!==null?Em(c,Bt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Kl,useCacheRefresh:ww};Tw.useEffectEvent=lw;function B0(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:v({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var F0={enqueueSetState:function(s,o,c){s=s._reactInternals;var d=Va(),b=Wt(d);b.payload=o,c!=null&&(b.callback=c),o=fn(s,b,d),o!==null&&(_a(o,s,d),Yn(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=Va(),b=Wt(d);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=fn(s,b,d),o!==null&&(_a(o,s,d),Yn(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Va(),d=Wt(c);d.tag=2,o!=null&&(d.callback=o),o=fn(s,d,c),o!==null&&(_a(o,s,c),Yn(o,s,c))}};function Ew(s,o,c,d,b,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,S,O):o.prototype&&o.prototype.isPureReactComponent?!No(c,d)||!No(b,S):!0}function Nw(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&F0.enqueueReplaceState(o,o.state,null)}function nh(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=v({},c));for(var b in s)c[b]===void 0&&(c[b]=s[b])}return c}function Cw(s){Gu(s)}function Rw(s){console.error(s)}function Iw(s){Gu(s)}function Dm(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Lw(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function U0(s,o,c){return c=Wt(c),c.tag=3,c.payload={element:null},c.callback=function(){Dm(s,o)},c}function Dw(s){return s=Wt(s),s.tag=3,s}function jw(s,o,c,d){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var S=d.value;s.payload=function(){return b(S)},s.callback=function(){Lw(o,c,d)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){Lw(o,c,d),typeof b!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var ee=d.stack;this.componentDidCatch(d.value,{componentStack:ee!==null?ee:""})})}function p7(s,o,c,d,b){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&hl(o,c,b,!0),c=Ni.current,c!==null){switch(c.tag){case 31:case 13:return On===null?Hm():c.alternate===null&&tr===0&&(tr=3),c.flags&=-257,c.flags|=65536,c.lanes=b,d===Se?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),f2(s,d,b)),!1;case 22:return c.flags|=65536,d===Se?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),f2(s,d,b)),!1}throw Error(i(435,c.tag))}return f2(s,d,b),Hm(),!1}if(Sn)return o=Ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,d!==ka&&(s=Error(i(422),{cause:d}),Bc(ua(s,c)))):(d!==ka&&(o=Error(i(423),{cause:d}),Bc(ua(o,c))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,d=ua(d,c),b=U0(s.stateNode,d,b),or(s,b),tr!==4&&(tr=2)),!1;var S=Error(i(520),{cause:d});if(S=ua(S,c),Fd===null?Fd=[S]:Fd.push(S),tr!==4&&(tr=2),o===null)return!0;d=ua(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=b&-b,c.lanes|=s,s=U0(c.stateNode,d,s),or(c,s),!1;case 1:if(o=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Yc===null||!Yc.has(S))))return c.flags|=65536,b&=-b,c.lanes|=b,b=Dw(b),jw(b,s,c,d),or(c,b),!1}c=c.return}while(c!==null);return!1}var z0=Error(i(461)),wr=!1;function vs(s,o,c,d){o.child=s===null?ln(o,null,c,d):bi(o,s.child,c,d)}function Pw(s,o,c,d,b){c=c.render;var S=o.ref;if("ref"in d){var O={};for(var ee in d)ee!=="ref"&&(O[ee]=d[ee])}else O=d;return fl(o),d=Ad(s,o,c,O,S,b),ee=Td(),s!==null&&!wr?(Ed(s,o,b),Ql(s,o,b)):(Sn&&ee&&wd(o),o.flags|=1,vs(s,o,d,b),o.child)}function kw(s,o,c,d,b){if(s===null){var S=c.type;return typeof S=="function"&&!Bh(S)&&S.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=S,Mw(s,o,S,d,b)):(s=Mc(c.type,null,d,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(S=s.child,!X0(s,b)){var O=S.memoizedProps;if(c=c.compare,c=c!==null?c:No,c(O,d)&&s.ref===o.ref)return Ql(s,o,b)}return o.flags|=1,s=ca(S,d),s.ref=o.ref,s.return=o,o.child=s}function Mw(s,o,c,d,b){if(s!==null){var S=s.memoizedProps;if(No(S,d)&&s.ref===o.ref)if(wr=!1,o.pendingProps=d=S,X0(s,b))(s.flags&131072)!==0&&(wr=!0);else return o.lanes=s.lanes,Ql(s,o,b)}return q0(s,o,c,d,b)}function Ow(s,o,c,d){var b=d.children,S=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,s!==null){for(d=o.child=s.child,b=0;d!==null;)b=b|d.lanes|d.childLanes,d=d.sibling;d=b&~S}else d=0,o.child=null;return Vw(s,o,S,c,d)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&ie(o,S!==null?S.cachePool:null),S!==null?Ei(o,S):zn(),Ji(o);else return d=o.lanes=536870912,Vw(s,o,S!==null?S.baseLanes|c:c,c,d)}else S!==null?(ie(o,S.cachePool),Ei(o,S),Zi(),o.memoizedState=null):(s!==null&&ie(o,null),zn(),Zi());return vs(s,o,b,c),o.child}function jd(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Vw(s,o,c,d,b){var S=te();return S=S===null?null:{parent:zi._currentValue,pool:S},o.memoizedState={baseLanes:c,cachePool:S},s!==null&&ie(o,null),zn(),Ji(o),s!==null&&hl(s,o,d,!0),o.childLanes=b,null}function jm(s,o){return o=km({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Bw(s,o,c){return bi(o,s.child,null,c),s=jm(o,o.pendingProps),s.flags|=2,ii(o),o.memoizedState=null,s}function m7(s,o,c){var d=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Sn){if(d.mode==="hidden")return s=jm(o,d),o.lanes=536870912,jd(null,s);if(Xn(o),(s=vi)?(s=Q4(s,ji),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ol!==null?{id:da,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},c=Fh(s),c.return=o,o.child=c,kr=o,vi=null)):s=null,s===null)throw ll(o);return o.lanes=536870912,null}return jm(o,d)}var S=s.memoizedState;if(S!==null){var O=S.dehydrated;if(Xn(o),b)if(o.flags&256)o.flags&=-257,o=Bw(s,o,c);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(wr||hl(s,o,c,!1),b=(c&s.childLanes)!==0,wr||b){if(d=wi,d!==null&&(O=Hr(d,c),O!==0&&O!==S.retryLane))throw S.retryLane=O,Lo(s,O),_a(d,s,O),z0;Hm(),o=Bw(s,o,c)}else s=S.treeContext,vi=lo(O.nextSibling),kr=o,Sn=!0,gs=null,ji=!1,s!==null&&Sm(o,s),o=jm(o,d),o.flags|=4096;return o}return s=ca(s.child,{mode:d.mode,children:d.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Pm(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function q0(s,o,c,d,b){return fl(o),c=Ad(s,o,c,d,void 0,b),d=Td(),s!==null&&!wr?(Ed(s,o,b),Ql(s,o,b)):(Sn&&d&&wd(o),o.flags|=1,vs(s,o,c,b),o.child)}function Fw(s,o,c,d,b,S){return fl(o),o.updateQueue=null,c=jo(o,d,c,b),Yh(s),d=Td(),s!==null&&!wr?(Ed(s,o,S),Ql(s,o,S)):(Sn&&d&&wd(o),o.flags|=1,vs(s,o,c,S),o.child)}function Uw(s,o,c,d,b){if(fl(o),o.stateNode===null){var S=Pr,O=c.contextType;typeof O=="object"&&O!==null&&(S=Or(O)),S=new c(d,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=F0,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=d,S.state=o.memoizedState,S.refs={},at(o),O=c.contextType,S.context=typeof O=="object"&&O!==null?Or(O):Pr,S.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(B0(o,c,O,d),S.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&F0.enqueueReplaceState(S,S.state,null),Xi(o,d,S,b),fi(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){S=o.stateNode;var ee=o.memoizedProps,ye=nh(c,ee);S.props=ye;var Oe=S.context,Ke=c.contextType;O=Pr,typeof Ke=="object"&&Ke!==null&&(O=Or(Ke));var Qe=c.getDerivedStateFromProps;Ke=typeof Qe=="function"||typeof S.getSnapshotBeforeUpdate=="function",ee=o.pendingProps!==ee,Ke||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(ee||Oe!==O)&&Nw(o,S,d,O),ft=!1;var Fe=o.memoizedState;S.state=Fe,Xi(o,d,S,b),fi(),Oe=o.memoizedState,ee||Fe!==Oe||ft?(typeof Qe=="function"&&(B0(o,c,Qe,d),Oe=o.memoizedState),(ye=ft||Ew(o,c,ye,d,Fe,Oe,O))?(Ke||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Oe),S.props=d,S.state=Oe,S.context=O,d=ye):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,Ti(s,o),O=o.memoizedProps,Ke=nh(c,O),S.props=Ke,Qe=o.pendingProps,Fe=S.context,Oe=c.contextType,ye=Pr,typeof Oe=="object"&&Oe!==null&&(ye=Or(Oe)),ee=c.getDerivedStateFromProps,(Oe=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==Qe||Fe!==ye)&&Nw(o,S,d,ye),ft=!1,Fe=o.memoizedState,S.state=Fe,Xi(o,d,S,b),fi();var ze=o.memoizedState;O!==Qe||Fe!==ze||ft||s!==null&&s.dependencies!==null&&Gh(s.dependencies)?(typeof ee=="function"&&(B0(o,c,ee,d),ze=o.memoizedState),(Ke=ft||Ew(o,c,Ke,d,Fe,ze,ye)||s!==null&&s.dependencies!==null&&Gh(s.dependencies))?(Oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,ze,ye),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,ze,ye)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ze),S.props=d,S.state=ze,S.context=ye,d=Ke):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&Fe===s.memoizedState||(o.flags|=1024),d=!1)}return S=d,Pm(s,o),d=(o.flags&128)!==0,S||d?(S=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,s!==null&&d?(o.child=bi(o,s.child,null,b),o.child=bi(o,null,c,b)):vs(s,o,c,b),o.memoizedState=S.state,s=o.child):s=Ql(s,o,b),s}function zw(s,o,c,d){return Wl(),o.flags|=256,vs(s,o,c,d),o.child}var H0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G0(s){return{baseLanes:s,cachePool:fe()}}function W0(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Oa),s}function qw(s,o,c){var d=o.pendingProps,b=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(Pn.current&2)!==0),O&&(b=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,s===null){if(Sn){if(b?qi(o):Zi(),(s=vi)?(s=Q4(s,ji),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ol!==null?{id:da,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},c=Fh(s),c.return=o,o.child=c,kr=o,vi=null)):s=null,s===null)throw ll(o);return C2(s)?o.lanes=32:o.lanes=536870912,null}var ee=d.children;return d=d.fallback,b?(Zi(),b=o.mode,ee=km({mode:"hidden",children:ee},b),d=al(d,b,c,null),ee.return=o,d.return=o,ee.sibling=d,o.child=ee,d=o.child,d.memoizedState=G0(c),d.childLanes=W0(s,O,c),o.memoizedState=H0,jd(null,d)):(qi(o),$0(o,ee))}var ye=s.memoizedState;if(ye!==null&&(ee=ye.dehydrated,ee!==null)){if(S)o.flags&256?(qi(o),o.flags&=-257,o=K0(s,o,c)):o.memoizedState!==null?(Zi(),o.child=s.child,o.flags|=128,o=null):(Zi(),ee=d.fallback,b=o.mode,d=km({mode:"visible",children:d.children},b),ee=al(ee,b,c,null),ee.flags|=2,d.return=o,ee.return=o,d.sibling=ee,o.child=d,bi(o,s.child,null,c),d=o.child,d.memoizedState=G0(c),d.childLanes=W0(s,O,c),o.memoizedState=H0,o=jd(null,d));else if(qi(o),C2(ee)){if(O=ee.nextSibling&&ee.nextSibling.dataset,O)var Oe=O.dgst;O=Oe,d=Error(i(419)),d.stack="",d.digest=O,Bc({value:d,source:null,stack:null}),o=K0(s,o,c)}else if(wr||hl(s,o,c,!1),O=(c&s.childLanes)!==0,wr||O){if(O=wi,O!==null&&(d=Hr(O,c),d!==0&&d!==ye.retryLane))throw ye.retryLane=d,Lo(s,d),_a(O,s,d),z0;N2(ee)||Hm(),o=K0(s,o,c)}else N2(ee)?(o.flags|=192,o.child=s.child,o=null):(s=ye.treeContext,vi=lo(ee.nextSibling),kr=o,Sn=!0,gs=null,ji=!1,s!==null&&Sm(o,s),o=$0(o,d.children),o.flags|=4096);return o}return b?(Zi(),ee=d.fallback,b=o.mode,ye=s.child,Oe=ye.sibling,d=ca(ye,{mode:"hidden",children:d.children}),d.subtreeFlags=ye.subtreeFlags&65011712,Oe!==null?ee=ca(Oe,ee):(ee=al(ee,b,c,null),ee.flags|=2),ee.return=o,d.return=o,d.sibling=ee,o.child=d,jd(null,d),d=o.child,ee=s.child.memoizedState,ee===null?ee=G0(c):(b=ee.cachePool,b!==null?(ye=zi._currentValue,b=b.parent!==ye?{parent:ye,pool:ye}:b):b=fe(),ee={baseLanes:ee.baseLanes|c,cachePool:b}),d.memoizedState=ee,d.childLanes=W0(s,O,c),o.memoizedState=H0,jd(s.child,d)):(qi(o),c=s.child,s=c.sibling,c=ca(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(O=o.deletions,O===null?(o.deletions=[s],o.flags|=16):O.push(s)),o.child=c,o.memoizedState=null,c)}function $0(s,o){return o=km({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function km(s,o){return s=Jr(22,s,null,o),s.lanes=0,s}function K0(s,o,c){return bi(o,s.child,null,c),s=$0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Hw(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Fc(s.return,o,c)}function Y0(s,o,c,d,b,S){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:b,treeForkCount:S}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=d,O.tail=c,O.tailMode=b,O.treeForkCount=S)}function Gw(s,o,c){var d=o.pendingProps,b=d.revealOrder,S=d.tail;d=d.children;var O=Pn.current,ee=(O&2)!==0;if(ee?(O=O&1|2,o.flags|=128):O&=1,G(Pn,O),vs(s,o,d,c),d=Sn?Qu:0,!ee&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hw(s,c,o);else if(s.tag===19)Hw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)s=c.alternate,s!==null&&es(s)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),Y0(o,!1,b,c,S,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&es(s)===null){o.child=b;break}s=b.sibling,b.sibling=c,c=b,b=s}Y0(o,!0,c,null,S,d);break;case"together":Y0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ql(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Kc|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(hl(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=ca(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ca(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function X0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Gh(s)))}function g7(s,o,c){switch(o.tag){case 3:xe(o,o.stateNode.containerInfo),ul(o,zi,s.memoizedState.cache),Wl();break;case 27:case 5:Ve(o);break;case 4:xe(o,o.stateNode.containerInfo);break;case 10:ul(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Xn(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(qi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?qw(s,o,c):(qi(o),s=Ql(s,o,c),s!==null?s.sibling:null);qi(o);break;case 19:var b=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(hl(s,o,c,!1),d=(c&o.childLanes)!==0),b){if(d)return Gw(s,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(Pn,Pn.current),d)break;return null;case 22:return o.lanes=0,Ow(s,o,c,o.pendingProps);case 24:ul(o,zi,s.memoizedState.cache)}return Ql(s,o,c)}function Ww(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)wr=!0;else{if(!X0(s,c)&&(o.flags&128)===0)return wr=!1,g7(s,o,c);wr=(s.flags&131072)!==0}else wr=!1,Sn&&(o.flags&1048576)!==0&&xm(o,Qu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(s=De(o.elementType),o.type=s,typeof s=="function")Bh(s)?(d=nh(s,d),o.tag=1,o=Uw(null,o,s,d,c)):(o.tag=0,o=q0(null,o,s,d,c));else{if(s!=null){var b=s.$$typeof;if(b===Z){o.tag=11,o=Pw(null,o,s,d,c);break e}else if(b===U){o.tag=14,o=kw(null,o,s,d,c);break e}}throw o=ce(s)||s,Error(i(306,o,""))}}return o;case 0:return q0(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,b=nh(d,o.pendingProps),Uw(s,o,d,b,c);case 3:e:{if(xe(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var S=o.memoizedState;b=S.element,Ti(s,o),Xi(o,d,null,c);var O=o.memoizedState;if(d=O.cache,ul(o,zi,d),d!==S.cache&&$l(o,[zi],c,!0),fi(),d=O.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=zw(s,o,d,c);break e}else if(d!==b){b=ua(Error(i(424)),o),Bc(b),o=zw(s,o,d,c);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,vi=lo(s.firstChild),kr=o,Sn=!0,gs=null,ji=!0,c=ln(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wl(),d===b){o=Ql(s,o,c);break e}vs(s,o,d,c)}o=o.child}return o;case 26:return Pm(s,o),s===null?(c=i_(o.type,null,o.pendingProps,null))?o.memoizedState=c:Sn||(c=o.type,s=o.pendingProps,d=Qm(de.current).createElement(c),d[Hn]=o,d[ti]=s,bs(d,c,s),Ai(d),o.stateNode=d):o.memoizedState=i_(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ve(o),s===null&&Sn&&(d=o.stateNode=e_(o.type,o.pendingProps,de.current),kr=o,ji=!0,b=vi,Zc(o.type)?(R2=b,vi=lo(d.firstChild)):vi=b),vs(s,o,o.pendingProps.children,c),Pm(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Sn&&((b=d=vi)&&(d=W7(d,o.type,o.pendingProps,ji),d!==null?(o.stateNode=d,kr=o,vi=lo(d.firstChild),ji=!1,b=!0):b=!1),b||ll(o)),Ve(o),b=o.type,S=o.pendingProps,O=s!==null?s.memoizedProps:null,d=S.children,A2(b,S)?d=null:O!==null&&A2(b,O)&&(o.flags|=32),o.memoizedState!==null&&(b=Ad(s,o,L0,null,null,c),Kd._currentValue=b),Pm(s,o),vs(s,o,d,c),o.child;case 6:return s===null&&Sn&&((s=c=vi)&&(c=$7(c,o.pendingProps,ji),c!==null?(o.stateNode=c,kr=o,vi=null,s=!0):s=!1),s||ll(o)),null;case 13:return qw(s,o,c);case 4:return xe(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=bi(o,null,d,c):vs(s,o,d,c),o.child;case 11:return Pw(s,o,o.type,o.pendingProps,c);case 7:return vs(s,o,o.pendingProps,c),o.child;case 8:return vs(s,o,o.pendingProps.children,c),o.child;case 12:return vs(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,ul(o,o.type,d.value),vs(s,o,d.children,c),o.child;case 9:return b=o.type._context,d=o.pendingProps.children,fl(o),b=Or(b),d=d(b),o.flags|=1,vs(s,o,d,c),o.child;case 14:return kw(s,o,o.type,o.pendingProps,c);case 15:return Mw(s,o,o.type,o.pendingProps,c);case 19:return Gw(s,o,c);case 31:return m7(s,o,c);case 22:return Ow(s,o,c,o.pendingProps);case 24:return fl(o),d=Or(zi),s===null?(b=te(),b===null&&(b=wi,S=Uc(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=c),b=S),o.memoizedState={parent:d,cache:b},at(o),ul(o,zi,b)):((s.lanes&c)!==0&&(Ti(s,o),Xi(o,null,null,c),fi()),b=s.memoizedState,S=o.memoizedState,b.parent!==d?(b={parent:d,cache:d},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),ul(o,zi,d)):(d=S.cache,ul(o,zi,d),d!==b.cache&&$l(o,[zi],c,!0))),vs(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Jl(s){s.flags|=4}function Q0(s,o,c,d,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(b4())s.flags|=8192;else throw He=Se,ke}else s.flags&=-16777217}function $w(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!l_(o))if(b4())s.flags|=8192;else throw He=Se,ke}function Mm(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ta():536870912,s.lanes|=o,of|=o)}function Pd(s,o){if(!Sn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ci(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var b=s.child;b!==null;)c|=b.lanes|b.childLanes,d|=b.subtreeFlags&65011712,d|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)c|=b.lanes|b.childLanes,d|=b.subtreeFlags,d|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function y7(s,o,c){var d=o.pendingProps;switch(qh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(o),null;case 1:return Ci(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ma(zi),Te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Mr(o)?Jl(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xd())),Ci(o),null;case 26:var b=o.type,S=o.memoizedState;return s===null?(Jl(o),S!==null?(Ci(o),$w(o,S)):(Ci(o),Q0(o,b,null,d,c))):S?S!==s.memoizedState?(Jl(o),Ci(o),$w(o,S)):(Ci(o),o.flags&=-16777217):(s=s.memoizedProps,s!==d&&Jl(o),Ci(o),Q0(o,b,s,d,c)),null;case 27:if(be(o),c=de.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Jl(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ci(o),null}s=K.current,Mr(o)?_d(o):(s=e_(b,d,c),o.stateNode=s,Jl(o))}return Ci(o),null;case 5:if(be(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Jl(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ci(o),null}if(S=K.current,Mr(o))_d(o);else{var O=Qm(de.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof d.is=="string"?O.createElement("select",{is:d.is}):O.createElement("select"),d.multiple?S.multiple=!0:d.size&&(S.size=d.size);break;default:S=typeof d.is=="string"?O.createElement(b,{is:d.is}):O.createElement(b)}}S[Hn]=o,S[ti]=d;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=S;e:switch(bs(S,b,d),b){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Jl(o)}}return Ci(o),Q0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,c),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Jl(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=de.current,Mr(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,b=kr,b!==null)switch(b.tag){case 27:case 5:d=b.memoizedProps}s[Hn]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||q4(s.nodeValue,c)),s||ll(o,!0)}else s=Qm(s).createTextNode(d),s[Hn]=o,o.stateNode=s}return Ci(o),null;case 31:if(c=o.memoizedState,s===null||s.memoizedState!==null){if(d=Mr(o),c!==null){if(s===null){if(!d)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Hn]=o}else Wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ci(o),s=!1}else c=xd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return o.flags&256?(ii(o),o):(ii(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Ci(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Mr(o),d!==null&&d.dehydrated!==null){if(s===null){if(!b)throw Error(i(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Hn]=o}else Wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ci(o),b=!1}else b=xd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(ii(o),o):(ii(o),null)}return ii(o),(o.flags&128)!==0?(o.lanes=c,o):(c=d!==null,s=s!==null&&s.memoizedState!==null,c&&(d=o.child,b=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(b=d.alternate.memoizedState.cachePool.pool),S=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==b&&(d.flags|=2048)),c!==s&&c&&(o.child.flags|=8192),Mm(o,o.updateQueue),Ci(o),null);case 4:return Te(),s===null&&b2(o.stateNode.containerInfo),Ci(o),null;case 10:return ma(o.type),Ci(o),null;case 19:if(P(Pn),d=o.memoizedState,d===null)return Ci(o),null;if(b=(o.flags&128)!==0,S=d.rendering,S===null)if(b)Pd(d,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=es(s),S!==null){for(o.flags|=128,Pd(d,!1),s=S.updateQueue,o.updateQueue=s,Mm(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Yu(c,s),c=c.sibling;return G(Pn,Pn.current&1|2),Sn&&Qs(o,d.treeForkCount),o.child}s=s.sibling}d.tail!==null&&Ht()>Um&&(o.flags|=128,b=!0,Pd(d,!1),o.lanes=4194304)}else{if(!b)if(s=es(S),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,Mm(o,s),Pd(d,!0),d.tail===null&&d.tailMode==="hidden"&&!S.alternate&&!Sn)return Ci(o),null}else 2*Ht()-d.renderingStartTime>Um&&c!==536870912&&(o.flags|=128,b=!0,Pd(d,!1),o.lanes=4194304);d.isBackwards?(S.sibling=o.child,o.child=S):(s=d.last,s!==null?s.sibling=S:o.child=S,d.last=S)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ht(),s.sibling=null,c=Pn.current,G(Pn,b?c&1|2:c&1),Sn&&Qs(o,d.treeForkCount),s):(Ci(o),null);case 22:case 23:return ii(o),lr(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(Ci(o),o.subtreeFlags&6&&(o.flags|=8192)):Ci(o),c=o.updateQueue,c!==null&&Mm(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&P(J),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ma(zi),Ci(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function v7(s,o){switch(qh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ma(zi),Te(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 31:if(o.memoizedState!==null){if(ii(o),o.alternate===null)throw Error(i(340));Wl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(ii(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Wl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return P(Pn),null;case 4:return Te(),null;case 10:return ma(o.type),null;case 22:case 23:return ii(o),lr(),s!==null&&P(J),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ma(zi),null;case 25:return null;default:return null}}function Kw(s,o){switch(qh(o),o.tag){case 3:ma(zi),Te();break;case 26:case 27:case 5:be(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&ii(o);break;case 13:ii(o);break;case 19:P(Pn);break;case 10:ma(o.type);break;case 22:case 23:ii(o),lr(),s!==null&&P(J);break;case 24:ma(zi)}}function kd(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var b=d.next;c=b;do{if((c.tag&s)===s){d=void 0;var S=c.create,O=c.inst;d=S(),O.destroy=d}c=c.next}while(c!==b)}}catch(ee){si(o,o.return,ee)}}function Wc(s,o,c){try{var d=o.updateQueue,b=d!==null?d.lastEffect:null;if(b!==null){var S=b.next;d=S;do{if((d.tag&s)===s){var O=d.inst,ee=O.destroy;if(ee!==void 0){O.destroy=void 0,b=o;var ye=c,Oe=ee;try{Oe()}catch(Ke){si(b,ye,Ke)}}}d=d.next}while(d!==S)}}catch(Ke){si(o,o.return,Ke)}}function Yw(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{Qi(o,c)}catch(d){si(s,s.return,d)}}}function Xw(s,o,c){c.props=nh(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){si(s,o,d)}}function Md(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(b){si(s,o,b)}}function yl(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(b){si(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){si(s,o,b)}else c.current=null}function Qw(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(b){si(s,s.return,b)}}function J0(s,o,c){try{var d=s.stateNode;F7(d,s.type,c,o),d[ti]=o}catch(b){si(s,s.return,b)}}function Jw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zc(s.type)||s.tag===4}function Z0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function e2(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Hs));else if(d!==4&&(d===27&&Zc(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(e2(s,o,c),s=s.sibling;s!==null;)e2(s,o,c),s=s.sibling}function Om(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&(d===27&&Zc(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Om(s,o,c),s=s.sibling;s!==null;)Om(s,o,c),s=s.sibling}function Zw(s){var o=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);bs(o,d,c),o[Hn]=s,o[ti]=c}catch(S){si(s,s.return,S)}}var Zl=!1,_r=!1,t2=!1,e4=typeof WeakSet=="function"?WeakSet:Set,ts=null;function b7(s,o){if(s=s.containerInfo,x2=rg,s=Ro(s),io(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var b=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var O=0,ee=-1,ye=-1,Oe=0,Ke=0,Qe=s,Fe=null;t:for(;;){for(var ze;Qe!==c||b!==0&&Qe.nodeType!==3||(ee=O+b),Qe!==S||d!==0&&Qe.nodeType!==3||(ye=O+d),Qe.nodeType===3&&(O+=Qe.nodeValue.length),(ze=Qe.firstChild)!==null;)Fe=Qe,Qe=ze;for(;;){if(Qe===s)break t;if(Fe===c&&++Oe===b&&(ee=O),Fe===S&&++Ke===d&&(ye=O),(ze=Qe.nextSibling)!==null)break;Qe=Fe,Fe=Qe.parentNode}Qe=ze}c=ee===-1||ye===-1?null:{start:ee,end:ye}}else c=null}c=c||{start:0,end:0}}else c=null;for(S2={focusedElem:s,selectionRange:c},rg=!1,ts=o;ts!==null;)if(o=ts,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ts=s;else for(;ts!==null;){switch(o=ts,S=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)b=s[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,c=o,b=S.memoizedProps,S=S.memoizedState,d=c.stateNode;try{var bt=nh(c.type,b);s=d.getSnapshotBeforeUpdate(bt,S),d.__reactInternalSnapshotBeforeUpdate=s}catch(Kt){si(c,c.return,Kt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)E2(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":E2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,ts=s;break}ts=o.return}}function t4(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:tc(s,c),d&4&&kd(5,c);break;case 1:if(tc(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(O){si(c,c.return,O)}else{var b=nh(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(O){si(c,c.return,O)}}d&64&&Yw(c),d&512&&Md(c,c.return);break;case 3:if(tc(s,c),d&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Qi(s,o)}catch(O){si(c,c.return,O)}}break;case 27:o===null&&d&4&&Zw(c);case 26:case 5:tc(s,c),o===null&&d&4&&Qw(c),d&512&&Md(c,c.return);break;case 12:tc(s,c);break;case 31:tc(s,c),d&4&&r4(s,c);break;case 13:tc(s,c),d&4&&s4(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=C7.bind(null,c),K7(s,c))));break;case 22:if(d=c.memoizedState!==null||Zl,!d){o=o!==null&&o.memoizedState!==null||_r,b=Zl;var S=_r;Zl=d,(_r=o)&&!S?nc(s,c,(c.subtreeFlags&8772)!==0):tc(s,c),Zl=b,_r=S}break;case 30:break;default:tc(s,c)}}function n4(s){var o=s.alternate;o!==null&&(s.alternate=null,n4(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ea(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Mi=null,ya=!1;function ec(s,o,c){for(c=c.child;c!==null;)i4(s,o,c),c=c.sibling}function i4(s,o,c){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(nn,c)}catch{}switch(c.tag){case 26:_r||yl(c,o),ec(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:_r||yl(c,o);var d=Mi,b=ya;Zc(c.type)&&(Mi=c.stateNode,ya=!1),ec(s,o,c),Gd(c.stateNode),Mi=d,ya=b;break;case 5:_r||yl(c,o);case 6:if(d=Mi,b=ya,Mi=null,ec(s,o,c),Mi=d,ya=b,Mi!==null)if(ya)try{(Mi.nodeType===9?Mi.body:Mi.nodeName==="HTML"?Mi.ownerDocument.body:Mi).removeChild(c.stateNode)}catch(S){si(c,o,S)}else try{Mi.removeChild(c.stateNode)}catch(S){si(c,o,S)}break;case 18:Mi!==null&&(ya?(s=Mi,Y4(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),mf(s)):Y4(Mi,c.stateNode));break;case 4:d=Mi,b=ya,Mi=c.stateNode.containerInfo,ya=!0,ec(s,o,c),Mi=d,ya=b;break;case 0:case 11:case 14:case 15:Wc(2,c,o),_r||Wc(4,c,o),ec(s,o,c);break;case 1:_r||(yl(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Xw(c,o,d)),ec(s,o,c);break;case 21:ec(s,o,c);break;case 22:_r=(d=_r)||c.memoizedState!==null,ec(s,o,c),_r=d;break;default:ec(s,o,c)}}function r4(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{mf(s)}catch(c){si(o,o.return,c)}}}function s4(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mf(s)}catch(c){si(o,o.return,c)}}function w7(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new e4),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new e4),o;default:throw Error(i(435,s.tag))}}function Vm(s,o){var c=w7(s);o.forEach(function(d){if(!c.has(d)){c.add(d);var b=R7.bind(null,s,d);d.then(b,b)}})}function va(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var b=c[d],S=s,O=o,ee=O;e:for(;ee!==null;){switch(ee.tag){case 27:if(Zc(ee.type)){Mi=ee.stateNode,ya=!1;break e}break;case 5:Mi=ee.stateNode,ya=!1;break e;case 3:case 4:Mi=ee.stateNode.containerInfo,ya=!0;break e}ee=ee.return}if(Mi===null)throw Error(i(160));i4(S,O,b),Mi=null,ya=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)a4(o,s),o=o.sibling}var Oo=null;function a4(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:va(o,s),ba(s),d&4&&(Wc(3,s,s.return),kd(3,s),Wc(5,s,s.return));break;case 1:va(o,s),ba(s),d&512&&(_r||c===null||yl(c,c.return)),d&64&&Zl&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var b=Oo;if(va(o,s),ba(s),d&512&&(_r||c===null||yl(c,c.return)),d&4){var S=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,b=b.ownerDocument||b;t:switch(d){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Wr]||S[Hn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(d),b.head.insertBefore(S,b.querySelector("head > title"))),bs(S,d,c),S[Hn]=s,Ai(S),d=S;break e;case"link":var O=a_("link","href",b).get(d+(c.href||""));if(O){for(var ee=0;ee<O.length;ee++)if(S=O[ee],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(ee,1);break t}}S=b.createElement(d),bs(S,d,c),b.head.appendChild(S);break;case"meta":if(O=a_("meta","content",b).get(d+(c.content||""))){for(ee=0;ee<O.length;ee++)if(S=O[ee],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(ee,1);break t}}S=b.createElement(d),bs(S,d,c),b.head.appendChild(S);break;default:throw Error(i(468,d))}S[Hn]=s,Ai(S),d=S}s.stateNode=d}else o_(b,s.type,s.stateNode);else s.stateNode=s_(b,d,s.memoizedProps);else S!==d?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,d===null?o_(b,s.type,s.stateNode):s_(b,d,s.memoizedProps)):d===null&&s.stateNode!==null&&J0(s,s.memoizedProps,c.memoizedProps)}break;case 27:va(o,s),ba(s),d&512&&(_r||c===null||yl(c,c.return)),c!==null&&d&4&&J0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(va(o,s),ba(s),d&512&&(_r||c===null||yl(c,c.return)),s.flags&32){b=s.stateNode;try{sr(b,"")}catch(bt){si(s,s.return,bt)}}d&4&&s.stateNode!=null&&(b=s.memoizedProps,J0(s,b,c!==null?c.memoizedProps:b)),d&1024&&(t2=!0);break;case 6:if(va(o,s),ba(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(bt){si(s,s.return,bt)}}break;case 3:if(eg=null,b=Oo,Oo=Jm(o.containerInfo),va(o,s),Oo=b,ba(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{mf(o.containerInfo)}catch(bt){si(s,s.return,bt)}t2&&(t2=!1,o4(s));break;case 4:d=Oo,Oo=Jm(s.stateNode.containerInfo),va(o,s),ba(s),Oo=d;break;case 12:va(o,s),ba(s);break;case 31:va(o,s),ba(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Vm(s,d)));break;case 13:va(o,s),ba(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Fm=Ht()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Vm(s,d)));break;case 22:b=s.memoizedState!==null;var ye=c!==null&&c.memoizedState!==null,Oe=Zl,Ke=_r;if(Zl=Oe||b,_r=Ke||ye,va(o,s),_r=Ke,Zl=Oe,ba(s),d&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||ye||Zl||_r||ih(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){ye=c=o;try{if(S=ye.stateNode,b)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{ee=ye.stateNode;var Qe=ye.memoizedProps.style,Fe=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;ee.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(bt){si(ye,ye.return,bt)}}}else if(o.tag===6){if(c===null){ye=o;try{ye.stateNode.nodeValue=b?"":ye.memoizedProps}catch(bt){si(ye,ye.return,bt)}}}else if(o.tag===18){if(c===null){ye=o;try{var ze=ye.stateNode;b?X4(ze,!0):X4(ye.stateNode,!1)}catch(bt){si(ye,ye.return,bt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Vm(s,c))));break;case 19:va(o,s),ba(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Vm(s,d)));break;case 30:break;case 21:break;default:va(o,s),ba(s)}}function ba(s){var o=s.flags;if(o&2){try{for(var c,d=s.return;d!==null;){if(Jw(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var b=c.stateNode,S=Z0(s);Om(s,S,b);break;case 5:var O=c.stateNode;c.flags&32&&(sr(O,""),c.flags&=-33);var ee=Z0(s);Om(s,ee,O);break;case 3:case 4:var ye=c.stateNode.containerInfo,Oe=Z0(s);e2(s,Oe,ye);break;default:throw Error(i(161))}}catch(Ke){si(s,s.return,Ke)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function o4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;o4(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function tc(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)t4(s,o.alternate,o),o=o.sibling}function ih(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Wc(4,o,o.return),ih(o);break;case 1:yl(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Xw(o,o.return,c),ih(o);break;case 27:Gd(o.stateNode);case 26:case 5:yl(o,o.return),ih(o);break;case 22:o.memoizedState===null&&ih(o);break;case 30:ih(o);break;default:ih(o)}s=s.sibling}}function nc(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,b=s,S=o,O=S.flags;switch(S.tag){case 0:case 11:case 15:nc(b,S,c),kd(4,S);break;case 1:if(nc(b,S,c),d=S,b=d.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Oe){si(d,d.return,Oe)}if(d=S,b=d.updateQueue,b!==null){var ee=d.stateNode;try{var ye=b.shared.hiddenCallbacks;if(ye!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ye.length;b++)Zr(ye[b],ee)}catch(Oe){si(d,d.return,Oe)}}c&&O&64&&Yw(S),Md(S,S.return);break;case 27:Zw(S);case 26:case 5:nc(b,S,c),c&&d===null&&O&4&&Qw(S),Md(S,S.return);break;case 12:nc(b,S,c);break;case 31:nc(b,S,c),c&&O&4&&r4(b,S);break;case 13:nc(b,S,c),c&&O&4&&s4(b,S);break;case 22:S.memoizedState===null&&nc(b,S,c),Md(S,S.return);break;case 30:break;default:nc(b,S,c)}o=o.sibling}}function n2(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Ju(c))}function i2(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Ju(s))}function Vo(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)l4(s,o,c,d),o=o.sibling}function l4(s,o,c,d){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Vo(s,o,c,d),b&2048&&kd(9,o);break;case 1:Vo(s,o,c,d);break;case 3:Vo(s,o,c,d),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Ju(s)));break;case 12:if(b&2048){Vo(s,o,c,d),s=o.stateNode;try{var S=o.memoizedProps,O=S.id,ee=S.onPostCommit;typeof ee=="function"&&ee(O,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ye){si(o,o.return,ye)}}else Vo(s,o,c,d);break;case 31:Vo(s,o,c,d);break;case 13:Vo(s,o,c,d);break;case 23:break;case 22:S=o.stateNode,O=o.alternate,o.memoizedState!==null?S._visibility&2?Vo(s,o,c,d):Od(s,o):S._visibility&2?Vo(s,o,c,d):(S._visibility|=2,rf(s,o,c,d,(o.subtreeFlags&10256)!==0||!1)),b&2048&&n2(O,o);break;case 24:Vo(s,o,c,d),b&2048&&i2(o.alternate,o);break;default:Vo(s,o,c,d)}}function rf(s,o,c,d,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=s,O=o,ee=c,ye=d,Oe=O.flags;switch(O.tag){case 0:case 11:case 15:rf(S,O,ee,ye,b),kd(8,O);break;case 23:break;case 22:var Ke=O.stateNode;O.memoizedState!==null?Ke._visibility&2?rf(S,O,ee,ye,b):Od(S,O):(Ke._visibility|=2,rf(S,O,ee,ye,b)),b&&Oe&2048&&n2(O.alternate,O);break;case 24:rf(S,O,ee,ye,b),b&&Oe&2048&&i2(O.alternate,O);break;default:rf(S,O,ee,ye,b)}o=o.sibling}}function Od(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,b=d.flags;switch(d.tag){case 22:Od(c,d),b&2048&&n2(d.alternate,d);break;case 24:Od(c,d),b&2048&&i2(d.alternate,d);break;default:Od(c,d)}o=o.sibling}}var Vd=8192;function sf(s,o,c){if(s.subtreeFlags&Vd)for(s=s.child;s!==null;)c4(s,o,c),s=s.sibling}function c4(s,o,c){switch(s.tag){case 26:sf(s,o,c),s.flags&Vd&&s.memoizedState!==null&&aI(c,Oo,s.memoizedState,s.memoizedProps);break;case 5:sf(s,o,c);break;case 3:case 4:var d=Oo;Oo=Jm(s.stateNode.containerInfo),sf(s,o,c),Oo=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Vd,Vd=16777216,sf(s,o,c),Vd=d):sf(s,o,c));break;default:sf(s,o,c)}}function u4(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Bd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];ts=d,f4(d,s)}u4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h4(s),s=s.sibling}function h4(s){switch(s.tag){case 0:case 11:case 15:Bd(s),s.flags&2048&&Wc(9,s,s.return);break;case 3:Bd(s);break;case 12:Bd(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Bm(s)):Bd(s);break;default:Bd(s)}}function Bm(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];ts=d,f4(d,s)}u4(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Wc(8,o,o.return),Bm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Bm(o));break;default:Bm(o)}s=s.sibling}}function f4(s,o){for(;ts!==null;){var c=ts;switch(c.tag){case 0:case 11:case 15:Wc(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ju(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,ts=d;else e:for(c=s;ts!==null;){d=ts;var b=d.sibling,S=d.return;if(n4(d),d===c){ts=null;break e}if(b!==null){b.return=S,ts=b;break e}ts=S}}}var _7={getCacheForType:function(s){var o=Or(zi),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c},cacheSignal:function(){return Or(zi).controller.signal}},x7=typeof WeakMap=="function"?WeakMap:Map,Qn=0,wi=null,An=null,Cn=0,ri=0,Ma=null,$c=!1,af=!1,r2=!1,ic=0,tr=0,Kc=0,rh=0,s2=0,Oa=0,of=0,Fd=null,wa=null,a2=!1,Fm=0,d4=0,Um=1/0,zm=null,Yc=null,Br=0,Xc=null,lf=null,rc=0,o2=0,l2=null,p4=null,Ud=0,c2=null;function Va(){return(Qn&2)!==0&&Cn!==0?Cn&-Cn:oe.T!==null?m2():$i()}function m4(){if(Oa===0)if((Cn&536870912)===0||Sn){var s=qn;qn<<=1,(qn&3932160)===0&&(qn=262144),Oa=s}else Oa=536870912;return s=Ni.current,s!==null&&(s.flags|=32),Oa}function _a(s,o,c){(s===wi&&(ri===2||ri===9)||s.cancelPendingCommit!==null)&&(cf(s,0),Qc(s,Cn,Oa,!1)),It(s,c),((Qn&2)===0||s!==wi)&&(s===wi&&((Qn&2)===0&&(rh|=c),tr===4&&Qc(s,Cn,Oa,!1)),vl(s))}function g4(s,o,c){if((Qn&6)!==0)throw Error(i(327));var d=!c&&(o&127)===0&&(o&s.expiredLanes)===0||Nr(s,o),b=d?T7(s,o):h2(s,o,!0),S=d;do{if(b===0){af&&!d&&Qc(s,o,0,!1);break}else{if(c=s.current.alternate,S&&!S7(c)){b=h2(s,o,!1),S=!1;continue}if(b===2){if(S=o,s.errorRecoveryDisabledLanes&S)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var ee=s;b=Fd;var ye=ee.current.memoizedState.isDehydrated;if(ye&&(cf(ee,O).flags|=256),O=h2(ee,O,!1),O!==2){if(r2&&!ye){ee.errorRecoveryDisabledLanes|=S,rh|=S,b=4;break e}S=wa,wa=b,S!==null&&(wa===null?wa=S:wa.push.apply(wa,S))}b=O}if(S=!1,b!==2)continue}}if(b===1){cf(s,0),Qc(s,o,0,!0);break}e:{switch(d=s,S=b,S){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Qc(d,o,Oa,!$c);break e;case 2:wa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(b=Fm+300-Ht(),10<b)){if(Qc(d,o,Oa,!$c),gn(d,0,!0)!==0)break e;rc=o,d.timeoutHandle=$4(y4.bind(null,d,c,wa,zm,a2,o,Oa,rh,of,$c,S,"Throttled",-0,0),b);break e}y4(d,c,wa,zm,a2,o,Oa,rh,of,$c,S,null,-0,0)}}break}while(!0);vl(s)}function y4(s,o,c,d,b,S,O,ee,ye,Oe,Ke,Qe,Fe,ze){if(s.timeoutHandle=-1,Qe=o.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hs},c4(o,S,Qe);var bt=(S&62914560)===S?Fm-Ht():(S&4194048)===S?d4-Ht():0;if(bt=oI(Qe,bt),bt!==null){rc=S,s.cancelPendingCommit=bt(T4.bind(null,s,o,S,c,d,b,O,ee,ye,Ke,Qe,null,Fe,ze)),Qc(s,S,O,!Oe);return}}T4(s,o,S,c,d,b,O,ee,ye)}function S7(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var b=c[d],S=b.getSnapshot;b=b.value;try{if(!jr(S(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qc(s,o,c,d){o&=~s2,o&=~rh,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var b=o;0<b;){var S=31-an(b),O=1<<S;d[S]=-1,b&=~O}c!==0&&as(s,c,o)}function qm(){return(Qn&6)===0?(zd(0),!1):!0}function u2(){if(An!==null){if(ri===0)var s=An.return;else s=An,so=cl=null,Xh(s),Ze=null,_t=0,s=An;for(;s!==null;)Kw(s.alternate,s),s=s.return;An=null}}function cf(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,q7(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),rc=0,u2(),wi=s,An=c=ca(s.current,null),Cn=o,ri=0,Ma=null,$c=!1,af=Nr(s,o),r2=!1,of=Oa=s2=rh=Kc=tr=0,wa=Fd=null,a2=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var b=31-an(d),S=1<<b;o|=s[b],d&=~S}return ic=o,Wu(),c}function v4(s,o){kt=null,oe.H=Dd,o===we||o===le?(o=Ye(),ri=3):o===ke?(o=Ye(),ri=4):ri=o===z0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ma=o,An===null&&(tr=1,Dm(s,ua(o,s.current)))}function b4(){var s=Ni.current;return s===null?!0:(Cn&4194048)===Cn?On===null:(Cn&62914560)===Cn||(Cn&536870912)!==0?s===On:!1}function w4(){var s=oe.H;return oe.H=Dd,s===null?Dd:s}function _4(){var s=oe.A;return oe.A=_7,s}function Hm(){tr=4,$c||(Cn&4194048)!==Cn&&Ni.current!==null||(af=!0),(Kc&134217727)===0&&(rh&134217727)===0||wi===null||Qc(wi,Cn,Oa,!1)}function h2(s,o,c){var d=Qn;Qn|=2;var b=w4(),S=_4();(wi!==s||Cn!==o)&&(zm=null,cf(s,o)),o=!1;var O=tr;e:do try{if(ri!==0&&An!==null){var ee=An,ye=Ma;switch(ri){case 8:u2(),O=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(o=!0);var Oe=ri;if(ri=0,Ma=null,uf(s,ee,ye,Oe),c&&af){O=0;break e}break;default:Oe=ri,ri=0,Ma=null,uf(s,ee,ye,Oe)}}A7(),O=tr;break}catch(Ke){v4(s,Ke)}while(!0);return o&&s.shellSuspendCounter++,so=cl=null,Qn=d,oe.H=b,oe.A=S,An===null&&(wi=null,Cn=0,Wu()),O}function A7(){for(;An!==null;)x4(An)}function T7(s,o){var c=Qn;Qn|=2;var d=w4(),b=_4();wi!==s||Cn!==o?(zm=null,Um=Ht()+500,cf(s,o)):af=Nr(s,o);e:do try{if(ri!==0&&An!==null){o=An;var S=Ma;t:switch(ri){case 1:ri=0,Ma=null,uf(s,o,S,1);break;case 2:case 9:if(Le(S)){ri=0,Ma=null,S4(o);break}o=function(){ri!==2&&ri!==9||wi!==s||(ri=7),vl(s)},S.then(o,o);break e;case 3:ri=7;break e;case 4:ri=5;break e;case 7:Le(S)?(ri=0,Ma=null,S4(o)):(ri=0,Ma=null,uf(s,o,S,7));break;case 5:var O=null;switch(An.tag){case 26:O=An.memoizedState;case 5:case 27:var ee=An;if(O?l_(O):ee.stateNode.complete){ri=0,Ma=null;var ye=ee.sibling;if(ye!==null)An=ye;else{var Oe=ee.return;Oe!==null?(An=Oe,Gm(Oe)):An=null}break t}}ri=0,Ma=null,uf(s,o,S,5);break;case 6:ri=0,Ma=null,uf(s,o,S,6);break;case 8:u2(),tr=6;break e;default:throw Error(i(462))}}E7();break}catch(Ke){v4(s,Ke)}while(!0);return so=cl=null,oe.H=d,oe.A=b,Qn=c,An!==null?0:(wi=null,Cn=0,Wu(),tr)}function E7(){for(;An!==null&&!Nt();)x4(An)}function x4(s){var o=Ww(s.alternate,s,ic);s.memoizedProps=s.pendingProps,o===null?Gm(s):An=o}function S4(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=Fw(c,o,o.pendingProps,o.type,void 0,Cn);break;case 11:o=Fw(c,o,o.pendingProps,o.type.render,o.ref,Cn);break;case 5:Xh(o);default:Kw(c,o),o=An=Yu(o,ic),o=Ww(c,o,ic)}s.memoizedProps=s.pendingProps,o===null?Gm(s):An=o}function uf(s,o,c,d){so=cl=null,Xh(o),Ze=null,_t=0;var b=o.return;try{if(p7(s,b,o,c,Cn)){tr=1,Dm(s,ua(c,s.current)),An=null;return}}catch(S){if(b!==null)throw An=b,S;tr=1,Dm(s,ua(c,s.current)),An=null;return}o.flags&32768?(Sn||d===1?s=!0:af||(Cn&536870912)!==0?s=!1:($c=s=!0,(d===2||d===9||d===3||d===6)&&(d=Ni.current,d!==null&&d.tag===13&&(d.flags|=16384))),A4(o,s)):Gm(o)}function Gm(s){var o=s;do{if((o.flags&32768)!==0){A4(o,$c);return}s=o.return;var c=y7(o.alternate,o,ic);if(c!==null){An=c;return}if(o=o.sibling,o!==null){An=o;return}An=o=s}while(o!==null);tr===0&&(tr=5)}function A4(s,o){do{var c=v7(s.alternate,s);if(c!==null){c.flags&=32767,An=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){An=s;return}An=s=c}while(s!==null);tr=6,An=null}function T4(s,o,c,d,b,S,O,ee,ye){s.cancelPendingCommit=null;do Wm();while(Br!==0);if((Qn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(S=o.lanes|o.childLanes,S|=Mh,Ta(s,c,S,O,ee,ye),s===wi&&(An=wi=null,Cn=0),lf=o,Xc=s,rc=c,o2=S,l2=b,p4=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,I7(Xt,function(){return I4(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=oe.T,oe.T=null,b=me.p,me.p=2,O=Qn,Qn|=4;try{b7(s,o,c)}finally{Qn=O,me.p=b,oe.T=d}}Br=1,E4(),N4(),C4()}}function E4(){if(Br===1){Br=0;var s=Xc,o=lf,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=oe.T,oe.T=null;var d=me.p;me.p=2;var b=Qn;Qn|=4;try{a4(o,s);var S=S2,O=Ro(s.containerInfo),ee=S.focusedElem,ye=S.selectionRange;if(O!==ee&&ee&&ee.ownerDocument&&Co(ee.ownerDocument.documentElement,ee)){if(ye!==null&&io(ee)){var Oe=ye.start,Ke=ye.end;if(Ke===void 0&&(Ke=Oe),"selectionStart"in ee)ee.selectionStart=Oe,ee.selectionEnd=Math.min(Ke,ee.value.length);else{var Qe=ee.ownerDocument||document,Fe=Qe&&Qe.defaultView||window;if(Fe.getSelection){var ze=Fe.getSelection(),bt=ee.textContent.length,Kt=Math.min(ye.start,bt),mi=ye.end===void 0?Kt:Math.min(ye.end,bt);!ze.extend&&Kt>mi&&(O=mi,mi=Kt,Kt=O);var Re=kc(ee,Kt),_e=kc(ee,mi);if(Re&&_e&&(ze.rangeCount!==1||ze.anchorNode!==Re.node||ze.anchorOffset!==Re.offset||ze.focusNode!==_e.node||ze.focusOffset!==_e.offset)){var Me=Qe.createRange();Me.setStart(Re.node,Re.offset),ze.removeAllRanges(),Kt>mi?(ze.addRange(Me),ze.extend(_e.node,_e.offset)):(Me.setEnd(_e.node,_e.offset),ze.addRange(Me))}}}}for(Qe=[],ze=ee;ze=ze.parentNode;)ze.nodeType===1&&Qe.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Qe.length;ee++){var Xe=Qe[ee];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}rg=!!x2,S2=x2=null}finally{Qn=b,me.p=d,oe.T=c}}s.current=o,Br=2}}function N4(){if(Br===2){Br=0;var s=Xc,o=lf,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=oe.T,oe.T=null;var d=me.p;me.p=2;var b=Qn;Qn|=4;try{t4(s,o.alternate,o)}finally{Qn=b,me.p=d,oe.T=c}}Br=3}}function C4(){if(Br===4||Br===3){Br=0,St();var s=Xc,o=lf,c=rc,d=p4;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Br=5:(Br=0,lf=Xc=null,R4(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Yc=null),li(c),o=o.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(nn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=oe.T,b=me.p,me.p=2,oe.T=null;try{for(var S=s.onRecoverableError,O=0;O<d.length;O++){var ee=d[O];S(ee.value,{componentStack:ee.stack})}}finally{oe.T=o,me.p=b}}(rc&3)!==0&&Wm(),vl(s),b=s.pendingLanes,(c&261930)!==0&&(b&42)!==0?s===c2?Ud++:(Ud=0,c2=s):Ud=0,zd(0)}}function R4(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Ju(o)))}function Wm(){return E4(),N4(),C4(),I4()}function I4(){if(Br!==5)return!1;var s=Xc,o=o2;o2=0;var c=li(rc),d=oe.T,b=me.p;try{me.p=32>c?32:c,oe.T=null,c=l2,l2=null;var S=Xc,O=rc;if(Br=0,lf=Xc=null,rc=0,(Qn&6)!==0)throw Error(i(331));var ee=Qn;if(Qn|=4,h4(S.current),l4(S,S.current,O,c),Qn=ee,zd(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(nn,S)}catch{}return!0}finally{me.p=b,oe.T=d,R4(s,o)}}function L4(s,o,c){o=ua(c,o),o=U0(s.stateNode,o,2),s=fn(s,o,2),s!==null&&(It(s,2),vl(s))}function si(s,o,c){if(s.tag===3)L4(s,s,c);else for(;o!==null;){if(o.tag===3){L4(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Yc===null||!Yc.has(d))){s=ua(c,s),c=Dw(2),d=fn(o,c,2),d!==null&&(jw(c,d,o,s),It(d,2),vl(d));break}}o=o.return}}function f2(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new x7;var b=new Set;d.set(o,b)}else b=d.get(o),b===void 0&&(b=new Set,d.set(o,b));b.has(c)||(r2=!0,b.add(c),s=N7.bind(null,s,o,c),o.then(s,s))}function N7(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,wi===s&&(Cn&c)===c&&(tr===4||tr===3&&(Cn&62914560)===Cn&&300>Ht()-Fm?(Qn&2)===0&&cf(s,0):s2|=c,of===Cn&&(of=0)),vl(s)}function D4(s,o){o===0&&(o=ta()),s=Lo(s,o),s!==null&&(It(s,o),vl(s))}function C7(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),D4(s,c)}function R7(s,o){var c=0;switch(s.tag){case 31:case 13:var d=s.stateNode,b=s.memoizedState;b!==null&&(c=b.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),D4(s,c)}function I7(s,o){return rt(s,o)}var $m=null,hf=null,d2=!1,Km=!1,p2=!1,Jc=0;function vl(s){s!==hf&&s.next===null&&(hf===null?$m=hf=s:hf=hf.next=s),Km=!0,d2||(d2=!0,D7())}function zd(s,o){if(!p2&&Km){p2=!0;do for(var c=!1,d=$m;d!==null;){if(s!==0){var b=d.pendingLanes;if(b===0)var S=0;else{var O=d.suspendedLanes,ee=d.pingedLanes;S=(1<<31-an(42|s)+1)-1,S&=b&~(O&~ee),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,M4(d,S))}else S=Cn,S=gn(d,d===wi?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(S&3)===0||Nr(d,S)||(c=!0,M4(d,S));d=d.next}while(c);p2=!1}}function L7(){j4()}function j4(){Km=d2=!1;var s=0;Jc!==0&&z7()&&(s=Jc);for(var o=Ht(),c=null,d=$m;d!==null;){var b=d.next,S=P4(d,o);S===0?(d.next=null,c===null?$m=b:c.next=b,b===null&&(hf=c)):(c=d,(s!==0||(S&3)!==0)&&(Km=!0)),d=b}Br!==0&&Br!==5||zd(s),Jc!==0&&(Jc=0)}function P4(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,b=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var O=31-an(S),ee=1<<O,ye=b[O];ye===-1?((ee&c)===0||(ee&d)!==0)&&(b[O]=pr(ee,o)):ye<=o&&(s.expiredLanes|=ee),S&=~ee}if(o=wi,c=Cn,c=gn(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===o&&(ri===2||ri===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&ct(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Nr(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&ct(d),li(c)){case 2:case 8:c=Yt;break;case 32:c=Xt;break;case 268435456:c=Qt;break;default:c=Xt}return d=k4.bind(null,s),c=rt(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&ct(d),s.callbackPriority=2,s.callbackNode=null,2}function k4(s,o){if(Br!==0&&Br!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Wm()&&s.callbackNode!==c)return null;var d=Cn;return d=gn(s,s===wi?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(g4(s,d,o),P4(s,Ht()),s.callbackNode!=null&&s.callbackNode===c?k4.bind(null,s):null)}function M4(s,o){if(Wm())return null;g4(s,o,!0)}function D7(){H7(function(){(Qn&6)!==0?rt(st,L7):j4()})}function m2(){if(Jc===0){var s=m;s===0&&(s=zt,zt<<=1,(zt&261888)===0&&(zt=256)),Jc=s}return Jc}function O4(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Kr(""+s)}function V4(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function j7(s,o,c,d,b){if(o==="submit"&&c&&c.stateNode===b){var S=O4((b[ti]||null).action),O=d.submitter;O&&(o=(o=O[ti]||null)?O4(o.formAction):O.getAttribute("formAction"),o!==null&&(S=o,O=null));var ee=new yr("action","action",null,d,b);s.push({event:ee,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Jc!==0){var ye=O?V4(b,O):new FormData(b);k0(c,{pending:!0,data:ye,method:b.method,action:S},null,ye)}}else typeof S=="function"&&(ee.preventDefault(),ye=O?V4(b,O):new FormData(b),k0(c,{pending:!0,data:ye,method:b.method,action:S},S,ye))},currentTarget:b}]})}}for(var g2=0;g2<ql.length;g2++){var y2=ql[g2],P7=y2.toLowerCase(),k7=y2[0].toUpperCase()+y2.slice(1);la(P7,"on"+k7)}la(zl,"onAnimationEnd"),la(Hu,"onAnimationIteration"),la(yd,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(bm,"onTransitionRun"),la(wm,"onTransitionStart"),la(_m,"onTransitionCancel"),la(vd,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qd));function B4(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],b=d.event;d=d.listeners;e:{var S=void 0;if(o)for(var O=d.length-1;0<=O;O--){var ee=d[O],ye=ee.instance,Oe=ee.currentTarget;if(ee=ee.listener,ye!==S&&b.isPropagationStopped())break e;S=ee,b.currentTarget=Oe;try{S(b)}catch(Ke){Gu(Ke)}b.currentTarget=null,S=ye}else for(O=0;O<d.length;O++){if(ee=d[O],ye=ee.instance,Oe=ee.currentTarget,ee=ee.listener,ye!==S&&b.isPropagationStopped())break e;S=ee,b.currentTarget=Oe;try{S(b)}catch(Ke){Gu(Ke)}b.currentTarget=null,S=ye}}}}function Tn(s,o){var c=o[Gr];c===void 0&&(c=o[Gr]=new Set);var d=s+"__bubble";c.has(d)||(F4(o,s,2,!1),c.add(d))}function v2(s,o,c){var d=0;o&&(d|=4),F4(c,s,d,o)}var Ym="_reactListening"+Math.random().toString(36).slice(2);function b2(s){if(!s[Ym]){s[Ym]=!0,Qo.forEach(function(c){c!=="selectionchange"&&(M7.has(c)||v2(c,!1,s),v2(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ym]||(o[Ym]=!0,v2("selectionchange",!1,o))}}function F4(s,o,c,d){switch(m_(o)){case 2:var b=uI;break;case 8:b=hI;break;default:b=P2}c=b.bind(null,o,c,s),b=void 0,!_o||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),d?b!==void 0?s.addEventListener(o,c,{capture:!0,passive:b}):s.addEventListener(o,c,!0):b!==void 0?s.addEventListener(o,c,{passive:b}):s.addEventListener(o,c,!1)}function w2(s,o,c,d,b){var S=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var O=d.tag;if(O===3||O===4){var ee=d.stateNode.containerInfo;if(ee===b)break;if(O===4)for(O=d.return;O!==null;){var ye=O.tag;if((ye===3||ye===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;ee!==null;){if(O=os(ee),O===null)return;if(ye=O.tag,ye===5||ye===6||ye===26||ye===27){d=S=O;continue e}ee=ee.parentNode}}d=d.return}Ya(function(){var Oe=S,Ke=Yr(c),Qe=[];e:{var Fe=bd.get(s);if(Fe!==void 0){var ze=yr,bt=s;switch(s){case"keypress":if(hs(c)===0)break e;case"keydown":case"keyup":ze=_n;break;case"focusin":bt="focus",ze=Ws;break;case"focusout":bt="blur",ze=Ws;break;case"beforeblur":case"afterblur":ze=Ws;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=aa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=C;break;case zl:case Hu:case yd:ze=A;break;case vd:ze=ne;break;case"scroll":case"scrollend":ze=Xa;break;case"wheel":ze=Be;break;case"copy":case"cut":case"paste":ze=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=Zn;break;case"toggle":case"beforetoggle":ze=tn}var Kt=(o&4)!==0,mi=!Kt&&(s==="scroll"||s==="scrollend"),Re=Kt?Fe!==null?Fe+"Capture":null:Fe;Kt=[];for(var _e=Oe,Me;_e!==null;){var Xe=_e;if(Me=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Me===null||Re===null||(Xe=ar(_e,Re),Xe!=null&&Kt.push(Hd(_e,Xe,Me))),mi)break;_e=_e.return}0<Kt.length&&(Fe=new ze(Fe,bt,null,c,Ke),Qe.push({event:Fe,listeners:Kt}))}}if((o&7)===0){e:{if(Fe=s==="mouseover"||s==="pointerover",ze=s==="mouseout"||s==="pointerout",Fe&&c!==Ia&&(bt=c.relatedTarget||c.fromElement)&&(os(bt)||bt[Ki]))break e;if((ze||Fe)&&(Fe=Ke.window===Ke?Ke:(Fe=Ke.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,ze?(bt=c.relatedTarget||c.toElement,ze=Oe,bt=bt?os(bt):null,bt!==null&&(mi=a(bt),Kt=bt.tag,bt!==mi||Kt!==5&&Kt!==27&&Kt!==6)&&(bt=null)):(ze=null,bt=Oe),ze!==bt)){if(Kt=il,Xe="onMouseLeave",Re="onMouseEnter",_e="mouse",(s==="pointerout"||s==="pointerover")&&(Kt=Zn,Xe="onPointerLeave",Re="onPointerEnter",_e="pointer"),mi=ze==null?Fe:ls(ze),Me=bt==null?Fe:ls(bt),Fe=new Kt(Xe,_e+"leave",ze,c,Ke),Fe.target=mi,Fe.relatedTarget=Me,Xe=null,os(Ke)===Oe&&(Kt=new Kt(Re,_e+"enter",bt,c,Ke),Kt.target=Me,Kt.relatedTarget=mi,Xe=Kt),mi=Xe,ze&&bt)t:{for(Kt=O7,Re=ze,_e=bt,Me=0,Xe=Re;Xe;Xe=Kt(Xe))Me++;Xe=0;for(var Ft=_e;Ft;Ft=Kt(Ft))Xe++;for(;0<Me-Xe;)Re=Kt(Re),Me--;for(;0<Xe-Me;)_e=Kt(_e),Xe--;for(;Me--;){if(Re===_e||_e!==null&&Re===_e.alternate){Kt=Re;break t}Re=Kt(Re),_e=Kt(_e)}Kt=null}else Kt=null;ze!==null&&U4(Qe,Fe,ze,Kt,!1),bt!==null&&mi!==null&&U4(Qe,mi,bt,Kt,!0)}}e:{if(Fe=Oe?ls(Oe):window,ze=Fe.nodeName&&Fe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Fe.type==="file")var $n=sl;else if(zu(Fe))if(Rs)$n=to;else{$n=Fi;var Et=jc}else ze=Fe.nodeName,!ze||ze.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Oe&&el(Oe.elementType)&&($n=sl):$n=kh;if($n&&($n=$n(s,Oe))){Ks(Qe,$n,c,Ke);break e}Et&&Et(s,Fe,Oe),s==="focusout"&&Oe&&Fe.type==="number"&&Oe.memoizedProps.value!=null&&kl(Fe,"number",Fe.value)}switch(Et=Oe?ls(Oe):window,s){case"focusin":(zu(Et)||Et.contentEditable==="true")&&(Ys=Et,Io=Oe,Xr=null);break;case"focusout":Xr=Io=Ys=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,Un(Qe,c,Ke);break;case"selectionchange":if(Ul)break;case"keydown":case"keyup":Un(Qe,c,Ke)}var yn;if(vn)e:{switch(s){case"compositionstart":var Rn="onCompositionStart";break e;case"compositionend":Rn="onCompositionEnd";break e;case"compositionupdate":Rn="onCompositionUpdate";break e}Rn=void 0}else Ja?$s(s,c)&&(Rn="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Rn="onCompositionStart");Rn&&(Lr&&c.locale!=="ko"&&(Ja||Rn!=="onCompositionStart"?Rn==="onCompositionEnd"&&Ja&&(yn=Bl()):(us=Ke,xo="value"in us?us.value:us.textContent,Ja=!0)),Et=Xm(Oe,Rn),0<Et.length&&(Rn=new Ee(Rn,s,null,c,Ke),Qe.push({event:Rn,listeners:Et}),yn?Rn.data=yn:(yn=Qa(c),yn!==null&&(Rn.data=yn)))),(yn=vr?ps(s,c):Ao(s,c))&&(Rn=Xm(Oe,"onBeforeInput"),0<Rn.length&&(Et=new Ee("onBeforeInput","beforeinput",null,c,Ke),Qe.push({event:Et,listeners:Rn}),Et.data=yn)),j7(Qe,s,Oe,c,Ke)}B4(Qe,o)})}function Hd(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Xm(s,o){for(var c=o+"Capture",d=[];s!==null;){var b=s,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=ar(s,c),b!=null&&d.unshift(Hd(s,b,S)),b=ar(s,o),b!=null&&d.push(Hd(s,b,S))),s.tag===3)return d;s=s.return}return[]}function O7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function U4(s,o,c,d,b){for(var S=o._reactName,O=[];c!==null&&c!==d;){var ee=c,ye=ee.alternate,Oe=ee.stateNode;if(ee=ee.tag,ye!==null&&ye===d)break;ee!==5&&ee!==26&&ee!==27||Oe===null||(ye=Oe,b?(Oe=ar(c,S),Oe!=null&&O.unshift(Hd(c,Oe,ye))):b||(Oe=ar(c,S),Oe!=null&&O.push(Hd(c,Oe,ye)))),c=c.return}O.length!==0&&s.push({event:o,listeners:O})}var V7=/\r\n?/g,B7=/\u0000|\uFFFD/g;function z4(s){return(typeof s=="string"?s:""+s).replace(V7,`
`).replace(B7,"")}function q4(s,o){return o=z4(o),z4(s)===o}function pi(s,o,c,d,b,S){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||sr(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&sr(s,""+d);break;case"className":gr(s,"class",d);break;case"tabIndex":gr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(s,c,d);break;case"style":Vl(s,d,S);break;case"data":if(o!=="object"){gr(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Kr(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(o!=="input"&&pi(s,o,"name",b.name,b,null),pi(s,o,"formEncType",b.formEncType,b,null),pi(s,o,"formMethod",b.formMethod,b,null),pi(s,o,"formTarget",b.formTarget,b,null)):(pi(s,o,"encType",b.encType,b,null),pi(s,o,"method",b.method,b,null),pi(s,o,"target",b.target,b,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Kr(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Hs);break;case"onScroll":d!=null&&Tn("scroll",s);break;case"onScrollEnd":d!=null&&Tn("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=Kr(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Tn("beforetoggle",s),Tn("toggle",s),cs(s,"popover",d);break;case"xlinkActuate":Li(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Li(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Li(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Li(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Li(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Li(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Li(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Li(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Li(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":cs(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=tl.get(c)||c,cs(s,c,d))}}function _2(s,o,c,d,b,S){switch(c){case"style":Vl(s,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(b.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?sr(s,d):(typeof d=="number"||typeof d=="bigint")&&sr(s,""+d);break;case"onScroll":d!=null&&Tn("scroll",s);break;case"onScrollEnd":d!=null&&Tn("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),S=s[ti]||null,S=S!=null?S[c]:null,typeof S=="function"&&s.removeEventListener(o,S,b),typeof d=="function")){typeof S!="function"&&S!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,b);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):cs(s,c,d)}}}function bs(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",s),Tn("load",s);var d=!1,b=!1,S;for(S in c)if(c.hasOwnProperty(S)){var O=c[S];if(O!=null)switch(S){case"src":d=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:pi(s,o,S,O,c,null)}}b&&pi(s,o,"srcSet",c.srcSet,c,null),d&&pi(s,o,"src",c.src,c,null);return;case"input":Tn("invalid",s);var ee=S=O=b=null,ye=null,Oe=null;for(d in c)if(c.hasOwnProperty(d)){var Ke=c[d];if(Ke!=null)switch(d){case"name":b=Ke;break;case"type":O=Ke;break;case"checked":ye=Ke;break;case"defaultChecked":Oe=Ke;break;case"value":S=Ke;break;case"defaultValue":ee=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,o));break;default:pi(s,o,d,Ke,c,null)}}Ic(s,S,ee,ye,Oe,O,b,!1);return;case"select":Tn("invalid",s),d=O=S=null;for(b in c)if(c.hasOwnProperty(b)&&(ee=c[b],ee!=null))switch(b){case"value":S=ee;break;case"defaultValue":O=ee;break;case"multiple":d=ee;default:pi(s,o,b,ee,c,null)}o=S,c=O,s.multiple=!!d,o!=null?Ir(s,!!d,o,!1):c!=null&&Ir(s,!!d,c,!0);return;case"textarea":Tn("invalid",s),S=b=d=null;for(O in c)if(c.hasOwnProperty(O)&&(ee=c[O],ee!=null))switch(O){case"value":d=ee;break;case"defaultValue":b=ee;break;case"children":S=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:pi(s,o,O,ee,c,null)}Ca(s,d,b,S);return;case"option":for(ye in c)c.hasOwnProperty(ye)&&(d=c[ye],d!=null)&&(ye==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":pi(s,o,ye,d,c,null));return;case"dialog":Tn("beforetoggle",s),Tn("toggle",s),Tn("cancel",s),Tn("close",s);break;case"iframe":case"object":Tn("load",s);break;case"video":case"audio":for(d=0;d<qd.length;d++)Tn(qd[d],s);break;case"image":Tn("error",s),Tn("load",s);break;case"details":Tn("toggle",s);break;case"embed":case"source":case"link":Tn("error",s),Tn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in c)if(c.hasOwnProperty(Oe)&&(d=c[Oe],d!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:pi(s,o,Oe,d,c,null)}return;default:if(el(o)){for(Ke in c)c.hasOwnProperty(Ke)&&(d=c[Ke],d!==void 0&&_2(s,o,Ke,d,c,void 0));return}}for(ee in c)c.hasOwnProperty(ee)&&(d=c[ee],d!=null&&pi(s,o,ee,d,c,null))}function F7(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,O=null,ee=null,ye=null,Oe=null,Ke=null;for(ze in c){var Qe=c[ze];if(c.hasOwnProperty(ze)&&Qe!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":ye=Qe;default:d.hasOwnProperty(ze)||pi(s,o,ze,null,d,Qe)}}for(var Fe in d){var ze=d[Fe];if(Qe=c[Fe],d.hasOwnProperty(Fe)&&(ze!=null||Qe!=null))switch(Fe){case"type":S=ze;break;case"name":b=ze;break;case"checked":Oe=ze;break;case"defaultChecked":Ke=ze;break;case"value":O=ze;break;case"defaultValue":ee=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,o));break;default:ze!==Qe&&pi(s,o,Fe,ze,d,Qe)}}bo(s,O,ee,ye,Oe,Ke,S,b);return;case"select":ze=O=ee=Fe=null;for(S in c)if(ye=c[S],c.hasOwnProperty(S)&&ye!=null)switch(S){case"value":break;case"multiple":ze=ye;default:d.hasOwnProperty(S)||pi(s,o,S,null,d,ye)}for(b in d)if(S=d[b],ye=c[b],d.hasOwnProperty(b)&&(S!=null||ye!=null))switch(b){case"value":Fe=S;break;case"defaultValue":ee=S;break;case"multiple":O=S;default:S!==ye&&pi(s,o,b,S,d,ye)}o=ee,c=O,d=ze,Fe!=null?Ir(s,!!c,Fe,!1):!!d!=!!c&&(o!=null?Ir(s,!!c,o,!0):Ir(s,!!c,c?[]:"",!1));return;case"textarea":ze=Fe=null;for(ee in c)if(b=c[ee],c.hasOwnProperty(ee)&&b!=null&&!d.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:pi(s,o,ee,null,d,b)}for(O in d)if(b=d[O],S=c[O],d.hasOwnProperty(O)&&(b!=null||S!=null))switch(O){case"value":Fe=b;break;case"defaultValue":ze=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==S&&pi(s,o,O,b,d,S)}Ml(s,Fe,ze);return;case"option":for(var bt in c)Fe=c[bt],c.hasOwnProperty(bt)&&Fe!=null&&!d.hasOwnProperty(bt)&&(bt==="selected"?s.selected=!1:pi(s,o,bt,null,d,Fe));for(ye in d)Fe=d[ye],ze=c[ye],d.hasOwnProperty(ye)&&Fe!==ze&&(Fe!=null||ze!=null)&&(ye==="selected"?s.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol":pi(s,o,ye,Fe,d,ze));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in c)Fe=c[Kt],c.hasOwnProperty(Kt)&&Fe!=null&&!d.hasOwnProperty(Kt)&&pi(s,o,Kt,null,d,Fe);for(Oe in d)if(Fe=d[Oe],ze=c[Oe],d.hasOwnProperty(Oe)&&Fe!==ze&&(Fe!=null||ze!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,o));break;default:pi(s,o,Oe,Fe,d,ze)}return;default:if(el(o)){for(var mi in c)Fe=c[mi],c.hasOwnProperty(mi)&&Fe!==void 0&&!d.hasOwnProperty(mi)&&_2(s,o,mi,void 0,d,Fe);for(Ke in d)Fe=d[Ke],ze=c[Ke],!d.hasOwnProperty(Ke)||Fe===ze||Fe===void 0&&ze===void 0||_2(s,o,Ke,Fe,d,ze);return}}for(var Re in c)Fe=c[Re],c.hasOwnProperty(Re)&&Fe!=null&&!d.hasOwnProperty(Re)&&pi(s,o,Re,null,d,Fe);for(Qe in d)Fe=d[Qe],ze=c[Qe],!d.hasOwnProperty(Qe)||Fe===ze||Fe==null&&ze==null||pi(s,o,Qe,Fe,d,ze)}function H4(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var b=c[d],S=b.transferSize,O=b.initiatorType,ee=b.duration;if(S&&ee&&H4(O)){for(O=0,ee=b.responseEnd,d+=1;d<c.length;d++){var ye=c[d],Oe=ye.startTime;if(Oe>ee)break;var Ke=ye.transferSize,Qe=ye.initiatorType;Ke&&H4(Qe)&&(ye=ye.responseEnd,O+=Ke*(ye<ee?1:(ee-Oe)/(ye-Oe)))}if(--d,o+=8*(S+O)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var x2=null,S2=null;function Qm(s){return s.nodeType===9?s:s.ownerDocument}function G4(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W4(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function A2(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var T2=null;function z7(){var s=window.event;return s&&s.type==="popstate"?s===T2?!1:(T2=s,!0):(T2=null,!1)}var $4=typeof setTimeout=="function"?setTimeout:void 0,q7=typeof clearTimeout=="function"?clearTimeout:void 0,K4=typeof Promise=="function"?Promise:void 0,H7=typeof queueMicrotask=="function"?queueMicrotask:typeof K4<"u"?function(s){return K4.resolve(null).then(s).catch(G7)}:$4;function G7(s){setTimeout(function(){throw s})}function Zc(s){return s==="head"}function Y4(s,o){var c=o,d=0;do{var b=c.nextSibling;if(s.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(d===0){s.removeChild(b),mf(o);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")Gd(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Gd(c);for(var S=c.firstChild;S;){var O=S.nextSibling,ee=S.nodeName;S[Wr]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}}else c==="body"&&Gd(s.ownerDocument.body);c=b}while(c);mf(o)}function X4(s,o){var c=s;s=0;do{var d=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=d}while(c)}function E2(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":E2(c),Ea(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function W7(s,o,c,d){for(;s.nodeType===1;){var b=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Wr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=lo(s.nextSibling),s===null)break}return null}function $7(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=lo(s.nextSibling),s===null))return null;return s}function Q4(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=lo(s.nextSibling),s===null))return null;return s}function N2(s){return s.data==="$?"||s.data==="$~"}function C2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function K7(s,o){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||c.readyState!=="loading")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function lo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var R2=null;function J4(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(o===0)return lo(s.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}s=s.nextSibling}return null}function Z4(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return s;o--}else c!=="/$"&&c!=="/&"||o++}s=s.previousSibling}return null}function e_(s,o,c){switch(o=Qm(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Gd(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ea(s)}var co=new Map,t_=new Set;function Jm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var sc=me.d;me.d={f:Y7,r:X7,D:Q7,C:J7,L:Z7,m:eI,X:nI,S:tI,M:iI};function Y7(){var s=sc.f(),o=qm();return s||o}function X7(s){var o=Rr(s);o!==null&&o.tag===5&&o.type==="form"?vw(o):sc.r(s)}var ff=typeof document>"u"?null:document;function n_(s,o,c){var d=ff;if(d&&typeof o=="string"&&o){var b=Di(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),t_.has(b)||(t_.add(b),s={rel:s,crossOrigin:c,href:o},d.querySelector(b)===null&&(o=d.createElement("link"),bs(o,"link",s),Ai(o),d.head.appendChild(o)))}}function Q7(s){sc.D(s),n_("dns-prefetch",s,null)}function J7(s,o){sc.C(s,o),n_("preconnect",s,o)}function Z7(s,o,c){sc.L(s,o,c);var d=ff;if(d&&s&&o){var b='link[rel="preload"][as="'+Di(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+Di(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+Di(c.imageSizes)+'"]')):b+='[href="'+Di(s)+'"]';var S=b;switch(o){case"style":S=df(s);break;case"script":S=pf(s)}co.has(S)||(s=v({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),co.set(S,s),d.querySelector(b)!==null||o==="style"&&d.querySelector(Wd(S))||o==="script"&&d.querySelector($d(S))||(o=d.createElement("link"),bs(o,"link",s),Ai(o),d.head.appendChild(o)))}}function eI(s,o){sc.m(s,o);var c=ff;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Di(d)+'"][href="'+Di(s)+'"]',S=b;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=pf(s)}if(!co.has(S)&&(s=v({rel:"modulepreload",href:s},o),co.set(S,s),c.querySelector(b)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($d(S)))return}d=c.createElement("link"),bs(d,"link",s),Ai(d),c.head.appendChild(d)}}}function tI(s,o,c){sc.S(s,o,c);var d=ff;if(d&&s){var b=Ts(d).hoistableStyles,S=df(s);o=o||"default";var O=b.get(S);if(!O){var ee={loading:0,preload:null};if(O=d.querySelector(Wd(S)))ee.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":o},c),(c=co.get(S))&&I2(s,c);var ye=O=d.createElement("link");Ai(ye),bs(ye,"link",s),ye._p=new Promise(function(Oe,Ke){ye.onload=Oe,ye.onerror=Ke}),ye.addEventListener("load",function(){ee.loading|=1}),ye.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Zm(O,o,d)}O={type:"stylesheet",instance:O,count:1,state:ee},b.set(S,O)}}}function nI(s,o){sc.X(s,o);var c=ff;if(c&&s){var d=Ts(c).hoistableScripts,b=pf(s),S=d.get(b);S||(S=c.querySelector($d(b)),S||(s=v({src:s,async:!0},o),(o=co.get(b))&&L2(s,o),S=c.createElement("script"),Ai(S),bs(S,"link",s),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(b,S))}}function iI(s,o){sc.M(s,o);var c=ff;if(c&&s){var d=Ts(c).hoistableScripts,b=pf(s),S=d.get(b);S||(S=c.querySelector($d(b)),S||(s=v({src:s,async:!0,type:"module"},o),(o=co.get(b))&&L2(s,o),S=c.createElement("script"),Ai(S),bs(S,"link",s),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(b,S))}}function i_(s,o,c,d){var b=(b=de.current)?Jm(b):null;if(!b)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=df(c.href),c=Ts(b).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=df(c.href);var S=Ts(b).hoistableStyles,O=S.get(s);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,O),(S=b.querySelector(Wd(s)))&&!S._p&&(O.instance=S,O.state.loading=5),co.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},co.set(s,c),S||rI(b,s,c,O.state))),o&&d===null)throw Error(i(528,""));return O}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=pf(c),c=Ts(b).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function df(s){return'href="'+Di(s)+'"'}function Wd(s){return'link[rel="stylesheet"]['+s+"]"}function r_(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function rI(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),bs(o,"link",c),Ai(o),s.head.appendChild(o))}function pf(s){return'[src="'+Di(s)+'"]'}function $d(s){return"script[async]"+s}function s_(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+Di(c.href)+'"]');if(d)return o.instance=d,Ai(d),d;var b=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Ai(d),bs(d,"style",b),Zm(d,c.precedence,s),o.instance=d;case"stylesheet":b=df(c.href);var S=s.querySelector(Wd(b));if(S)return o.state.loading|=4,o.instance=S,Ai(S),S;d=r_(c),(b=co.get(b))&&I2(d,b),S=(s.ownerDocument||s).createElement("link"),Ai(S);var O=S;return O._p=new Promise(function(ee,ye){O.onload=ee,O.onerror=ye}),bs(S,"link",d),o.state.loading|=4,Zm(S,c.precedence,s),o.instance=S;case"script":return S=pf(c.src),(b=s.querySelector($d(S)))?(o.instance=b,Ai(b),b):(d=c,(b=co.get(S))&&(d=v({},c),L2(d,b)),s=s.ownerDocument||s,b=s.createElement("script"),Ai(b),bs(b,"link",d),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Zm(d,c.precedence,s));return o.instance}function Zm(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=d.length?d[d.length-1]:null,S=b,O=0;O<d.length;O++){var ee=d[O];if(ee.dataset.precedence===o)S=ee;else if(S!==b)break}S?S.parentNode.insertBefore(s,S.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function I2(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function L2(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var eg=null;function a_(s,o,c){if(eg===null){var d=new Map,b=eg=new Map;b.set(c,d)}else b=eg,d=b.get(c),d||(d=new Map,b.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),b=0;b<c.length;b++){var S=c[b];if(!(S[Wr]||S[Hn]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(o)||"";O=s+O;var ee=d.get(O);ee?ee.push(S):d.set(O,[S])}}return d}function o_(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function sI(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function l_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aI(s,o,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=df(d.href),S=o.querySelector(Wd(b));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=tg.bind(s),o.then(s,s)),c.state.loading|=4,c.instance=S,Ai(S);return}S=o.ownerDocument||o,d=r_(d),(b=co.get(b))&&I2(d,b),S=S.createElement("link"),Ai(S);var O=S;O._p=new Promise(function(ee,ye){O.onload=ee,O.onerror=ye}),bs(S,"link",d),c.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=tg.bind(s),o.addEventListener("load",c),o.addEventListener("error",c))}}var D2=0;function oI(s,o){return s.stylesheets&&s.count===0&&ig(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var d=setTimeout(function(){if(s.stylesheets&&ig(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+o);0<s.imgBytes&&D2===0&&(D2=62500*U7());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ig(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>D2?50:800)+o);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(b)}}:null}function tg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ig(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ng=null;function ig(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ng=new Map,o.forEach(lI,s),ng=null,tg.call(s))}function lI(s,o){if(!(o.state.loading&4)){var c=ng.get(s);if(c)var d=c.get(null);else{c=new Map,ng.set(s,c);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var O=b[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),d=O)}d&&c.set(null,d)}b=o.instance,O=b.getAttribute("data-precedence"),S=c.get(O)||d,S===d&&c.set(null,b),c.set(O,b),this.count++,d=tg.bind(this),b.addEventListener("load",d),b.addEventListener("error",d),S?S.parentNode.insertBefore(b,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var Kd={$$typeof:Y,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function cI(s,o,c,d,b,S,O,ee,ye){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=d,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function c_(s,o,c,d,b,S,O,ee,ye,Oe,Ke,Qe){return s=new cI(s,o,c,O,ye,Oe,Ke,Qe,ee),o=1,S===!0&&(o|=24),S=Jr(3,null,null,o),s.current=S,S.stateNode=s,o=Uc(),o.refCount++,s.pooledCache=o,o.refCount++,S.memoizedState={element:d,isDehydrated:c,cache:o},at(S),s}function u_(s){return s?(s=Pr,s):Pr}function h_(s,o,c,d,b,S){b=u_(b),d.context===null?d.context=b:d.pendingContext=b,d=Wt(o),d.payload={element:c},S=S===void 0?null:S,S!==null&&(d.callback=S),c=fn(s,d,o),c!==null&&(_a(c,s,o),Yn(c,s,o))}function f_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function j2(s,o){f_(s,o),(s=s.alternate)&&f_(s,o)}function d_(s){if(s.tag===13||s.tag===31){var o=Lo(s,67108864);o!==null&&_a(o,s,67108864),j2(s,67108864)}}function p_(s){if(s.tag===13||s.tag===31){var o=Va();o=Jn(o);var c=Lo(s,o);c!==null&&_a(c,s,o),j2(s,o)}}var rg=!0;function uI(s,o,c,d){var b=oe.T;oe.T=null;var S=me.p;try{me.p=2,P2(s,o,c,d)}finally{me.p=S,oe.T=b}}function hI(s,o,c,d){var b=oe.T;oe.T=null;var S=me.p;try{me.p=8,P2(s,o,c,d)}finally{me.p=S,oe.T=b}}function P2(s,o,c,d){if(rg){var b=k2(d);if(b===null)w2(s,o,d,sg,c),g_(s,d);else if(dI(b,s,o,c,d))d.stopPropagation();else if(g_(s,d),o&4&&-1<fI.indexOf(s)){for(;b!==null;){var S=Rr(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Tt(S.pendingLanes);if(O!==0){var ee=S;for(ee.pendingLanes|=2,ee.entangledLanes|=2;O;){var ye=1<<31-an(O);ee.entanglements[1]|=ye,O&=~ye}vl(S),(Qn&6)===0&&(Um=Ht()+500,zd(0))}}break;case 31:case 13:ee=Lo(S,2),ee!==null&&_a(ee,S,2),qm(),j2(S,2)}if(S=k2(d),S===null&&w2(s,o,d,sg,c),S===b)break;b=S}b!==null&&d.stopPropagation()}else w2(s,o,d,null,c)}}function k2(s){return s=Yr(s),M2(s)}var sg=null;function M2(s){if(sg=null,s=os(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===31){if(s=u(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return sg=s,null}function m_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case st:return 2;case Yt:return 8;case Xt:case gt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var O2=!1,eu=null,tu=null,nu=null,Yd=new Map,Xd=new Map,iu=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(s,o){switch(s){case"focusin":case"focusout":eu=null;break;case"dragenter":case"dragleave":tu=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":Yd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(o.pointerId)}}function Qd(s,o,c,d,b,S){return s===null||s.nativeEvent!==S?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:S,targetContainers:[b]},o!==null&&(o=Rr(o),o!==null&&d_(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function dI(s,o,c,d,b){switch(o){case"focusin":return eu=Qd(eu,s,o,c,d,b),!0;case"dragenter":return tu=Qd(tu,s,o,c,d,b),!0;case"mouseover":return nu=Qd(nu,s,o,c,d,b),!0;case"pointerover":var S=b.pointerId;return Yd.set(S,Qd(Yd.get(S)||null,s,o,c,d,b)),!0;case"gotpointercapture":return S=b.pointerId,Xd.set(S,Qd(Xd.get(S)||null,s,o,c,d,b)),!0}return!1}function y_(s){var o=os(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,Cr(s.priority,function(){p_(c)});return}}else if(o===31){if(o=u(c),o!==null){s.blockedOn=o,Cr(s.priority,function(){p_(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ag(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=k2(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Ia=d,c.target.dispatchEvent(d),Ia=null}else return o=Rr(c),o!==null&&d_(o),s.blockedOn=c,!1;o.shift()}return!0}function v_(s,o,c){ag(s)&&c.delete(o)}function pI(){O2=!1,eu!==null&&ag(eu)&&(eu=null),tu!==null&&ag(tu)&&(tu=null),nu!==null&&ag(nu)&&(nu=null),Yd.forEach(v_),Xd.forEach(v_)}function og(s,o){s.blockedOn===o&&(s.blockedOn=null,O2||(O2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pI)))}var lg=null;function b_(s){lg!==s&&(lg=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lg===s&&(lg=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],b=s[o+2];if(typeof d!="function"){if(M2(d||c)===null)continue;break}var S=Rr(c);S!==null&&(s.splice(o,3),o-=3,k0(S,{pending:!0,data:b,method:c.method,action:d},d,b))}}))}function mf(s){function o(ye){return og(ye,s)}eu!==null&&og(eu,s),tu!==null&&og(tu,s),nu!==null&&og(nu,s),Yd.forEach(o),Xd.forEach(o);for(var c=0;c<iu.length;c++){var d=iu[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<iu.length&&(c=iu[0],c.blockedOn===null);)y_(c),c.blockedOn===null&&iu.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var b=c[d],S=c[d+1],O=b[ti]||null;if(typeof S=="function")O||b_(c);else if(O){var ee=null;if(S&&S.hasAttribute("formAction")){if(b=S,O=S[ti]||null)ee=O.formAction;else if(M2(b)!==null)continue}else ee=O.action;typeof ee=="function"?c[d+1]=ee:(c.splice(d,3),d-=3),b_(c)}}}function w_(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function V2(s){this._internalRoot=s}cg.prototype.render=V2.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Va();h_(c,d,s,o,null,null)},cg.prototype.unmount=V2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;h_(s.current,2,null,s,null,null),qm(),o[Ki]=null}};function cg(s){this._internalRoot=s}cg.prototype.unstable_scheduleHydration=function(s){if(s){var o=$i();s={blockedOn:null,target:s,priority:o};for(var c=0;c<iu.length&&o!==0&&o<iu[c].priority;c++);iu.splice(c,0,s),c===0&&y_(s)}};var __=e.version;if(__!=="19.2.3")throw Error(i(527,__,"19.2.3"));me.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var mI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{nn=ug.inject(mI),jt=ug}catch{}}return Zd.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",b=Cw,S=Rw,O=Iw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=c_(s,1,!1,null,null,c,d,null,b,S,O,w_),s[Ki]=o.current,b2(s),new V2(o)},Zd.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,b="",S=Cw,O=Rw,ee=Iw,ye=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.formState!==void 0&&(ye=c.formState)),o=c_(s,1,!0,o,c??null,d,b,ye,S,O,ee,w_),o.context=u_(null),c=o.current,d=Va(),d=Jn(d),b=Wt(d),b.callback=null,fn(c,b,d),c=d,o.current.lanes=c,It(o,c),vl(o),s[Ki]=o.current,b2(s),new cg(o)},Zd.version="19.2.3",Zd}var L_;function AI(){if(L_)return U2.exports;L_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),U2.exports=SI(),U2.exports}var TI=AI(),G2={exports:{}};var D_;function EI(){return D_||(D_=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=r(a,i(u)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)e.call(a,u)&&a[u]&&(l=r(l,u));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(G2)),G2.exports}var NI=EI();const At=V1(NI);function Zy(){return Zy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zy.apply(null,arguments)}function mA(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function j_(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function CI(n){var e=RI(n,"string");return typeof e=="symbol"?e:String(e)}function RI(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function II(n,e,t){var i=$.useRef(n!==void 0),r=$.useState(e),a=r[0],l=r[1],u=n!==void 0,h=i.current;return i.current=u,!u&&h&&a!==e&&l(e),[u?n:a,$.useCallback(function(f){for(var p=arguments.length,v=new Array(p>1?p-1:0),x=1;x<p;x++)v[x-1]=arguments[x];t&&t.apply(void 0,[f].concat(v)),l(f)},[t])]}function B1(n,e){return Object.keys(e).reduce(function(t,i){var r,a=t,l=a[j_(i)],u=a[i],h=mA(a,[j_(i),i].map(CI)),f=e[i],p=II(u,l,n[f]),v=p[0],x=p[1];return Zy({},h,(r={},r[i]=v,r[f]=x,r))},n)}function ev(n,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ev(n,e)}function LI(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ev(n,e)}const DI=["xxl","xl","lg","md","sm","xs"],jI="xs",Kp=$.createContext({prefixes:{},breakpoints:DI,minBreakpoint:jI}),{Consumer:Q$,Provider:J$}=Kp;function qt(n,e){const{prefixes:t}=$.useContext(Kp);return n||t[e]||e}function gA(){const{breakpoints:n}=$.useContext(Kp);return n}function yA(){const{minBreakpoint:n}=$.useContext(Kp);return n}function PI(){const{dir:n}=$.useContext(Kp);return n==="rtl"}function F1(n){return n&&n.ownerDocument||document}function kI(n){var e=F1(n);return e&&e.defaultView||window}function MI(n,e){return kI(n).getComputedStyle(n,e)}var OI=/([A-Z])/g;function VI(n){return n.replace(OI,"-$1").toLowerCase()}var BI=/^ms-/;function hg(n){return VI(n).replace(BI,"-ms-")}var FI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function UI(n){return!!(n&&FI.test(n))}function mc(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(hg(e))||MI(n).getPropertyValue(hg(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?n.style.removeProperty(hg(r)):UI(r)?i+=r+"("+a+") ":t+=hg(r)+": "+a+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var W2={exports:{}},$2,P_;function zI(){if(P_)return $2;P_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $2=n,$2}var K2,k_;function qI(){if(k_)return K2;k_=1;var n=zI();function e(){}function t(){}return t.resetWarningCache=e,K2=function(){function i(l,u,h,f,p,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},K2}var M_;function HI(){return M_||(M_=1,W2.exports=qI()()),W2.exports}var GI=HI();const gc=V1(GI);var WI=pA();const Nf=V1(WI),O_={disabled:!1},vA=Ss.createContext(null);var $I=function(e){return e.scrollTop},op="unmounted",uu="exited",qo="entering",cc="entered",Ip="exiting",Cc=(function(n){LI(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var l=r,u=l&&!l.isMounting?i.enter:i.appear,h;return a.appearStatus=null,i.in?u?(h=uu,a.appearStatus=qo):h=cc:i.unmountOnExit||i.mountOnEnter?h=op:h=uu,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var l=r.in;return l&&a.status===op?{status:uu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var a=null;if(r!==this.props){var l=this.state.status;this.props.in?l!==qo&&l!==cc&&(a=qo):(l===qo||l===cc)&&(a=Ip)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,a,l,u;return a=l=u=r,r!=null&&typeof r!="number"&&(a=r.exit,l=r.enter,u=r.appear!==void 0?r.appear:l),{exit:a,enter:l,appear:u}},t.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===qo){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Nf.findDOMNode(this);l&&$I(l)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uu&&this.setState({status:op})},t.performEnter=function(r){var a=this,l=this.props.enter,u=this.context?this.context.isMounting:r,h=this.props.nodeRef?[u]:[Nf.findDOMNode(this),u],f=h[0],p=h[1],v=this.getTimeouts(),x=u?v.appear:v.enter;if(!r&&!l||O_.disabled){this.safeSetState({status:cc},function(){a.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:qo},function(){a.props.onEntering(f,p),a.onTransitionEnd(x,function(){a.safeSetState({status:cc},function(){a.props.onEntered(f,p)})})})},t.performExit=function(){var r=this,a=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Nf.findDOMNode(this);if(!a||O_.disabled){this.safeSetState({status:uu},function(){r.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Ip},function(){r.props.onExiting(u),r.onTransitionEnd(l.exit,function(){r.safeSetState({status:uu},function(){r.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},t.setNextCallback=function(r){var a=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,a.nextCallback=null,r(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(r,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Nf.findDOMNode(this),u=r==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=h[0],p=h[1];this.props.addEndListener(f,p)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===op)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=mA(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ss.createElement(vA.Provider,{value:null},typeof l=="function"?l(r,u):Ss.cloneElement(Ss.Children.only(l),u))},e})(Ss.Component);Cc.contextType=vA;Cc.propTypes={};function gf(){}Cc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gf,onEntering:gf,onEntered:gf,onExit:gf,onExiting:gf,onExited:gf};Cc.UNMOUNTED=op;Cc.EXITED=uu;Cc.ENTERING=qo;Cc.ENTERED=cc;Cc.EXITING=Ip;function KI(n){return n.code==="Escape"||n.keyCode===27}function YI(){const n=$.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function td(n){if(!n||typeof n=="function")return null;const{major:e}=YI();return e>=19?n.props.ref:n.ref}const nd=!!(typeof window<"u"&&window.document&&window.document.createElement);var tv=!1,nv=!1;try{var Y2={get passive(){return tv=!0},get once(){return nv=tv=!0}};nd&&(window.addEventListener("test",Y2,Y2),window.removeEventListener("test",Y2,!0))}catch{}function bA(n,e,t,i){if(i&&typeof i!="boolean"&&!nv){var r=i.once,a=i.capture,l=t;!nv&&r&&(l=t.__once||function u(h){this.removeEventListener(e,u,a),t.call(this,h)},t.__once=l),n.addEventListener(e,l,tv?i:a)}n.addEventListener(e,t,i)}function iv(n,e,t,i){var r=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,r),t.__once&&n.removeEventListener(e,t.__once,r)}function e1(n,e,t,i){return bA(n,e,t,i),function(){iv(n,e,t,i)}}function XI(n,e,t,i){if(i===void 0&&(i=!0),n){var r=document.createEvent("HTMLEvents");r.initEvent(e,t,i),n.dispatchEvent(r)}}function QI(n){var e=mc(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function JI(n,e,t){t===void 0&&(t=5);var i=!1,r=setTimeout(function(){i||XI(n,"transitionend",!0)},e+t),a=e1(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),a()}}function wA(n,e,t,i){t==null&&(t=QI(n)||0);var r=JI(n,t,i),a=e1(n,"transitionend",e);return function(){r(),a()}}function V_(n,e){const t=mc(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function g5(n,e){const t=V_(n,"transitionDuration"),i=V_(n,"transitionDelay"),r=wA(n,a=>{a.target===n&&(r(),e(a))},t+i)}function ep(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...r){e.apply(this,r),t.apply(this,r)}},null)}function _A(n){n.offsetHeight}const B_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function ZI(n,e){const t=B_(n),i=B_(e);return r=>{t&&t(r),i&&i(r)}}function xA(n,e){return $.useMemo(()=>ZI(n,e),[n,e])}function eL(n){return n&&"setState"in n?Nf.findDOMNode(n):n??null}const U1=Ss.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,onExited:a,addEndListener:l,children:u,childRef:h,...f},p)=>{const v=$.useRef(null),x=xA(v,h),w=ge=>{x(eL(ge))},N=ge=>U=>{ge&&v.current&&ge(v.current,U)},L=$.useCallback(N(n),[n]),I=$.useCallback(N(e),[e]),j=$.useCallback(N(t),[t]),X=$.useCallback(N(i),[i]),Y=$.useCallback(N(r),[r]),Z=$.useCallback(N(a),[a]),ae=$.useCallback(N(l),[l]);return y.jsx(Cc,{ref:p,...f,onEnter:L,onEntered:j,onEntering:I,onExit:X,onExited:Z,onExiting:Y,addEndListener:ae,nodeRef:v,children:typeof u=="function"?(ge,U)=>u(ge,{...U,ref:w}):Ss.cloneElement(u,{ref:w})})});U1.displayName="TransitionWrapper";const tL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function nL(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],r=tL[n];return i+parseInt(mc(e,r[0]),10)+parseInt(mc(e,r[1]),10)}const iL={[uu]:"collapse",[Ip]:"collapsing",[qo]:"collapsing",[cc]:"collapse show"},SA=Ss.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,className:a,children:l,dimension:u="height",in:h=!1,timeout:f=300,mountOnEnter:p=!1,unmountOnExit:v=!1,appear:x=!1,getDimensionValue:w=nL,...N},L)=>{const I=typeof u=="function"?u():u,j=$.useMemo(()=>ep(ge=>{ge.style[I]="0"},n),[I,n]),X=$.useMemo(()=>ep(ge=>{const U=`scroll${I[0].toUpperCase()}${I.slice(1)}`;ge.style[I]=`${ge[U]}px`},e),[I,e]),Y=$.useMemo(()=>ep(ge=>{ge.style[I]=null},t),[I,t]),Z=$.useMemo(()=>ep(ge=>{ge.style[I]=`${w(I,ge)}px`,_A(ge)},i),[i,w,I]),ae=$.useMemo(()=>ep(ge=>{ge.style[I]=null},r),[I,r]);return y.jsx(U1,{ref:L,addEndListener:g5,...N,"aria-expanded":N.role?h:null,onEnter:j,onEntering:X,onEntered:Y,onExit:Z,onExiting:ae,childRef:td(l),in:h,timeout:f,mountOnEnter:p,unmountOnExit:v,appear:x,children:(ge,U)=>Ss.cloneElement(l,{...U,className:At(a,l.props.className,iL[ge],I==="width"&&"collapse-horizontal")})})});SA.displayName="Collapse";function rL(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n},[n]),e}function Tu(n){const e=rL(n);return $.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Yp=(n=>$.forwardRef((e,t)=>y.jsx("div",{...e,ref:t,className:At(e.className,n)}))),AA=Yp("h4");AA.displayName="DivStyledAsH4";const TA=$.forwardRef(({className:n,bsPrefix:e,as:t=AA,...i},r)=>(e=qt(e,"alert-heading"),y.jsx(t,{ref:r,className:At(n,e),...i})));TA.displayName="AlertHeading";function sL(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n},[n]),e}function uc(n){const e=sL(n);return $.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function aL(){const n=$.useRef(!0),e=$.useRef(()=>n.current);return $.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function oL(n){const e=$.useRef(null);return $.useEffect(()=>{e.current=n}),e.current}const lL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",cL=typeof document<"u",F_=cL||lL?$.useLayoutEffect:$.useEffect,uL=["as","disabled"];function hL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function fL(n){return!n||n.trim()==="#"}function y5({tagName:n,disabled:e,href:t,target:i,rel:r,role:a,onClick:l,tabIndex:u=0,type:h}){n||(t!=null||i!=null||r!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},f];const p=x=>{if((e||n==="a"&&fL(t))&&x.preventDefault(),e){x.stopPropagation();return}l?.(x)},v=x=>{x.key===" "&&(x.preventDefault(),p(x))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?r:void 0,onClick:p,onKeyDown:v},f]}const EA=$.forwardRef((n,e)=>{let{as:t,disabled:i}=n,r=hL(n,uL);const[a,{tagName:l}]=y5(Object.assign({tagName:t,disabled:i},r));return y.jsx(l,Object.assign({},r,a,{ref:e}))});EA.displayName="Button";const dL=["onKeyDown"];function pL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function mL(n){return!n||n.trim()==="#"}const v5=$.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=pL(n,dL);const[r]=y5(Object.assign({tagName:"a"},i)),a=uc(l=>{r.onKeyDown(l),t?.(l)});return mL(i.href)||i.role==="button"?y.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:a})):y.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});v5.displayName="Anchor";const NA=$.forwardRef(({className:n,bsPrefix:e,as:t=v5,...i},r)=>(e=qt(e,"alert-link"),y.jsx(t,{ref:r,className:At(n,e),...i})));NA.displayName="AlertLink";const gL={[qo]:"show",[cc]:"show"},Gf=$.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...r},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},u=$.useCallback((h,f)=>{_A(h),i?.(h,f)},[i]);return y.jsx(U1,{ref:a,addEndListener:g5,...l,onEnter:u,childRef:td(e),children:(h,f)=>$.cloneElement(e,{...f,className:At("fade",n,e.props.className,gL[h],t[h])})})});Gf.displayName="Fade";const yL={"aria-label":gc.string,onClick:gc.func,variant:gc.oneOf(["white"])},z1=$.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},r)=>y.jsx("button",{ref:r,type:"button",className:At("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));z1.displayName="CloseButton";z1.propTypes=yL;const CA=$.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:r="Close alert",closeVariant:a,className:l,children:u,variant:h="primary",onClose:f,dismissible:p,transition:v=Gf,...x}=B1(n,{show:"onClose"}),w=qt(t,"alert"),N=Tu(j=>{f&&f(!1,j)}),L=v===!0?Gf:v,I=y.jsxs("div",{role:"alert",...L?void 0:x,ref:e,className:At(l,w,h&&`${w}-${h}`,p&&`${w}-dismissible`),children:[p&&y.jsx(z1,{onClick:N,"aria-label":r,variant:a}),u]});return L?y.jsx(L,{unmountOnExit:!0,...x,ref:void 0,in:i,children:I}):i?I:null});CA.displayName="Alert";const vL=Object.assign(CA,{Link:NA,Heading:TA}),bh=$.forwardRef(({bsPrefix:n,bg:e="primary",pill:t=!1,text:i,className:r,as:a="span",...l},u)=>{const h=qt(n,"badge");return y.jsx(a,{ref:u,...l,className:At(r,h,t&&"rounded-pill",i&&`text-${i}`,e&&`bg-${e}`)})});bh.displayName="Badge";const Mt=$.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:r=!1,disabled:a=!1,className:l,...u},h)=>{const f=qt(e,"btn"),[p,{tagName:v}]=y5({tagName:n,disabled:a,...u}),x=v;return y.jsx(x,{...p,...u,ref:h,disabled:a,className:At(l,f,r&&"active",t&&`${f}-${t}`,i&&`${f}-${i}`,u.href&&a&&"disabled")})});Mt.displayName="Button";const b5=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"card-body"),y.jsx(t,{ref:r,className:At(n,e),...i})));b5.displayName="CardBody";const RA=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"card-footer"),y.jsx(t,{ref:r,className:At(n,e),...i})));RA.displayName="CardFooter";const w5=$.createContext(null);w5.displayName="CardHeaderContext";const IA=$.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},r)=>{const a=qt(n,"card-header"),l=$.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return y.jsx(w5.Provider,{value:l,children:y.jsx(t,{ref:r,...i,className:At(e,a)})})});IA.displayName="CardHeader";const LA=$.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...r},a)=>{const l=qt(n,"card-img");return y.jsx(i,{ref:a,className:At(t?`${l}-${t}`:l,e),...r})});LA.displayName="CardImg";const DA=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"card-img-overlay"),y.jsx(t,{ref:r,className:At(n,e),...i})));DA.displayName="CardImgOverlay";const jA=$.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},r)=>(e=qt(e,"card-link"),y.jsx(t,{ref:r,className:At(n,e),...i})));jA.displayName="CardLink";const bL=Yp("h6"),PA=$.forwardRef(({className:n,bsPrefix:e,as:t=bL,...i},r)=>(e=qt(e,"card-subtitle"),y.jsx(t,{ref:r,className:At(n,e),...i})));PA.displayName="CardSubtitle";const kA=$.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},r)=>(e=qt(e,"card-text"),y.jsx(t,{ref:r,className:At(n,e),...i})));kA.displayName="CardText";const wL=Yp("h5"),MA=$.forwardRef(({className:n,bsPrefix:e,as:t=wL,...i},r)=>(e=qt(e,"card-title"),y.jsx(t,{ref:r,className:At(n,e),...i})));MA.displayName="CardTitle";const OA=$.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:r,body:a=!1,children:l,as:u="div",...h},f)=>{const p=qt(n,"card");return y.jsx(u,{ref:f,...h,className:At(e,p,t&&`bg-${t}`,i&&`text-${i}`,r&&`border-${r}`),children:a?y.jsx(b5,{children:l}):l})});OA.displayName="Card";const dn=Object.assign(OA,{Img:LA,Title:MA,Subtitle:PA,Body:b5,Link:jA,Text:kA,Header:IA,Footer:RA,ImgOverlay:DA});function _L(n){const e=$.useRef(n);return e.current=n,e}function xL(n){const e=_L(n);$.useEffect(()=>()=>e.current(),[])}function SL(n,e){let t=0;return $.Children.map(n,i=>$.isValidElement(i)?e(i,t++):i)}function AL(n,e){return $.Children.toArray(n).some(t=>$.isValidElement(t)&&t.type===e)}function TL({as:n,bsPrefix:e,className:t,...i}){e=qt(e,"col");const r=gA(),a=yA(),l=[],u=[];return r.forEach(h=>{const f=i[h];delete i[h];let p,v,x;typeof f=="object"&&f!=null?{span:p,offset:v,order:x}=f:p=f;const w=h!==a?`-${h}`:"";p&&l.push(p===!0?`${e}${w}`:`${e}${w}-${p}`),x!=null&&u.push(`order${w}-${x}`),v!=null&&u.push(`offset${w}-${v}`)}),[{...i,className:At(t,...l,...u)},{as:n,bsPrefix:e,spans:l}]}const kn=$.forwardRef((n,e)=>{const[{className:t,...i},{as:r="div",bsPrefix:a,spans:l}]=TL(n);return y.jsx(r,{...i,ref:e,className:At(t,!l.length&&a)})});kn.displayName="Col";const q1=$.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...r},a)=>{const l=qt(n,"container"),u=typeof e=="string"?`-${e}`:"-fluid";return y.jsx(t,{ref:a,...r,className:At(i,e?`${l}${u}`:l)})});q1.displayName="Container";var EL=Function.prototype.bind.call(Function.prototype.call,[].slice);function ah(n,e){return EL(n.querySelectorAll(e))}function NL(){const[,n]=$.useReducer(e=>e+1,0);return n}function U_(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const t1=$.createContext(null),H1=(n,e=null)=>n!=null?String(n):e||null,_5=$.createContext(null);_5.displayName="NavContext";const CL="data-rr-ui-",RL="rrUi";function G1(n){return`${CL}${n}`}function IL(n){return`${RL}${n}`}const VA=$.createContext(nd?window:void 0);VA.Provider;function x5(){return $.useContext(VA)}const LL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",DL=typeof document<"u",jL=DL||LL?$.useLayoutEffect:$.useEffect,BA=$.createContext(null);BA.displayName="InputGroupContext";const id=$.createContext(null);id.displayName="NavbarContext";const PL={type:gc.string,tooltip:gc.bool,as:gc.elementType},W1=$.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...r},a)=>y.jsx(n,{...r,ref:a,className:At(e,`${t}-${i?"tooltip":"feedback"}`)}));W1.displayName="Feedback";W1.propTypes=PL;const wc=$.createContext({}),Xp=$.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:r=!1,isInvalid:a=!1,as:l="input",...u},h)=>{const{controlId:f}=$.useContext(wc);return e=qt(e,"form-check-input"),y.jsx(l,{...u,ref:h,type:i,id:n||f,className:At(t,e,r&&"is-valid",a&&"is-invalid")})});Xp.displayName="FormCheckInput";const n1=$.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},r)=>{const{controlId:a}=$.useContext(wc);return n=qt(n,"form-check-label"),y.jsx("label",{...i,ref:r,htmlFor:t||a,className:At(e,n)})});n1.displayName="FormCheckLabel";const FA=$.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:r=!1,disabled:a=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:h=!1,feedback:f,feedbackType:p,className:v,style:x,title:w="",type:N="checkbox",label:L,children:I,as:j="input",...X},Y)=>{e=qt(e,"form-check"),t=qt(t,"form-switch");const{controlId:Z}=$.useContext(wc),ae=$.useMemo(()=>({controlId:n||Z}),[Z,n]),ge=!I&&L!=null&&L!==!1||AL(I,n1),U=y.jsx(Xp,{...X,type:N==="switch"?"checkbox":N,ref:Y,isValid:l,isInvalid:u,disabled:a,as:j});return y.jsx(wc.Provider,{value:ae,children:y.jsx("div",{style:x,className:At(v,ge&&e,i&&`${e}-inline`,r&&`${e}-reverse`,N==="switch"&&t),children:I||y.jsxs(y.Fragment,{children:[U,ge&&y.jsx(n1,{title:w,children:L}),f&&y.jsx(W1,{type:p,tooltip:h,children:f})]})})})});FA.displayName="FormCheck";const i1=Object.assign(FA,{Input:Xp,Label:n1}),UA=$.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:r,className:a,isValid:l=!1,isInvalid:u=!1,plaintext:h,readOnly:f,as:p="input",...v},x)=>{const{controlId:w}=$.useContext(wc);return n=qt(n,"form-control"),y.jsx(p,{...v,type:e,size:i,ref:x,readOnly:f,id:r||w,className:At(a,h?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})});UA.displayName="FormControl";const kL=Object.assign(UA,{Feedback:W1}),zA=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"form-floating"),y.jsx(t,{ref:r,className:At(n,e),...i})));zA.displayName="FormFloating";const S5=$.forwardRef(({controlId:n,as:e="div",...t},i)=>{const r=$.useMemo(()=>({controlId:n}),[n]);return y.jsx(wc.Provider,{value:r,children:y.jsx(e,{...t,ref:i})})});S5.displayName="FormGroup";const qA=$.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:r,htmlFor:a,...l},u)=>{const{controlId:h}=$.useContext(wc);e=qt(e,"form-label");let f="col-form-label";typeof t=="string"&&(f=`${f} ${f}-${t}`);const p=At(r,e,i&&"visually-hidden",t&&f);return a=a||h,t?y.jsx(kn,{ref:u,as:"label",className:p,htmlFor:a,...l}):y.jsx(n,{ref:u,className:p,htmlFor:a,...l})});qA.displayName="FormLabel";const HA=$.forwardRef(({bsPrefix:n,className:e,id:t,...i},r)=>{const{controlId:a}=$.useContext(wc);return n=qt(n,"form-range"),y.jsx("input",{...i,type:"range",ref:r,className:At(e,n),id:t||a})});HA.displayName="FormRange";const GA=$.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:r=!1,isInvalid:a=!1,id:l,...u},h)=>{const{controlId:f}=$.useContext(wc);return n=qt(n,"form-select"),y.jsx("select",{...u,size:t,ref:h,className:At(i,n,e&&`${n}-${e}`,r&&"is-valid",a&&"is-invalid"),id:l||f})});GA.displayName="FormSelect";const WA=$.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...r},a)=>(n=qt(n,"form-text"),y.jsx(t,{...r,ref:a,className:At(e,n,i&&"text-muted")})));WA.displayName="FormText";const $A=$.forwardRef((n,e)=>y.jsx(i1,{...n,ref:e,type:"switch"}));$A.displayName="Switch";const ML=Object.assign($A,{Input:i1.Input,Label:i1.Label}),KA=$.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:r,...a},l)=>(n=qt(n,"form-floating"),y.jsxs(S5,{ref:l,className:At(e,n),controlId:i,...a,children:[t,y.jsx("label",{htmlFor:i,children:r})]})));KA.displayName="FloatingLabel";const OL={_ref:gc.any,validated:gc.bool,as:gc.elementType},A5=$.forwardRef(({className:n,validated:e,as:t="form",...i},r)=>y.jsx(t,{...i,ref:r,className:At(n,e&&"was-validated")}));A5.displayName="Form";A5.propTypes=OL;const Ue=Object.assign(A5,{Group:S5,Control:kL,Floating:zA,Check:i1,Switch:ML,Label:qA,Text:WA,Range:HA,Select:GA,FloatingLabel:KA}),$1=$.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},r)=>(e=qt(e,"input-group-text"),y.jsx(t,{ref:r,className:At(n,e),...i})));$1.displayName="InputGroupText";const VL=n=>y.jsx($1,{children:y.jsx(Xp,{type:"checkbox",...n})}),BL=n=>y.jsx($1,{children:y.jsx(Xp,{type:"radio",...n})}),YA=$.forwardRef(({bsPrefix:n,size:e,hasValidation:t,className:i,as:r="div",...a},l)=>{n=qt(n,"input-group");const u=$.useMemo(()=>({}),[]);return y.jsx(BA.Provider,{value:u,children:y.jsx(r,{ref:l,...a,className:At(i,n,e&&`${n}-${e}`,t&&"has-validation")})})});YA.displayName="InputGroup";const pu=Object.assign(YA,{Text:$1,Radio:BL,Checkbox:VL}),z_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function FL(n,e){const t=z_(n),i=z_(e);return r=>{t&&t(r),i&&i(r)}}function K1(n,e){return $.useMemo(()=>FL(n,e),[n,e])}const XA=$.createContext(null),UL=["as","active","eventKey"];function zL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function T5({key:n,onClick:e,active:t,id:i,role:r,disabled:a}){const l=$.useContext(t1),u=$.useContext(_5),h=$.useContext(XA);let f=t;const p={role:r};if(u){!r&&u.role==="tablist"&&(p.role="tab");const v=u.getControllerId(n??null),x=u.getControlledId(n??null);p[G1("event-key")]=n,p.id=v||i,f=t==null&&n!=null?u.activeKey===n:t,(f||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(p["aria-controls"]=x)}return p.role==="tab"&&(p["aria-selected"]=f,f||(p.tabIndex=-1),a&&(p.tabIndex=-1,p["aria-disabled"]=!0)),p.onClick=uc(v=>{a||(e?.(v),n!=null&&l&&!v.isPropagationStopped()&&l(n,v))}),[p,{isActive:f}]}const QA=$.forwardRef((n,e)=>{let{as:t=EA,active:i,eventKey:r}=n,a=zL(n,UL);const[l,u]=T5(Object.assign({key:H1(r,a.href),active:i},a));return l[G1("active")]=u.isActive,y.jsx(t,Object.assign({},a,l,{ref:e}))});QA.displayName="NavItem";const qL=["as","onSelect","activeKey","role","onKeyDown"];function HL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const q_=()=>{},H_=G1("event-key"),JA=$.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:r,role:a,onKeyDown:l}=n,u=HL(n,qL);const h=NL(),f=$.useRef(!1),p=$.useContext(t1),v=$.useContext(XA);let x,w;v&&(a=a||"tablist",r=v.activeKey,x=v.getControlledId,w=v.getControllerId);const N=$.useRef(null),L=Y=>{const Z=N.current;if(!Z)return null;const ae=ah(Z,`[${H_}]:not([aria-disabled=true])`),ge=Z.querySelector("[aria-selected=true]");if(!ge||ge!==document.activeElement)return null;const U=ae.indexOf(ge);if(U===-1)return null;let M=U+Y;return M>=ae.length&&(M=0),M<0&&(M=ae.length-1),ae[M]},I=(Y,Z)=>{Y!=null&&(i?.(Y,Z),p?.(Y,Z))},j=Y=>{if(l?.(Y),!v)return;let Z;switch(Y.key){case"ArrowLeft":case"ArrowUp":Z=L(-1);break;case"ArrowRight":case"ArrowDown":Z=L(1);break;default:return}Z&&(Y.preventDefault(),I(Z.dataset[IL("EventKey")]||null,Y),f.current=!0,h())};$.useEffect(()=>{if(N.current&&f.current){const Y=N.current.querySelector(`[${H_}][aria-selected=true]`);Y?.focus()}f.current=!1});const X=K1(e,N);return y.jsx(t1.Provider,{value:I,children:y.jsx(_5.Provider,{value:{role:a,activeKey:H1(r),getControlledId:x||q_,getControllerId:w||q_},children:y.jsx(t,Object.assign({},u,{onKeyDown:j,ref:X,role:a}))})})});JA.displayName="Nav";const ZA=Object.assign(JA,{Item:QA}),eT=$.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:i,className:r,variant:a,action:l,as:u,...h},f)=>{n=qt(n,"list-group-item");const[p,v]=T5({key:H1(i,h.href),active:e,...h}),x=Tu(N=>{if(t){N.preventDefault(),N.stopPropagation();return}p.onClick(N)});t&&h.tabIndex===void 0&&(h.tabIndex=-1,h["aria-disabled"]=!0);const w=u||(l?h.href?"a":"button":"div");return y.jsx(w,{ref:f,...h,...p,onClick:x,className:At(r,n,v.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,l&&`${n}-action`)})});eT.displayName="ListGroupItem";const tT=$.forwardRef((n,e)=>{const{className:t,bsPrefix:i,variant:r,horizontal:a,numbered:l,as:u="div",...h}=B1(n,{activeKey:"onSelect"}),f=qt(i,"list-group");let p;return a&&(p=a===!0?"horizontal":`horizontal-${a}`),y.jsx(ZA,{ref:e,...h,as:u,className:At(t,f,r&&`${f}-${r}`,p&&`${f}-${p}`,l&&`${f}-numbered`)})});tT.displayName="ListGroup";const tp=Object.assign(tT,{Item:eT});var fg;function G_(n){if((!fg&&fg!==0||n)&&nd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),fg=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return fg}function GL(){return $.useState(null)}function X2(n){n===void 0&&(n=F1());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function WL(n){const e=$.useRef(n);return e.current=n,e}function $L(n){const e=WL(n);$.useEffect(()=>()=>e.current(),[])}function KL(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const W_=G1("modal-open");class E5{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return KL(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(mc(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(W_,""),mc(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(W_),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Q2=(n,e)=>nd?n==null?(e||F1()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function YL(n,e){const t=x5(),[i,r]=$.useState(()=>Q2(n,t?.document));if(!i){const a=Q2(n);a&&r(a)}return $.useEffect(()=>{},[e,i]),$.useEffect(()=>{const a=Q2(n);a!==i&&r(a)},[n,i]),i}function XL({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:r}){const a=$.useRef(null),l=$.useRef(e),u=uc(t);$.useEffect(()=>{e?l.current=!0:u(a.current)},[e,u]);const h=K1(a,td(n)),f=$.cloneElement(n,{ref:h});return e?f:r||!l.current&&i?null:f}const QL=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function JL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ZL(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:r,onExiting:a,onExited:l,addEndListener:u,children:h}=n,f=JL(n,QL);const p=$.useRef(null),v=K1(p,td(h)),x=Z=>ae=>{Z&&p.current&&Z(p.current,ae)},w=$.useCallback(x(e),[e]),N=$.useCallback(x(t),[t]),L=$.useCallback(x(i),[i]),I=$.useCallback(x(r),[r]),j=$.useCallback(x(a),[a]),X=$.useCallback(x(l),[l]),Y=$.useCallback(x(u),[u]);return Object.assign({},f,{nodeRef:p},e&&{onEnter:w},t&&{onEntering:N},i&&{onEntered:L},r&&{onExit:I},a&&{onExiting:j},l&&{onExited:X},u&&{addEndListener:Y},{children:typeof h=="function"?(Z,ae)=>h(Z,Object.assign({},ae,{ref:v})):$.cloneElement(h,{ref:v})})}const eD=["component"];function tD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const nD=$.forwardRef((n,e)=>{let{component:t}=n,i=tD(n,eD);const r=ZL(i);return y.jsx(t,Object.assign({ref:e},r))});function iD({in:n,onTransition:e}){const t=$.useRef(null),i=$.useRef(!0),r=uc(e);return F_(()=>{if(!t.current)return;let a=!1;return r({in:n,element:t.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[n,r]),F_(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function rD({children:n,in:e,onExited:t,onEntered:i,transition:r}){const[a,l]=$.useState(!e);e&&a&&l(!1);const u=iD({in:!!e,onTransition:f=>{const p=()=>{f.isStale()||(f.in?i?.(f.element,f.initial):(l(!0),t?.(f.element)))};Promise.resolve(r(f)).then(p,v=>{throw f.in||l(!0),v})}}),h=K1(u,td(n));return a&&!e?null:$.cloneElement(n,{ref:h})}function $_(n,e,t){return n?y.jsx(nD,Object.assign({},t,{component:n})):e?y.jsx(rD,Object.assign({},t,{transition:e})):y.jsx(XL,Object.assign({},t))}const sD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function aD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let J2;function oD(n){return J2||(J2=new E5({ownerDocument:n?.document})),J2}function lD(n){const e=x5(),t=n||oD(e),i=$.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:$.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:$.useCallback(r=>{i.current.backdrop=r},[])})}const nT=$.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:r,style:a,children:l,backdrop:u=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:p,transition:v,runTransition:x,backdropTransition:w,runBackdropTransition:N,autoFocus:L=!0,enforceFocus:I=!0,restoreFocus:j=!0,restoreFocusOptions:X,renderDialog:Y,renderBackdrop:Z=H=>y.jsx("div",Object.assign({},H)),manager:ae,container:ge,onShow:U,onHide:M=()=>{},onExit:k,onExited:W,onExiting:E,onEnter:R,onEntering:B,onEntered:ce}=n,Ae=aD(n,sD);const oe=x5(),me=YL(ge),se=lD(ae),Ne=aL(),ue=oL(t),[V,P]=$.useState(!t),G=$.useRef(null);$.useImperativeHandle(e,()=>se,[se]),nd&&!ue&&t&&(G.current=X2(oe?.document)),t&&V&&P(!1);const K=uc(()=>{if(se.add(),Ve.current=e1(document,"keydown",xe),Te.current=e1(document,"focus",()=>setTimeout(de),!0),U&&U(),L){var H,qe;const ot=X2((H=(qe=se.dialog)==null?void 0:qe.ownerDocument)!=null?H:oe?.document);se.dialog&&ot&&!U_(se.dialog,ot)&&(G.current=ot,se.dialog.focus())}}),re=uc(()=>{if(se.remove(),Ve.current==null||Ve.current(),Te.current==null||Te.current(),j){var H;(H=G.current)==null||H.focus==null||H.focus(X),G.current=null}});$.useEffect(()=>{!t||!me||K()},[t,me,K]),$.useEffect(()=>{V&&re()},[V,re]),$L(()=>{re()});const de=uc(()=>{if(!I||!Ne()||!se.isTopModal())return;const H=X2(oe?.document);se.dialog&&H&&!U_(se.dialog,H)&&se.dialog.focus()}),pe=uc(H=>{H.target===H.currentTarget&&(f?.(H),u===!0&&M())}),xe=uc(H=>{h&&KI(H)&&se.isTopModal()&&(p?.(H),H.defaultPrevented||M())}),Te=$.useRef(),Ve=$.useRef(),be=(...H)=>{P(!0),W?.(...H)};if(!me)return null;const Ce=Object.assign({role:i,ref:se.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Ae,{style:a,className:r,tabIndex:-1});let je=Y?Y(Ce):y.jsx("div",Object.assign({},Ce,{children:$.cloneElement(l,{role:"document"})}));je=$_(v,x,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:E,onExited:be,onEnter:R,onEntering:B,onEntered:ce,children:je});let Pe=null;return u&&(Pe=Z({ref:se.setBackdropRef,onClick:pe}),Pe=$_(w,N,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Pe})),y.jsx(y.Fragment,{children:Nf.createPortal(y.jsxs(y.Fragment,{children:[Pe,je]}),me)})});nT.displayName="Modal";const iT=Object.assign(nT,{Manager:E5});function cD(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function uD(n,e){n.classList?n.classList.add(e):cD(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function K_(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hD(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=K_(n.className,e):n.setAttribute("class",K_(n.className&&n.className.baseVal||"",e))}const yf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class rT extends E5{adjustAndStore(e,t,i){const r=t.style[e];t.dataset[e]=r,mc(t,{[e]:`${parseFloat(mc(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],mc(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(uD(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ah(t,yf.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),ah(t,yf.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),ah(t,yf.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();hD(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ah(t,yf.FIXED_CONTENT).forEach(a=>this.restore(i,a)),ah(t,yf.STICKY_CONTENT).forEach(a=>this.restore(r,a)),ah(t,yf.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Z2;function sT(n){return Z2||(Z2=new rT(n)),Z2}const aT=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"modal-body"),y.jsx(t,{ref:r,className:At(n,e),...i})));aT.displayName="ModalBody";const N5=$.createContext({onHide(){}}),C5=$.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:r,fullscreen:a,children:l,scrollable:u,...h},f)=>{n=qt(n,"modal");const p=`${n}-dialog`,v=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return y.jsx("div",{...h,ref:f,className:At(p,e,r&&`${n}-${r}`,i&&`${p}-centered`,u&&`${p}-scrollable`,a&&v),children:y.jsx("div",{className:At(`${n}-content`,t),children:l})})});C5.displayName="ModalDialog";const oT=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"modal-footer"),y.jsx(t,{ref:r,className:At(n,e),...i})));oT.displayName="ModalFooter";const R5=$.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:r,...a},l)=>{const u=$.useContext(N5),h=Tu(()=>{u?.onHide(),i?.()});return y.jsxs("div",{ref:l,...a,children:[r,t&&y.jsx(z1,{"aria-label":n,variant:e,onClick:h})]})});R5.displayName="AbstractModalHeader";const lT=$.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...r},a)=>(n=qt(n,"modal-header"),y.jsx(R5,{ref:a,...r,className:At(e,n),closeLabel:t,closeButton:i})));lT.displayName="ModalHeader";const fD=Yp("h4"),cT=$.forwardRef(({className:n,bsPrefix:e,as:t=fD,...i},r)=>(e=qt(e,"modal-title"),y.jsx(t,{ref:r,className:At(n,e),...i})));cT.displayName="ModalTitle";function dD(n){return y.jsx(Gf,{...n,timeout:null})}function pD(n){return y.jsx(Gf,{...n,timeout:null})}const uT=$.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:r,children:a,dialogAs:l=C5,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":f,"aria-label":p,show:v=!1,animation:x=!0,backdrop:w=!0,keyboard:N=!0,onEscapeKeyDown:L,onShow:I,onHide:j,container:X,autoFocus:Y=!0,enforceFocus:Z=!0,restoreFocus:ae=!0,restoreFocusOptions:ge,onEntered:U,onExit:M,onExiting:k,onEnter:W,onEntering:E,onExited:R,backdropClassName:B,manager:ce,...Ae},oe)=>{const[me,se]=$.useState({}),[Ne,ue]=$.useState(!1),V=$.useRef(!1),P=$.useRef(!1),G=$.useRef(null),[K,re]=GL(),de=xA(oe,re),pe=Tu(j),xe=PI();n=qt(n,"modal");const Te=$.useMemo(()=>({onHide:pe}),[pe]);function Ve(){return ce||sT({isRTL:xe})}function be(st){if(!nd)return;const Yt=Ve().getScrollbarWidth()>0,Xt=st.scrollHeight>F1(st).documentElement.clientHeight;se({paddingRight:Yt&&!Xt?G_():void 0,paddingLeft:!Yt&&Xt?G_():void 0})}const Ce=Tu(()=>{K&&be(K.dialog)});xL(()=>{iv(window,"resize",Ce),G.current==null||G.current()});const je=()=>{V.current=!0},Pe=st=>{V.current&&K&&st.target===K.dialog&&(P.current=!0),V.current=!1},H=()=>{ue(!0),G.current=wA(K.dialog,()=>{ue(!1)})},qe=st=>{st.target===st.currentTarget&&H()},ot=st=>{if(w==="static"){qe(st);return}if(P.current||st.target!==st.currentTarget){P.current=!1;return}j?.()},lt=st=>{N?L?.(st):(st.preventDefault(),w==="static"&&H())},Ge=(st,Yt)=>{st&&be(st),W?.(st,Yt)},rt=st=>{G.current==null||G.current(),M?.(st)},ct=(st,Yt)=>{E?.(st,Yt),bA(window,"resize",Ce)},Nt=st=>{st&&(st.style.display=""),R?.(st),iv(window,"resize",Ce)},St=$.useCallback(st=>y.jsx("div",{...st,className:At(`${n}-backdrop`,B,!x&&"show")}),[x,B,n]),Ht={...t,...me};Ht.display="block";const en=st=>y.jsx("div",{role:"dialog",...st,style:Ht,className:At(e,n,Ne&&`${n}-static`,!x&&"show"),onClick:w?ot:void 0,onMouseUp:Pe,"data-bs-theme":u,"aria-label":p,"aria-labelledby":h,"aria-describedby":f,children:y.jsx(l,{...Ae,onMouseDown:je,className:i,contentClassName:r,children:a})});return y.jsx(N5.Provider,{value:Te,children:y.jsx(iT,{show:v,ref:de,backdrop:w,container:X,keyboard:!0,autoFocus:Y,enforceFocus:Z,restoreFocus:ae,restoreFocusOptions:ge,onEscapeKeyDown:lt,onShow:I,onHide:j,onEnter:Ge,onEntering:ct,onEntered:U,onExit:rt,onExiting:k,onExited:Nt,manager:Ve(),transition:x?dD:void 0,backdropTransition:x?pD:void 0,renderBackdrop:St,renderDialog:en})})});uT.displayName="Modal";const $t=Object.assign(uT,{Body:aT,Header:lT,Title:cT,Footer:oT,Dialog:C5,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),hT=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"nav-item"),y.jsx(t,{ref:r,className:At(n,e),...i})));hT.displayName="NavItem";const fT=$.forwardRef(({bsPrefix:n,className:e,as:t=v5,active:i,eventKey:r,disabled:a=!1,...l},u)=>{n=qt(n,"nav-link");const[h,f]=T5({key:H1(r,l.href),active:i,disabled:a,...l});return y.jsx(t,{...l,...h,ref:u,disabled:a,className:At(e,n,a&&"disabled",f.isActive&&"active")})});fT.displayName="NavLink";const dT=$.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:r,fill:a=!1,justify:l=!1,navbar:u,navbarScroll:h,className:f,activeKey:p,...v}=B1(n,{activeKey:"onSelect"}),x=qt(i,"nav");let w,N,L=!1;const I=$.useContext(id),j=$.useContext(w5);return I?(w=I.bsPrefix,L=u??!0):j&&({cardHeaderBsPrefix:N}=j),y.jsx(ZA,{as:t,ref:e,activeKey:p,className:At(f,{[x]:!L,[`${w}-nav`]:L,[`${w}-nav-scroll`]:L&&h,[`${N}-${r}`]:!!N,[`${x}-${r}`]:!!r,[`${x}-fill`]:a,[`${x}-justified`]:l}),...v})});dT.displayName="Nav";const cr=Object.assign(dT,{Item:hT,Link:fT}),pT=$.forwardRef(({bsPrefix:n,className:e,as:t,...i},r)=>{n=qt(n,"navbar-brand");const a=t||(i.href?"a":"span");return y.jsx(a,{...i,ref:r,className:At(e,n)})});pT.displayName="NavbarBrand";const mT=$.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=qt(e,"navbar-collapse");const r=$.useContext(id);return y.jsx(SA,{in:!!(r&&r.expanded),...t,children:y.jsx("div",{ref:i,className:e,children:n})})});mT.displayName="NavbarCollapse";const gT=$.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:r="button",onClick:a,...l},u)=>{n=qt(n,"navbar-toggler");const{onToggle:h,expanded:f}=$.useContext(id)||{},p=Tu(v=>{a&&a(v),h&&h()});return r==="button"&&(l.type="button"),y.jsx(r,{...l,ref:u,onClick:p,"aria-label":i,className:At(e,n,!f&&"collapsed"),children:t||y.jsx("span",{className:`${n}-icon`})})});gT.displayName="NavbarToggle";const rv=new WeakMap,Y_=(n,e)=>{if(!n||!e)return;const t=rv.get(e)||new Map;rv.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function mD(n,e=typeof window>"u"?void 0:window){const t=Y_(n,e),[i,r]=$.useState(()=>t?t.matches:!1);return jL(()=>{let a=Y_(n,e);if(!a)return r(!1);let l=rv.get(e);const u=()=>{r(a.matches)};return a.refCount++,a.addListener(u),u(),()=>{a.removeListener(u),a.refCount--,a.refCount<=0&&l?.delete(a.media),a=void 0}},[n]),i}function gD(n){const e=Object.keys(n);function t(u,h){return u===h?h:u?`${u} and ${h}`:h}function i(u){return e[Math.min(e.indexOf(u)+1,e.length-1)]}function r(u){const h=i(u);let f=n[h];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function a(u){let h=n[u];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function l(u,h,f){let p;typeof u=="object"?(p=u,f=h,h=!0):(h=h||!0,p={[u]:h});let v=$.useMemo(()=>Object.entries(p).reduce((x,[w,N])=>((N==="up"||N===!0)&&(x=t(x,a(w))),(N==="down"||N===!0)&&(x=t(x,r(w))),x),""),[JSON.stringify(p)]);return mD(v,f)}return l}const yD=gD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),yT=$.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=qt(e,"offcanvas-body"),y.jsx(t,{ref:r,className:At(n,e),...i})));yT.displayName="OffcanvasBody";const vD={[qo]:"show",[cc]:"show"},vT=$.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:l=!1,...u},h)=>(n=qt(n,"offcanvas"),y.jsx(U1,{ref:h,addEndListener:g5,in:i,mountOnEnter:r,unmountOnExit:a,appear:l,...u,childRef:td(t),children:(f,p)=>$.cloneElement(t,{...p,className:At(e,t.props.className,(f===qo||f===Ip)&&`${n}-toggling`,vD[f])})})));vT.displayName="OffcanvasToggling";const bT=$.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...r},a)=>(n=qt(n,"offcanvas-header"),y.jsx(R5,{ref:a,...r,className:At(e,n),closeLabel:t,closeButton:i})));bT.displayName="OffcanvasHeader";const bD=Yp("h5"),wT=$.forwardRef(({className:n,bsPrefix:e,as:t=bD,...i},r)=>(e=qt(e,"offcanvas-title"),y.jsx(t,{ref:r,className:At(n,e),...i})));wT.displayName="OffcanvasTitle";function wD(n){return y.jsx(vT,{...n})}function _D(n){return y.jsx(Gf,{...n})}const _T=$.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:r="start",responsive:a,show:l=!1,backdrop:u=!0,keyboard:h=!0,scroll:f=!1,onEscapeKeyDown:p,onShow:v,onHide:x,container:w,autoFocus:N=!0,enforceFocus:L=!0,restoreFocus:I=!0,restoreFocusOptions:j,onEntered:X,onExit:Y,onExiting:Z,onEnter:ae,onEntering:ge,onExited:U,backdropClassName:M,manager:k,renderStaticNode:W=!1,...E},R)=>{const B=$.useRef();n=qt(n,"offcanvas");const[ce,Ae]=$.useState(!1),oe=Tu(x),me=yD(a||"xs","up");$.useEffect(()=>{Ae(a?l&&!me:l)},[l,a,me]);const se=$.useMemo(()=>({onHide:oe}),[oe]);function Ne(){return k||(f?(B.current||(B.current=new rT({handleContainerOverflow:!1})),B.current):sT())}const ue=(K,...re)=>{K&&(K.style.visibility="visible"),ae?.(K,...re)},V=(K,...re)=>{K&&(K.style.visibility=""),U?.(...re)},P=$.useCallback(K=>y.jsx("div",{...K,className:At(`${n}-backdrop`,M)}),[M,n]),G=K=>y.jsx("div",{...K,...E,className:At(e,a?`${n}-${a}`:n,`${n}-${r}`),"aria-labelledby":i,children:t});return y.jsxs(y.Fragment,{children:[!ce&&(a||W)&&G({}),y.jsx(N5.Provider,{value:se,children:y.jsx(iT,{show:ce,ref:R,backdrop:u,container:w,keyboard:h,autoFocus:N,enforceFocus:L&&!f,restoreFocus:I,restoreFocusOptions:j,onEscapeKeyDown:p,onShow:v,onHide:oe,onEnter:ue,onEntering:ge,onEntered:X,onExit:Y,onExiting:Z,onExited:V,manager:Ne(),transition:wD,backdropTransition:_D,renderBackdrop:P,renderDialog:G})})]})});_T.displayName="Offcanvas";const xD=Object.assign(_T,{Body:yT,Header:bT,Title:wT}),xT=$.forwardRef(({onHide:n,...e},t)=>{const i=$.useContext(id),r=Tu(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return y.jsx(xD,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});xT.displayName="NavbarOffcanvas";const ST=$.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},r)=>(e=qt(e,"navbar-text"),y.jsx(t,{ref:r,className:At(n,e),...i})));ST.displayName="NavbarText";const AT=$.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:r="light",bg:a,fixed:l,sticky:u,className:h,as:f="nav",expanded:p,onToggle:v,onSelect:x,collapseOnSelect:w=!1,...N}=B1(n,{expanded:"onToggle"}),L=qt(t,"navbar"),I=$.useCallback((...Y)=>{x?.(...Y),w&&p&&v?.(!1)},[x,w,p,v]);N.role===void 0&&f!=="nav"&&(N.role="navigation");let j=`${L}-expand`;typeof i=="string"&&(j=`${j}-${i}`);const X=$.useMemo(()=>({onToggle:()=>v?.(!p),bsPrefix:L,expanded:!!p,expand:i}),[L,p,i,v]);return y.jsx(id.Provider,{value:X,children:y.jsx(t1.Provider,{value:I,children:y.jsx(f,{ref:e,...N,className:At(h,L,i&&j,r&&`${L}-${r}`,a&&`bg-${a}`,u&&`sticky-${u}`,l&&`fixed-${l}`)})})})});AT.displayName="Navbar";const X_=Object.assign(AT,{Brand:pT,Collapse:mT,Offcanvas:xT,Text:ST,Toggle:gT}),Q_=1e3;function SD(n,e,t){const i=(n-e)/(t-e)*100;return Math.round(i*Q_)/Q_}function J_({min:n,now:e,max:t,label:i,visuallyHidden:r,striped:a,animated:l,className:u,style:h,variant:f,bsPrefix:p,...v},x){return y.jsx("div",{ref:x,...v,role:"progressbar",className:At(u,`${p}-bar`,{[`bg-${f}`]:f,[`${p}-bar-animated`]:l,[`${p}-bar-striped`]:l||a}),style:{width:`${SD(e,n,t)}%`,...h},"aria-valuenow":e,"aria-valuemin":n,"aria-valuemax":t,children:r?y.jsx("span",{className:"visually-hidden",children:i}):i})}const mu=$.forwardRef(({isChild:n=!1,...e},t)=>{const i={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(i.bsPrefix=qt(i.bsPrefix,"progress"),n)return J_(i,t);const{min:r,now:a,max:l,label:u,visuallyHidden:h,striped:f,animated:p,bsPrefix:v,variant:x,className:w,children:N,...L}=i;return y.jsx("div",{ref:t,...L,className:At(w,v),children:N?SL(N,I=>$.cloneElement(I,{isChild:!0})):J_({min:r,now:a,max:l,label:u,visuallyHidden:h,striped:f,animated:p,bsPrefix:v,variant:x},t)})});mu.displayName="ProgressBar";const Bs=$.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},r)=>{const a=qt(n,"row"),l=gA(),u=yA(),h=`${a}-cols`,f=[];return l.forEach(p=>{const v=i[p];delete i[p];let x;v!=null&&typeof v=="object"?{cols:x}=v:x=v;const w=p!==u?`-${p}`:"";x!=null&&f.push(`${h}${w}-${x}`)}),y.jsx(t,{ref:r,...i,className:At(e,a,...f)})});Bs.displayName="Row";const TT=$.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:i,borderless:r,hover:a,size:l,variant:u,responsive:h,...f},p)=>{const v=qt(n,"table"),x=At(e,v,u&&`${v}-${u}`,l&&`${v}-${l}`,t&&`${v}-${typeof t=="string"?`striped-${t}`:"striped"}`,i&&`${v}-bordered`,r&&`${v}-borderless`,a&&`${v}-hover`),w=y.jsx("table",{...f,className:x,ref:p});if(h){let N=`${v}-responsive`;return typeof h=="string"&&(N=`${N}-${h}`),y.jsx("div",{className:N,children:w})}return w});TT.displayName="Table";const AD="modulepreload",TD=function(n){return"/SMWallet/"+n},Z_={},jg=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=h(t.map(f=>{if(f=TD(f),f in Z_)return;Z_[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":AD,p||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((w,N)=>{x.addEventListener("load",w),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},ED=()=>{};var e3={};const ET=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},ND=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],l=n[t++],u=n[t++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let x=(u&15)<<2|f>>6,w=f&63;h||(w=64,l||(x=64)),i.push(t[p],t[v],t[x],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ET(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ND(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||v==null)throw new CD;const x=a<<2|u>>4;if(i.push(x),f!==64){const w=u<<4&240|f>>2;if(i.push(w),v!==64){const N=f<<6&192|v;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(n){const e=ET(n);return NT.encodeByteArray(e,!0)},r1=function(n){return RD(n).replace(/\./g,"")},CT=function(n){try{return NT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LD=()=>ID().__FIREBASE_DEFAULTS__,DD=()=>{if(typeof process>"u"||typeof e3>"u")return;const n=e3.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CT(n[1]);return e&&JSON.parse(e)},Y1=()=>{try{return ED()||LD()||DD()||jD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RT=n=>Y1()?.emulatorHosts?.[n],PD=n=>{const e=RT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},IT=()=>Y1()?.config,LT=n=>Y1()?.[`_${n}`];class kD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function rd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DT(n){return(await fetch(n,{credentials:"include"})).ok}function MD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[r1(JSON.stringify(t)),r1(JSON.stringify(l)),""].join(".")}const mp={};function OD(){const n={prod:[],emulator:[]};for(const e of Object.keys(mp))mp[e]?n.emulator.push(e):n.prod.push(e);return n}function VD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let t3=!1;function jT(n,e){if(typeof window>"u"||typeof document>"u"||!rd(window.location.host)||mp[n]===e||mp[n]||t3)return;mp[n]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",a=OD().prod.length>0;function l(){const x=document.getElementById(i);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{t3=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=VD(i),w=t("text"),N=document.getElementById(w)||document.createElement("span"),L=t("learnmore"),I=document.getElementById(L)||document.createElement("a"),j=t("preprendIcon"),X=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;u(Y),p(I,L);const Z=f();h(X,j),Y.append(X,N,I,Z),document.body.appendChild(Y)}a?(N.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Us())}function FD(){const n=Y1()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HD(){const n=Us();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GD(){return!FD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WD(){try{return typeof indexedDB=="object"}catch{return!1}}function $D(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const KD="FirebaseError";class Rc extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=KD,Object.setPrototypeOf(this,Rc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qp.prototype.create)}}class Qp{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?YD(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Rc(r,u,i)}}function YD(n,e){return n.replace(XD,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const XD=/\{\$([^}]+)}/g;function QD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],l=e[r];if(n3(a)&&n3(l)){if(!wh(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function n3(n){return n!==null&&typeof n=="object"}function Jp(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function lp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function cp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JD(n,e){const t=new ZD(n,e);return t.subscribe.bind(t)}class ZD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");e9(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ey),r.error===void 0&&(r.error=ey),r.complete===void 0&&(r.complete=ey);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ey(){}function zr(n){return n&&n._delegate?n._delegate:n}class _h{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oh="[DEFAULT]";class t9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new kD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i9(e))try{this.getOrInitializeService({instanceIdentifier:oh})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=oh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oh){return this.instances.has(e)}getOptions(e=oh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:n9(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oh){return this.component?this.component.multipleInstances?e:oh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n9(n){return n===oh?void 0:n}function i9(n){return n.instantiationMode==="EAGER"}class r9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new t9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var In;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(In||(In={}));const s9={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},a9=In.INFO,o9={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},l9=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=o9[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I5{constructor(e){this.name=e,this._logLevel=a9,this._logHandler=l9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...e),this._logHandler(this,In.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...e),this._logHandler(this,In.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,In.INFO,...e),this._logHandler(this,In.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,In.WARN,...e),this._logHandler(this,In.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,In.ERROR,...e),this._logHandler(this,In.ERROR,...e)}}const c9=(n,e)=>e.some(t=>n instanceof t);let i3,r3;function u9(){return i3||(i3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h9(){return r3||(r3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,sv=new WeakMap,kT=new WeakMap,ty=new WeakMap,L5=new WeakMap;function f9(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(bu(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&PT.set(t,n)}).catch(()=>{}),L5.set(e,n),e}function d9(n){if(sv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});sv.set(n,e)}let av={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function p9(n){av=n(av)}function m9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ny(this),e,...t);return kT.set(i,e.sort?e.sort():[e]),bu(i)}:h9().includes(n)?function(...e){return n.apply(ny(this),e),bu(PT.get(this))}:function(...e){return bu(n.apply(ny(this),e))}}function g9(n){return typeof n=="function"?m9(n):(n instanceof IDBTransaction&&d9(n),c9(n,u9())?new Proxy(n,av):n)}function bu(n){if(n instanceof IDBRequest)return f9(n);if(ty.has(n))return ty.get(n);const e=g9(n);return e!==n&&(ty.set(n,e),L5.set(e,n)),e}const ny=n=>L5.get(n);function y9(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,e),u=bu(l);return i&&l.addEventListener("upgradeneeded",h=>{i(bu(l.result),h.oldVersion,h.newVersion,bu(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const v9=["get","getKey","getAll","getAllKeys","count"],b9=["put","add","delete","clear"],iy=new Map;function s3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=b9.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||v9.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&h.done]))[0]};return iy.set(e,a),a}p9(n=>({...n,get:(e,t,i)=>s3(e,t)||n.get(e,t,i),has:(e,t)=>!!s3(e,t)||n.has(e,t)}));class w9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_9(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function _9(n){return n.getComponent()?.type==="VERSION"}const ov="@firebase/app",a3="0.14.7";const _c=new I5("@firebase/app"),x9="@firebase/app-compat",S9="@firebase/analytics-compat",A9="@firebase/analytics",T9="@firebase/app-check-compat",E9="@firebase/app-check",N9="@firebase/auth",C9="@firebase/auth-compat",R9="@firebase/database",I9="@firebase/data-connect",L9="@firebase/database-compat",D9="@firebase/functions",j9="@firebase/functions-compat",P9="@firebase/installations",k9="@firebase/installations-compat",M9="@firebase/messaging",O9="@firebase/messaging-compat",V9="@firebase/performance",B9="@firebase/performance-compat",F9="@firebase/remote-config",U9="@firebase/remote-config-compat",z9="@firebase/storage",q9="@firebase/storage-compat",H9="@firebase/firestore",G9="@firebase/ai",W9="@firebase/firestore-compat",$9="firebase",K9="12.8.0";const lv="[DEFAULT]",Y9={[ov]:"fire-core",[x9]:"fire-core-compat",[A9]:"fire-analytics",[S9]:"fire-analytics-compat",[E9]:"fire-app-check",[T9]:"fire-app-check-compat",[N9]:"fire-auth",[C9]:"fire-auth-compat",[R9]:"fire-rtdb",[I9]:"fire-data-connect",[L9]:"fire-rtdb-compat",[D9]:"fire-fn",[j9]:"fire-fn-compat",[P9]:"fire-iid",[k9]:"fire-iid-compat",[M9]:"fire-fcm",[O9]:"fire-fcm-compat",[V9]:"fire-perf",[B9]:"fire-perf-compat",[F9]:"fire-rc",[U9]:"fire-rc-compat",[z9]:"fire-gcs",[q9]:"fire-gcs-compat",[H9]:"fire-fst",[W9]:"fire-fst-compat",[G9]:"fire-vertex","fire-js":"fire-js",[$9]:"fire-js-all"};const s1=new Map,X9=new Map,cv=new Map;function o3(n,e){try{n.container.addComponent(e)}catch(t){_c.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wf(n){const e=n.name;if(cv.has(e))return _c.debug(`There were multiple attempts to register component ${e}.`),!1;cv.set(e,n);for(const t of s1.values())o3(t,n);for(const t of X9.values())o3(t,n);return!0}function D5(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fa(n){return n==null?!1:n.settings!==void 0}const Q9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wu=new Qp("app","Firebase",Q9);class J9{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _h("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wu.create("app-deleted",{appName:this._name})}}const sd=K9;function MT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:lv,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw wu.create("bad-app-name",{appName:String(r)});if(t||(t=IT()),!t)throw wu.create("no-options");const a=s1.get(r);if(a){if(wh(t,a.options)&&wh(i,a.config))return a;throw wu.create("duplicate-app",{appName:r})}const l=new r9(r);for(const h of cv.values())l.addComponent(h);const u=new J9(t,i,l);return s1.set(r,u),u}function OT(n=lv){const e=s1.get(n);if(!e&&n===lv&&IT())return MT();if(!e)throw wu.create("no-app",{appName:n});return e}function _u(n,e,t){let i=Y9[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_c.warn(l.join(" "));return}Wf(new _h(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Z9="firebase-heartbeat-database",ej=1,Lp="firebase-heartbeat-store";let ry=null;function VT(){return ry||(ry=y9(Z9,ej,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lp)}catch(t){console.warn(t)}}}}).catch(n=>{throw wu.create("idb-open",{originalErrorMessage:n.message})})),ry}async function tj(n){try{const t=(await VT()).transaction(Lp),i=await t.objectStore(Lp).get(BT(n));return await t.done,i}catch(e){if(e instanceof Rc)_c.warn(e.message);else{const t=wu.create("idb-get",{originalErrorMessage:e?.message});_c.warn(t.message)}}}async function l3(n,e){try{const i=(await VT()).transaction(Lp,"readwrite");await i.objectStore(Lp).put(e,BT(n)),await i.done}catch(t){if(t instanceof Rc)_c.warn(t.message);else{const i=wu.create("idb-set",{originalErrorMessage:t?.message});_c.warn(i.message)}}}function BT(n){return`${n.name}!${n.options.appId}`}const nj=1024,ij=30;class rj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=c3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>ij){const r=oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_c.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c3(),{heartbeatsToSend:t,unsentEntries:i}=sj(this._heartbeatsCache.heartbeats),r=r1(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return _c.warn(e),""}}}function c3(){return new Date().toISOString().substring(0,10)}function sj(n,e=nj){const t=[];let i=n.slice();for(const r of n){const a=t.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),u3(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),u3(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WD()?$D().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return l3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return l3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u3(n){return r1(JSON.stringify({version:2,heartbeats:n})).length}function oj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function lj(n){Wf(new _h("platform-logger",e=>new w9(e),"PRIVATE")),Wf(new _h("heartbeat",e=>new rj(e),"PRIVATE")),_u(ov,a3,n),_u(ov,a3,"esm2020"),_u("fire-js","")}lj("");var cj="firebase",uj="12.8.0";_u(cj,uj,"app");var h3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xu,FT;(function(){var n;function e(U,M){function k(){}k.prototype=M.prototype,U.F=M.prototype,U.prototype=new k,U.prototype.constructor=U,U.D=function(W,E,R){for(var B=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)B[ce-2]=arguments[ce];return M.prototype[E].apply(W,B)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(U,M,k){k||(k=0);const W=Array(16);if(typeof M=="string")for(var E=0;E<16;++E)W[E]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(E=0;E<16;++E)W[E]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=U.g[0],k=U.g[1],E=U.g[2];let R=U.g[3],B;B=M+(R^k&(E^R))+W[0]+3614090360&4294967295,M=k+(B<<7&4294967295|B>>>25),B=R+(E^M&(k^E))+W[1]+3905402710&4294967295,R=M+(B<<12&4294967295|B>>>20),B=E+(k^R&(M^k))+W[2]+606105819&4294967295,E=R+(B<<17&4294967295|B>>>15),B=k+(M^E&(R^M))+W[3]+3250441966&4294967295,k=E+(B<<22&4294967295|B>>>10),B=M+(R^k&(E^R))+W[4]+4118548399&4294967295,M=k+(B<<7&4294967295|B>>>25),B=R+(E^M&(k^E))+W[5]+1200080426&4294967295,R=M+(B<<12&4294967295|B>>>20),B=E+(k^R&(M^k))+W[6]+2821735955&4294967295,E=R+(B<<17&4294967295|B>>>15),B=k+(M^E&(R^M))+W[7]+4249261313&4294967295,k=E+(B<<22&4294967295|B>>>10),B=M+(R^k&(E^R))+W[8]+1770035416&4294967295,M=k+(B<<7&4294967295|B>>>25),B=R+(E^M&(k^E))+W[9]+2336552879&4294967295,R=M+(B<<12&4294967295|B>>>20),B=E+(k^R&(M^k))+W[10]+4294925233&4294967295,E=R+(B<<17&4294967295|B>>>15),B=k+(M^E&(R^M))+W[11]+2304563134&4294967295,k=E+(B<<22&4294967295|B>>>10),B=M+(R^k&(E^R))+W[12]+1804603682&4294967295,M=k+(B<<7&4294967295|B>>>25),B=R+(E^M&(k^E))+W[13]+4254626195&4294967295,R=M+(B<<12&4294967295|B>>>20),B=E+(k^R&(M^k))+W[14]+2792965006&4294967295,E=R+(B<<17&4294967295|B>>>15),B=k+(M^E&(R^M))+W[15]+1236535329&4294967295,k=E+(B<<22&4294967295|B>>>10),B=M+(E^R&(k^E))+W[1]+4129170786&4294967295,M=k+(B<<5&4294967295|B>>>27),B=R+(k^E&(M^k))+W[6]+3225465664&4294967295,R=M+(B<<9&4294967295|B>>>23),B=E+(M^k&(R^M))+W[11]+643717713&4294967295,E=R+(B<<14&4294967295|B>>>18),B=k+(R^M&(E^R))+W[0]+3921069994&4294967295,k=E+(B<<20&4294967295|B>>>12),B=M+(E^R&(k^E))+W[5]+3593408605&4294967295,M=k+(B<<5&4294967295|B>>>27),B=R+(k^E&(M^k))+W[10]+38016083&4294967295,R=M+(B<<9&4294967295|B>>>23),B=E+(M^k&(R^M))+W[15]+3634488961&4294967295,E=R+(B<<14&4294967295|B>>>18),B=k+(R^M&(E^R))+W[4]+3889429448&4294967295,k=E+(B<<20&4294967295|B>>>12),B=M+(E^R&(k^E))+W[9]+568446438&4294967295,M=k+(B<<5&4294967295|B>>>27),B=R+(k^E&(M^k))+W[14]+3275163606&4294967295,R=M+(B<<9&4294967295|B>>>23),B=E+(M^k&(R^M))+W[3]+4107603335&4294967295,E=R+(B<<14&4294967295|B>>>18),B=k+(R^M&(E^R))+W[8]+1163531501&4294967295,k=E+(B<<20&4294967295|B>>>12),B=M+(E^R&(k^E))+W[13]+2850285829&4294967295,M=k+(B<<5&4294967295|B>>>27),B=R+(k^E&(M^k))+W[2]+4243563512&4294967295,R=M+(B<<9&4294967295|B>>>23),B=E+(M^k&(R^M))+W[7]+1735328473&4294967295,E=R+(B<<14&4294967295|B>>>18),B=k+(R^M&(E^R))+W[12]+2368359562&4294967295,k=E+(B<<20&4294967295|B>>>12),B=M+(k^E^R)+W[5]+4294588738&4294967295,M=k+(B<<4&4294967295|B>>>28),B=R+(M^k^E)+W[8]+2272392833&4294967295,R=M+(B<<11&4294967295|B>>>21),B=E+(R^M^k)+W[11]+1839030562&4294967295,E=R+(B<<16&4294967295|B>>>16),B=k+(E^R^M)+W[14]+4259657740&4294967295,k=E+(B<<23&4294967295|B>>>9),B=M+(k^E^R)+W[1]+2763975236&4294967295,M=k+(B<<4&4294967295|B>>>28),B=R+(M^k^E)+W[4]+1272893353&4294967295,R=M+(B<<11&4294967295|B>>>21),B=E+(R^M^k)+W[7]+4139469664&4294967295,E=R+(B<<16&4294967295|B>>>16),B=k+(E^R^M)+W[10]+3200236656&4294967295,k=E+(B<<23&4294967295|B>>>9),B=M+(k^E^R)+W[13]+681279174&4294967295,M=k+(B<<4&4294967295|B>>>28),B=R+(M^k^E)+W[0]+3936430074&4294967295,R=M+(B<<11&4294967295|B>>>21),B=E+(R^M^k)+W[3]+3572445317&4294967295,E=R+(B<<16&4294967295|B>>>16),B=k+(E^R^M)+W[6]+76029189&4294967295,k=E+(B<<23&4294967295|B>>>9),B=M+(k^E^R)+W[9]+3654602809&4294967295,M=k+(B<<4&4294967295|B>>>28),B=R+(M^k^E)+W[12]+3873151461&4294967295,R=M+(B<<11&4294967295|B>>>21),B=E+(R^M^k)+W[15]+530742520&4294967295,E=R+(B<<16&4294967295|B>>>16),B=k+(E^R^M)+W[2]+3299628645&4294967295,k=E+(B<<23&4294967295|B>>>9),B=M+(E^(k|~R))+W[0]+4096336452&4294967295,M=k+(B<<6&4294967295|B>>>26),B=R+(k^(M|~E))+W[7]+1126891415&4294967295,R=M+(B<<10&4294967295|B>>>22),B=E+(M^(R|~k))+W[14]+2878612391&4294967295,E=R+(B<<15&4294967295|B>>>17),B=k+(R^(E|~M))+W[5]+4237533241&4294967295,k=E+(B<<21&4294967295|B>>>11),B=M+(E^(k|~R))+W[12]+1700485571&4294967295,M=k+(B<<6&4294967295|B>>>26),B=R+(k^(M|~E))+W[3]+2399980690&4294967295,R=M+(B<<10&4294967295|B>>>22),B=E+(M^(R|~k))+W[10]+4293915773&4294967295,E=R+(B<<15&4294967295|B>>>17),B=k+(R^(E|~M))+W[1]+2240044497&4294967295,k=E+(B<<21&4294967295|B>>>11),B=M+(E^(k|~R))+W[8]+1873313359&4294967295,M=k+(B<<6&4294967295|B>>>26),B=R+(k^(M|~E))+W[15]+4264355552&4294967295,R=M+(B<<10&4294967295|B>>>22),B=E+(M^(R|~k))+W[6]+2734768916&4294967295,E=R+(B<<15&4294967295|B>>>17),B=k+(R^(E|~M))+W[13]+1309151649&4294967295,k=E+(B<<21&4294967295|B>>>11),B=M+(E^(k|~R))+W[4]+4149444226&4294967295,M=k+(B<<6&4294967295|B>>>26),B=R+(k^(M|~E))+W[11]+3174756917&4294967295,R=M+(B<<10&4294967295|B>>>22),B=E+(M^(R|~k))+W[2]+718787259&4294967295,E=R+(B<<15&4294967295|B>>>17),B=k+(R^(E|~M))+W[9]+3951481745&4294967295,U.g[0]=U.g[0]+M&4294967295,U.g[1]=U.g[1]+(E+(B<<21&4294967295|B>>>11))&4294967295,U.g[2]=U.g[2]+E&4294967295,U.g[3]=U.g[3]+R&4294967295}i.prototype.v=function(U,M){M===void 0&&(M=U.length);const k=M-this.blockSize,W=this.C;let E=this.h,R=0;for(;R<M;){if(E==0)for(;R<=k;)r(this,U,R),R+=this.blockSize;if(typeof U=="string"){for(;R<M;)if(W[E++]=U.charCodeAt(R++),E==this.blockSize){r(this,W),E=0;break}}else for(;R<M;)if(W[E++]=U[R++],E==this.blockSize){r(this,W),E=0;break}}this.h=E,this.o+=M},i.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var M=1;M<U.length-8;++M)U[M]=0;M=this.o*8;for(var k=U.length-8;k<U.length;++k)U[k]=M&255,M/=256;for(this.v(U),U=Array(16),M=0,k=0;k<4;++k)for(let W=0;W<32;W+=8)U[M++]=this.g[k]>>>W&255;return U};function a(U,M){var k=u;return Object.prototype.hasOwnProperty.call(k,U)?k[U]:k[U]=M(U)}function l(U,M){this.h=M;const k=[];let W=!0;for(let E=U.length-1;E>=0;E--){const R=U[E]|0;W&&R==M||(k[E]=R,W=!1)}this.g=k}var u={};function h(U){return-128<=U&&U<128?a(U,function(M){return new l([M|0],M<0?-1:0)}):new l([U|0],U<0?-1:0)}function f(U){if(isNaN(U)||!isFinite(U))return v;if(U<0)return I(f(-U));const M=[];let k=1;for(let W=0;U>=k;W++)M[W]=U/k|0,k*=4294967296;return new l(M,0)}function p(U,M){if(U.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(U.charAt(0)=="-")return I(p(U.substring(1),M));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(M,8));let W=v;for(let R=0;R<U.length;R+=8){var E=Math.min(8,U.length-R);const B=parseInt(U.substring(R,R+E),M);E<8?(E=f(Math.pow(M,E)),W=W.j(E).add(f(B))):(W=W.j(k),W=W.add(f(B)))}return W}var v=h(0),x=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(L(this))return-I(this).m();let U=0,M=1;for(let k=0;k<this.g.length;k++){const W=this.i(k);U+=(W>=0?W:4294967296+W)*M,M*=4294967296}return U},n.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(N(this))return"0";if(L(this))return"-"+I(this).toString(U);const M=f(Math.pow(U,6));var k=this;let W="";for(;;){const E=Z(k,M).g;k=j(k,E.j(M));let R=((k.g.length>0?k.g[0]:k.h)>>>0).toString(U);if(k=E,N(k))return R+W;for(;R.length<6;)R="0"+R;W=R+W}},n.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function N(U){if(U.h!=0)return!1;for(let M=0;M<U.g.length;M++)if(U.g[M]!=0)return!1;return!0}function L(U){return U.h==-1}n.l=function(U){return U=j(this,U),L(U)?-1:N(U)?0:1};function I(U){const M=U.g.length,k=[];for(let W=0;W<M;W++)k[W]=~U.g[W];return new l(k,~U.h).add(x)}n.abs=function(){return L(this)?I(this):this},n.add=function(U){const M=Math.max(this.g.length,U.g.length),k=[];let W=0;for(let E=0;E<=M;E++){let R=W+(this.i(E)&65535)+(U.i(E)&65535),B=(R>>>16)+(this.i(E)>>>16)+(U.i(E)>>>16);W=B>>>16,R&=65535,B&=65535,k[E]=B<<16|R}return new l(k,k[k.length-1]&-2147483648?-1:0)};function j(U,M){return U.add(I(M))}n.j=function(U){if(N(this)||N(U))return v;if(L(this))return L(U)?I(this).j(I(U)):I(I(this).j(U));if(L(U))return I(this.j(I(U)));if(this.l(w)<0&&U.l(w)<0)return f(this.m()*U.m());const M=this.g.length+U.g.length,k=[];for(var W=0;W<2*M;W++)k[W]=0;for(W=0;W<this.g.length;W++)for(let E=0;E<U.g.length;E++){const R=this.i(W)>>>16,B=this.i(W)&65535,ce=U.i(E)>>>16,Ae=U.i(E)&65535;k[2*W+2*E]+=B*Ae,X(k,2*W+2*E),k[2*W+2*E+1]+=R*Ae,X(k,2*W+2*E+1),k[2*W+2*E+1]+=B*ce,X(k,2*W+2*E+1),k[2*W+2*E+2]+=R*ce,X(k,2*W+2*E+2)}for(U=0;U<M;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=M;U<2*M;U++)k[U]=0;return new l(k,0)};function X(U,M){for(;(U[M]&65535)!=U[M];)U[M+1]+=U[M]>>>16,U[M]&=65535,M++}function Y(U,M){this.g=U,this.h=M}function Z(U,M){if(N(M))throw Error("division by zero");if(N(U))return new Y(v,v);if(L(U))return M=Z(I(U),M),new Y(I(M.g),I(M.h));if(L(M))return M=Z(U,I(M)),new Y(I(M.g),M.h);if(U.g.length>30){if(L(U)||L(M))throw Error("slowDivide_ only works with positive integers.");for(var k=x,W=M;W.l(U)<=0;)k=ae(k),W=ae(W);var E=ge(k,1),R=ge(W,1);for(W=ge(W,2),k=ge(k,2);!N(W);){var B=R.add(W);B.l(U)<=0&&(E=E.add(k),R=B),W=ge(W,1),k=ge(k,1)}return M=j(U,E.j(M)),new Y(E,M)}for(E=v;U.l(M)>=0;){for(k=Math.max(1,Math.floor(U.m()/M.m())),W=Math.ceil(Math.log(k)/Math.LN2),W=W<=48?1:Math.pow(2,W-48),R=f(k),B=R.j(M);L(B)||B.l(U)>0;)k-=W,R=f(k),B=R.j(M);N(R)&&(R=x),E=E.add(R),U=j(U,B)}return new Y(E,U)}n.B=function(U){return Z(this,U).h},n.and=function(U){const M=Math.max(this.g.length,U.g.length),k=[];for(let W=0;W<M;W++)k[W]=this.i(W)&U.i(W);return new l(k,this.h&U.h)},n.or=function(U){const M=Math.max(this.g.length,U.g.length),k=[];for(let W=0;W<M;W++)k[W]=this.i(W)|U.i(W);return new l(k,this.h|U.h)},n.xor=function(U){const M=Math.max(this.g.length,U.g.length),k=[];for(let W=0;W<M;W++)k[W]=this.i(W)^U.i(W);return new l(k,this.h^U.h)};function ae(U){const M=U.g.length+1,k=[];for(let W=0;W<M;W++)k[W]=U.i(W)<<1|U.i(W-1)>>>31;return new l(k,U.h)}function ge(U,M){const k=M>>5;M%=32;const W=U.g.length-k,E=[];for(let R=0;R<W;R++)E[R]=M>0?U.i(R+k)>>>M|U.i(R+k+1)<<32-M:U.i(R+k);return new l(E,U.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,FT=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,xu=l}).apply(typeof h3<"u"?h3:typeof self<"u"?self:typeof window<"u"?window:{});var dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UT,up,zT,Pg,uv,qT,HT,GT;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof dg=="object"&&dg];for(var C=0;C<g.length;++C){var F=g[C];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var i=t(this);function r(g,C){if(C)e:{var F=i;g=g.split(".");for(var ne=0;ne<g.length-1;ne++){var Ie=g[ne];if(!(Ie in F))break e;F=F[Ie]}g=g[g.length-1],ne=F[g],C=C(ne),C!=ne&&C!=null&&e(F,g,{configurable:!0,writable:!0,value:C})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(C){var F=[],ne;for(ne in C)Object.prototype.hasOwnProperty.call(C,ne)&&F.push([ne,C[ne]]);return F}});var a=a||{},l=this||self;function u(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function h(g,C,F){return g.call.apply(g.bind,arguments)}function f(g,C,F){return f=h,f.apply(null,arguments)}function p(g,C){var F=Array.prototype.slice.call(arguments,1);return function(){var ne=F.slice();return ne.push.apply(ne,arguments),g.apply(this,ne)}}function v(g,C){function F(){}F.prototype=C.prototype,g.Z=C.prototype,g.prototype=new F,g.prototype.constructor=g,g.Ob=function(ne,Ie,Be){for(var it=Array(arguments.length-2),tn=2;tn<arguments.length;tn++)it[tn-2]=arguments[tn];return C.prototype[Ie].apply(ne,it)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const C=g.length;if(C>0){const F=Array(C);for(let ne=0;ne<C;ne++)F[ne]=g[ne];return F}return[]}function N(g,C){for(let ne=1;ne<arguments.length;ne++){const Ie=arguments[ne];var F=typeof Ie;if(F=F!="object"?F:Ie?Array.isArray(Ie)?"array":F:"null",F=="array"||F=="object"&&typeof Ie.length=="number"){F=g.length||0;const Be=Ie.length||0;g.length=F+Be;for(let it=0;it<Be;it++)g[F+it]=Ie[it]}else g.push(Ie)}}class L{constructor(C,F){this.i=C,this.j=F,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function I(g){l.setTimeout(()=>{throw g},0)}function j(){var g=U;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class X{constructor(){this.h=this.g=null}add(C,F){const ne=Y.get();ne.set(C,F),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var Y=new L(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(C,F){this.h=C,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,U=new X,M=()=>{const g=Promise.resolve(void 0);ae=()=>{g.then(k)}};function k(){for(var g;g=j();){try{g.h.call(g.g)}catch(F){I(F)}var C=Y;C.j(g),C.h<100&&(C.h++,g.next=C.g,C.g=g)}ge=!1}function W(){this.u=this.u,this.C=this.C}W.prototype.u=!1,W.prototype.dispose=function(){this.u||(this.u=!0,this.N())},W.prototype[Symbol.dispose]=function(){this.dispose()},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};l.addEventListener("test",F,C),l.removeEventListener("test",F,C)}catch{}return g})();function B(g){return/^[\s\xa0]*$/.test(g)}function ce(g,C){E.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,C)}v(ce,E),ce.prototype.init=function(g,C){const F=this.type=g.type,ne=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget,C||(F=="mouseover"?C=g.fromElement:F=="mouseout"&&(C=g.toElement)),this.relatedTarget=C,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),oe=0;function me(g,C,F,ne,Ie){this.listener=g,this.proxy=null,this.src=C,this.type=F,this.capture=!!ne,this.ha=Ie,this.key=++oe,this.da=this.fa=!1}function se(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ne(g,C,F){for(const ne in g)C.call(F,g[ne],ne,g)}function ue(g,C){for(const F in g)C.call(void 0,g[F],F,g)}function V(g){const C={};for(const F in g)C[F]=g[F];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(g,C){let F,ne;for(let Ie=1;Ie<arguments.length;Ie++){ne=arguments[Ie];for(F in ne)g[F]=ne[F];for(let Be=0;Be<P.length;Be++)F=P[Be],Object.prototype.hasOwnProperty.call(ne,F)&&(g[F]=ne[F])}}function K(g){this.src=g,this.g={},this.h=0}K.prototype.add=function(g,C,F,ne,Ie){const Be=g.toString();g=this.g[Be],g||(g=this.g[Be]=[],this.h++);const it=de(g,C,ne,Ie);return it>-1?(C=g[it],F||(C.fa=!1)):(C=new me(C,this.src,Be,!!ne,Ie),C.fa=F,g.push(C)),C};function re(g,C){const F=C.type;if(F in g.g){var ne=g.g[F],Ie=Array.prototype.indexOf.call(ne,C,void 0),Be;(Be=Ie>=0)&&Array.prototype.splice.call(ne,Ie,1),Be&&(se(C),g.g[F].length==0&&(delete g.g[F],g.h--))}}function de(g,C,F,ne){for(let Ie=0;Ie<g.length;++Ie){const Be=g[Ie];if(!Be.da&&Be.listener==C&&Be.capture==!!F&&Be.ha==ne)return Ie}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),xe={};function Te(g,C,F,ne,Ie){if(Array.isArray(C)){for(let Be=0;Be<C.length;Be++)Te(g,C[Be],F,ne,Ie);return null}return F=lt(F),g&&g[Ae]?g.J(C,F,u(ne)?!!ne.capture:!1,Ie):Ve(g,C,F,!1,ne,Ie)}function Ve(g,C,F,ne,Ie,Be){if(!C)throw Error("Invalid event type");const it=u(Ie)?!!Ie.capture:!!Ie;let tn=qe(g);if(tn||(g[pe]=tn=new K(g)),F=tn.add(C,F,ne,it,Be),F.proxy)return F;if(ne=be(),F.proxy=ne,ne.src=g,ne.listener=F,g.addEventListener)R||(Ie=it),Ie===void 0&&(Ie=!1),g.addEventListener(C.toString(),ne,Ie);else if(g.attachEvent)g.attachEvent(Pe(C.toString()),ne);else if(g.addListener&&g.removeListener)g.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return F}function be(){function g(F){return C.call(g.src,g.listener,F)}const C=H;return g}function Ce(g,C,F,ne,Ie){if(Array.isArray(C))for(var Be=0;Be<C.length;Be++)Ce(g,C[Be],F,ne,Ie);else ne=u(ne)?!!ne.capture:!!ne,F=lt(F),g&&g[Ae]?(g=g.i,Be=String(C).toString(),Be in g.g&&(C=g.g[Be],F=de(C,F,ne,Ie),F>-1&&(se(C[F]),Array.prototype.splice.call(C,F,1),C.length==0&&(delete g.g[Be],g.h--)))):g&&(g=qe(g))&&(C=g.g[C.toString()],g=-1,C&&(g=de(C,F,ne,Ie)),(F=g>-1?C[g]:null)&&je(F))}function je(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[Ae])re(C.i,g);else{var F=g.type,ne=g.proxy;C.removeEventListener?C.removeEventListener(F,ne,g.capture):C.detachEvent?C.detachEvent(Pe(F),ne):C.addListener&&C.removeListener&&C.removeListener(ne),(F=qe(C))?(re(F,g),F.h==0&&(F.src=null,C[pe]=null)):se(g)}}}function Pe(g){return g in xe?xe[g]:xe[g]="on"+g}function H(g,C){if(g.da)g=!0;else{C=new ce(C,this);const F=g.listener,ne=g.ha||g.src;g.fa&&je(g),g=F.call(ne,C)}return g}function qe(g){return g=g[pe],g instanceof K?g:null}var ot="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(g){return typeof g=="function"?g:(g[ot]||(g[ot]=function(C){return g.handleEvent(C)}),g[ot])}function Ge(){W.call(this),this.i=new K(this),this.M=this,this.G=null}v(Ge,W),Ge.prototype[Ae]=!0,Ge.prototype.removeEventListener=function(g,C,F,ne){Ce(this,g,C,F,ne)};function rt(g,C){var F,ne=g.G;if(ne)for(F=[];ne;ne=ne.G)F.push(ne);if(g=g.M,ne=C.type||C,typeof C=="string")C=new E(C,g);else if(C instanceof E)C.target=C.target||g;else{var Ie=C;C=new E(ne,g),G(C,Ie)}Ie=!0;let Be,it;if(F)for(it=F.length-1;it>=0;it--)Be=C.g=F[it],Ie=ct(Be,ne,!0,C)&&Ie;if(Be=C.g=g,Ie=ct(Be,ne,!0,C)&&Ie,Ie=ct(Be,ne,!1,C)&&Ie,F)for(it=0;it<F.length;it++)Be=C.g=F[it],Ie=ct(Be,ne,!1,C)&&Ie}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var g=this.i;for(const C in g.g){const F=g.g[C];for(let ne=0;ne<F.length;ne++)se(F[ne]);delete g.g[C],g.h--}}this.G=null},Ge.prototype.J=function(g,C,F,ne){return this.i.add(String(g),C,!1,F,ne)},Ge.prototype.K=function(g,C,F,ne){return this.i.add(String(g),C,!0,F,ne)};function ct(g,C,F,ne){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();let Ie=!0;for(let Be=0;Be<C.length;++Be){const it=C[Be];if(it&&!it.da&&it.capture==F){const tn=it.listener,ui=it.ha||it.src;it.fa&&re(g.i,it),Ie=tn.call(ui,ne)!==!1&&Ie}}return Ie&&!ne.defaultPrevented}function Nt(g,C){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:l.setTimeout(g,C||0)}function St(g){g.g=Nt(()=>{g.g=null,g.i&&(g.i=!1,St(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class Ht extends W{constructor(C,F){super(),this.m=C,this.l=F,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(g){W.call(this),this.h=g,this.g={}}v(en,W);var st=[];function Yt(g){Ne(g.g,function(C,F){this.g.hasOwnProperty(F)&&je(C)},g),g.g={}}en.prototype.N=function(){en.Z.N.call(this),Yt(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=l.JSON.stringify,gt=l.JSON.parse,Qt=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function yt(){}function oi(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){E.call(this,"d")}v(jt,E);function Gt(){E.call(this,"c")}v(Gt,E);var an={},Rt=null;function Fn(){return Rt=Rt||new Ge}an.Ia="serverreachability";function Ut(g){E.call(this,an.Ia,g)}v(Ut,E);function zt(g){const C=Fn();rt(C,new Ut(C))}an.STAT_EVENT="statevent";function qn(g,C){E.call(this,an.STAT_EVENT,g),this.stat=C}v(qn,E);function Ct(g){const C=Fn();rt(C,new qn(C,g))}an.Ja="timingevent";function Tt(g,C){E.call(this,an.Ja,g),this.size=C}v(Tt,E);function gn(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},C)}function Nr(){this.g=!0}Nr.prototype.ua=function(){this.g=!1};function pr(g,C,F,ne,Ie,Be){g.info(function(){if(g.g)if(Be){var it="",tn=Be.split("&");for(let vn=0;vn<tn.length;vn++){var ui=tn[vn].split("=");if(ui.length>1){const Wn=ui[0];ui=ui[1];const vr=Wn.split("_");it=vr.length>=2&&vr[1]=="type"?it+(Wn+"="+ui+"&"):it+(Wn+"=redacted&")}}}else it=null;else it=Be;return"XMLHTTP REQ ("+ne+") [attempt "+Ie+"]: "+C+`
`+F+`
`+it})}function ta(g,C,F,ne,Ie,Be,it){g.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Ie+"]: "+C+`
`+F+`
`+Be+" "+it})}function rr(g,C,F,ne){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ta(g,F)+(ne?" "+ne:"")})}function It(g,C){g.info(function(){return"TIMEOUT: "+C})}Nr.prototype.info=function(){};function Ta(g,C){if(!g.g)return C;if(!C)return null;try{const Be=JSON.parse(C);if(Be){for(g=0;g<Be.length;g++)if(Array.isArray(Be[g])){var F=Be[g];if(!(F.length<2)){var ne=F[1];if(Array.isArray(ne)&&!(ne.length<1)){var Ie=ne[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(let it=1;it<ne.length;it++)ne[it]=""}}}}return Xt(Be)}catch{return C}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hr;function Jn(){}v(Jn,yt),Jn.prototype.g=function(){return new XMLHttpRequest},Hr=new Jn;function li(g){return encodeURIComponent(String(g))}function $i(g){var C=1;g=g.split(":");const F=[];for(;C>0&&g.length;)F.push(g.shift()),C--;return g.length&&F.push(g.join(":")),F}function Cr(g,C,F,ne){this.j=g,this.i=C,this.l=F,this.S=ne||1,this.V=new en(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}var Hn={},ti={};function Ki(g,C,F){g.M=1,g.A=Wa(Li(C)),g.u=F,g.R=!0,Gr(g,null)}function Gr(g,C){g.F=Date.now(),Wr(g),g.B=Li(g.A);var F=g.B,ne=g.S;Array.isArray(ne)||(ne=[String(ne)]),el(F.i,"t",ne),g.C=0,F=g.j.L,g.h=new mr,g.g=dt(g.j,F?C:null,!g.u),g.P>0&&(g.O=new Ht(f(g.Y,g,g.g),g.P)),C=g.V,F=g.g,ne=g.ba;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(st[0]=Ie.toString()),Ie=st);for(let Be=0;Be<Ie.length;Be++){const it=Te(F,Ie[Be],ne||C.handleEvent,!1,C.h||C);if(!it)break;C.g[it.key]=it}C=g.J?V(g.J):{},g.u?(g.v||(g.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,C)):(g.v="GET",g.g.ea(g.B,g.v,null,C)),zt(),pr(g.i,g.v,g.B,g.l,g.S,g.u)}Cr.prototype.ba=function(g){g=g.target;const C=this.O;C&&fs(g)==3?C.j():this.Y(g)},Cr.prototype.Y=function(g){try{if(g==this.g)e:{const tn=fs(this.g),ui=this.g.ya(),vn=this.g.ca();if(!(tn<3)&&(tn!=3||this.g&&(this.h.h||this.g.la()||Bi(this.g)))){this.K||tn!=4||ui==7||(ui==8||vn<=0?zt(3):zt(2)),os(this);var C=this.g.ca();this.X=C;var F=As(this);if(this.o=C==200,ta(this.i,this.v,this.B,this.l,this.S,tn,C),this.o){if(this.U&&!this.L){t:{if(this.g){var ne,Ie=this.g;if((ne=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ne)){var Be=ne;break t}}Be=null}if(g=Be)rr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ts(this,g);else{this.o=!1,this.m=3,Ct(12),ls(this),Rr(this);break e}}if(this.R){g=!0;let Wn;for(;!this.K&&this.C<F.length;)if(Wn=zs(this,F),Wn==ti){tn==4&&(this.m=4,Ct(14),g=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Hn){this.m=4,Ct(15),rr(this.i,this.l,F,"[Invalid Chunk]"),g=!1;break}else rr(this.i,this.l,Wn,null),Ts(this,Wn);if(Ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||F.length!=0||this.h.h||(this.m=1,Ct(16),g=!1),this.o=this.o&&g,!g)rr(this.i,this.l,F,"[Invalid Chunked Response]"),ls(this),Rr(this);else if(F.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),rl(it),it.P=!0,Ct(11))}}else rr(this.i,this.l,F,null),Ts(this,F);tn==4&&ls(this),this.o&&!this.K&&(tn==4?he(this.j,this):(this.o=!1,Wr(this)))}else na(this.g),C==400&&F.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),ls(this),Rr(this)}}}catch{}};function As(g){if(!Ga(g))return g.g.la();const C=Bi(g.g);if(C==="")return"";let F="";const ne=C.length,Ie=fs(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ls(g),Rr(g),"";g.h.i=new l.TextDecoder}for(let Be=0;Be<ne;Be++)g.h.h=!0,F+=g.h.i.decode(C[Be],{stream:!(Ie&&Be==ne-1)});return C.length=0,g.h.g+=F,g.C=0,g.h.g}function Ga(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function zs(g,C){var F=g.C,ne=C.indexOf(`
`,F);return ne==-1?ti:(F=Number(C.substring(F,ne)),isNaN(F)?Hn:(ne+=1,ne+F>C.length?ti:(C=C.slice(ne,ne+F),g.C=ne+F,C)))}Cr.prototype.cancel=function(){this.K=!0,ls(this)};function Wr(g){g.T=Date.now()+g.H,Ea(g,g.H)}function Ea(g,C){if(g.D!=null)throw Error("WatchDog timer not null");g.D=gn(f(g.aa,g),C)}function os(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Cr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(It(this.i,this.B),this.M!=2&&(zt(),Ct(17)),ls(this),this.m=2,Rr(this)):Ea(this,this.T-g)};function Rr(g){g.j.I==0||g.K||he(g.j,g)}function ls(g){os(g);var C=g.O;C&&typeof C.dispose=="function"&&C.dispose(),g.O=null,Yt(g.V),g.g&&(C=g.g,g.g=null,C.abort(),C.dispose())}function Ts(g,C){try{var F=g.j;if(F.I!=0&&(F.g==g||qs(F.h,g))){if(!g.L&&qs(F.h,g)&&F.I==3){try{var ne=F.Ba.g.parse(C)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Ie=ne;if(Ie[0]==0){e:if(!F.v){if(F.g)if(F.g.F+3e3<g.F)z(F),ra(F);else break e;Ws(F),Ct(18)}}else F.xa=Ie[1],0<F.xa-F.K&&Ie[2]<37500&&F.F&&F.A==0&&!F.C&&(F.C=gn(f(F.Va,F),6e3));Es(F.h)<=1&&F.ta&&(F.ta=void 0)}else Ee(F,11)}else if((g.L||F.g==g)&&z(F),!B(C))for(Ie=F.Ba.g.parse(C),C=0;C<Ie.length;C++){let vn=Ie[C];const Wn=vn[0];if(!(Wn<=F.K))if(F.K=Wn,vn=vn[1],F.I==2)if(vn[0]=="c"){F.M=vn[1],F.ba=vn[2];const vr=vn[3];vr!=null&&(F.ka=vr,F.j.info("VER="+F.ka));const Lr=vn[4];Lr!=null&&(F.za=Lr,F.j.info("SVER="+F.za));const ni=vn[5];ni!=null&&typeof ni=="number"&&ni>0&&(ne=1.5*ni,F.O=ne,F.j.info("backChannelRequestTimeoutMs_="+ne)),ne=F;const Dr=g.g;if(Dr){const $s=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var Be=ne.h;Be.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(vo(Be,Be.h),Be.h=null))}if(ne.G){const Qa=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(ne.wa=Qa,Nn(ne.J,ne.G,Qa))}}F.I=3,F.l&&F.l.ra(),F.aa&&(F.T=Date.now()-g.F,F.j.info("Handshake RTT: "+F.T+"ms")),ne=F;var it=g;if(ne.na=et(ne,ne.L?ne.ba:null,ne.W),it.L){Jo(ne.h,it);var tn=it,ui=ne.O;ui&&(tn.H=ui),tn.D&&(os(tn),Wr(tn)),ne.g=it}else Fl(ne);F.i.length>0&&Cs(F)}else vn[0]!="stop"&&vn[0]!="close"||Ee(F,7);else F.I==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?Ee(F,7):Xa(F):vn[0]!="noop"&&F.l&&F.l.qa(vn),F.A=0)}}zt(4)}catch{}}var Ai=class{constructor(g,C){this.g=g,this.map=C}};function Qo(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Es(g){return g.h?1:g.g?g.g.size:0}function qs(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function vo(g,C){g.g?g.g.add(C):g.h=C}function Jo(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}Qo.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Zo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const F of g.g.values())C=C.concat(F.G);return C}return w(g.i)}var Pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cs(g,C){if(g){g=g.split("&");for(let F=0;F<g.length;F++){const ne=g[F].indexOf("=");let Ie,Be=null;ne>=0?(Ie=g[F].substring(0,ne),Be=g[F].substring(ne+1)):Ie=g[F],C(Ie,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function gr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;g instanceof gr?(this.l=g.l,wn(this,g.j),this.o=g.o,this.g=g.g,Na(this,g.u),this.h=g.h,Ns(this,tl(g.i)),this.m=g.m):g&&(C=String(g).match(Pl))?(this.l=!1,wn(this,C[1]||"",!0),this.o=Vi(C[2]||""),this.g=Vi(C[3]||"",!0),Na(this,C[4]),this.h=Vi(C[5]||"",!0),Ns(this,C[6]||"",!0),this.m=Vi(C[7]||"")):(this.l=!1,this.i=new Ca(null,this.l))}gr.prototype.toString=function(){const g=[];var C=this.j;C&&g.push(yi(C,bo,!0),":");var F=this.g;return(F||C=="file")&&(g.push("//"),(C=this.o)&&g.push(yi(C,bo,!0),"@"),g.push(li(F).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.u,F!=null&&g.push(":",String(F))),(F=this.h)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(yi(F,F.charAt(0)=="/"?kl:Ic,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",yi(F,Ml)),g.join("")},gr.prototype.resolve=function(g){const C=Li(this);let F=!!g.j;F?wn(C,g.j):F=!!g.o,F?C.o=g.o:F=!!g.g,F?C.g=g.g:F=g.u!=null;var ne=g.h;if(F)Na(C,g.u);else if(F=!!g.h){if(ne.charAt(0)!="/")if(this.g&&!this.h)ne="/"+ne;else{var Ie=C.h.lastIndexOf("/");Ie!=-1&&(ne=C.h.slice(0,Ie+1)+ne)}if(Ie=ne,Ie==".."||Ie==".")ne="";else if(Ie.indexOf("./")!=-1||Ie.indexOf("/.")!=-1){ne=Ie.lastIndexOf("/",0)==0,Ie=Ie.split("/");const Be=[];for(let it=0;it<Ie.length;){const tn=Ie[it++];tn=="."?ne&&it==Ie.length&&Be.push(""):tn==".."?((Be.length>1||Be.length==1&&Be[0]!="")&&Be.pop(),ne&&it==Ie.length&&Be.push("")):(Be.push(tn),ne=!0)}ne=Be.join("/")}else ne=Ie}return F?C.h=ne:F=g.i.toString()!=="",F?Ns(C,tl(g.i)):F=!!g.m,F&&(C.m=g.m),C};function Li(g){return new gr(g)}function wn(g,C,F){g.j=F?Vi(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function Na(g,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);g.u=C}else g.u=null}function Ns(g,C,F){C instanceof Ca?(g.i=C,Kr(g.i,g.l)):(F||(C=yi(C,Ir)),g.i=new Ca(C,g.l))}function Nn(g,C,F){g.i.set(C,F)}function Wa(g){return Nn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Vi(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function yi(g,C,F){return typeof g=="string"?(g=encodeURI(g).replace(C,Di),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Di(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var bo=/[#\/\?@]/g,Ic=/[#\?:]/g,kl=/[#\?]/g,Ir=/[#\?@]/g,Ml=/#/g;function Ca(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function sr(g){g.g||(g.g=new Map,g.h=0,g.i&&cs(g.i,function(C,F){g.add(decodeURIComponent(C.replace(/\+/g," ")),F)}))}n=Ca.prototype,n.add=function(g,C){sr(this),this.i=null,g=Ra(this,g);let F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(C),this.h+=1,this};function $a(g,C){sr(g),C=Ra(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function Ol(g,C){return sr(g),C=Ra(g,C),g.g.has(C)}n.forEach=function(g,C){sr(this),this.g.forEach(function(F,ne){F.forEach(function(Ie){g.call(C,Ie,ne,this)},this)},this)};function Vl(g,C){sr(g);let F=[];if(typeof C=="string")Ol(g,C)&&(F=F.concat(g.g.get(Ra(g,C))));else for(g=Array.from(g.g.values()),C=0;C<g.length;C++)F=F.concat(g[C]);return F}n.set=function(g,C){return sr(this),this.i=null,g=Ra(this,g),Ol(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},n.get=function(g,C){return g?(g=Vl(this,g),g.length>0?String(g[0]):C):C};function el(g,C,F){$a(g,C),F.length>0&&(g.i=null,g.g.set(Ra(g,C),w(F)),g.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(let ne=0;ne<C.length;ne++){var F=C[ne];const Ie=li(F);F=Vl(this,F);for(let Be=0;Be<F.length;Be++){let it=Ie;F[Be]!==""&&(it+="="+li(F[Be])),g.push(it)}}return this.i=g.join("&")};function tl(g){const C=new Ca;return C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),C}function Ra(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function Kr(g,C){C&&!g.j&&(sr(g),g.i=null,g.g.forEach(function(F,ne){const Ie=ne.toLowerCase();ne!=Ie&&($a(this,ne),el(this,Ie,F))},g)),g.j=C}function Hs(g,C){const F=new Nr;if(l.Image){const ne=new Image;ne.onload=p(Yr,F,"TestLoadImage: loaded",!0,C,ne),ne.onerror=p(Yr,F,"TestLoadImage: error",!1,C,ne),ne.onabort=p(Yr,F,"TestLoadImage: abort",!1,C,ne),ne.ontimeout=p(Yr,F,"TestLoadImage: timeout",!1,C,ne),l.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=g}else C(!1)}function Ia(g,C){const F=new Nr,ne=new AbortController,Ie=setTimeout(()=>{ne.abort(),Yr(F,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:ne.signal}).then(Be=>{clearTimeout(Ie),Be.ok?Yr(F,"TestPingServer: ok",!0,C):Yr(F,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Ie),Yr(F,"TestPingServer: error",!1,C)})}function Yr(g,C,F,ne,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),ne(F)}catch{}}function Ka(){this.g=new Qt}function Pt(g){this.i=g.Sb||null,this.h=g.ab||!1}v(Pt,yt),Pt.prototype.g=function(){return new wo(this.i,this.h)};function wo(g,C){Ge.call(this),this.H=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(wo,Ge),n=wo.prototype,n.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=C,this.readyState=1,ar(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(C.body=g),(this.H||l).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function nl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?Ya(this):ar(this),this.readyState==3&&nl(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Ya(this))},n.Na=function(g){this.g&&(this.response=g,Ya(this))},n.ga=function(){this.g&&Ya(this)};function Ya(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ar(g)}n.setRequestHeader=function(g,C){this.A.append(g,C)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var F=C.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=C.next();return g.join(`\r
`)};function ar(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Yi(g){let C="";return Ne(g,function(F,ne){C+=ne,C+=":",C+=F,C+=`\r
`}),C}function _o(g,C,F){e:{for(ne in F){var ne=!1;break e}ne=!0}ne||(F=Yi(F),typeof g=="string"?F!=null&&li(F):Nn(g,C,F))}function Gn(g){Ge.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Gn,Ge);var us=/^https?$/i,xo=["POST","PUT"];n=Gn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,C,F,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hr.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(Be){Gs(this,Be);return}if(g=F||"",F=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Ie in ne)F.set(Ie,ne[Ie]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Be of ne.keys())F.set(Be,ne.get(Be));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(F.keys()).find(Be=>Be.toLowerCase()=="content-type"),Ie=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(xo,C,void 0)>=0)||ne||Ie||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,it]of F)this.g.setRequestHeader(Be,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Be){Gs(this,Be)}};function Gs(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.o=5,Bl(g),La(g)}function Bl(g){g.A||(g.A=!0,rt(g,"complete"),rt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,rt(this,"complete"),rt(this,"abort"),La(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),La(this,!0)),Gn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},n.Xa=function(){hs(this)};function hs(g){if(g.h&&typeof a<"u"){if(g.v&&fs(g)==4)setTimeout(g.Ca.bind(g),0);else if(rt(g,"readystatechange"),fs(g)==4){g.h=!1;try{const Be=g.ca();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var F;if(!(F=C)){var ne;if(ne=Be===0){let it=String(g.D).match(Pl)[1]||null;!it&&l.self&&l.self.location&&(it=l.self.location.protocol.slice(0,-1)),ne=!us.test(it?it.toLowerCase():"")}F=ne}if(F)rt(g,"complete"),rt(g,"success");else{g.o=6;try{var Ie=fs(g)>2?g.g.statusText:""}catch{Ie=""}g.l=Ie+" ["+g.ca()+"]",Bl(g)}}finally{La(g)}}}}function La(g,C){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const F=g.g;g.g=null,C||rt(g,"ready");try{F.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fs(g){return g.g?g.g.readyState:0}n.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),gt(C)}};function Bi(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function na(g){const C={};g=(g.g&&fs(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<g.length;ne++){if(B(g[ne]))continue;var F=$i(g[ne]);const Ie=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Be=C[Ie]||[];C[Ie]=Be,Be.push(F)}ue(C,function(ne){return ne.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(g,C,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||C}function ia(g){this.za=0,this.i=[],this.j=new Nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yr("baseRetryDelayMs",5e3,g),this.Za=yr("retryDelaySeedMs",1e4,g),this.Ta=yr("forwardChannelMaxRetries",2,g),this.va=yr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(g&&g.concurrentRequestLimit),this.Ba=new Ka,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ia.prototype,n.ka=8,n.I=1,n.connect=function(g,C,F,ne){Ct(0),this.W=g,this.H=C||{},F&&ne!==void 0&&(this.H.OSID=F,this.H.OAID=ne),this.F=this.X,this.J=et(this,null,this.W),Cs(this)};function Xa(g){if(sa(g),g.I==3){var C=g.V++,F=Li(g.J);if(Nn(F,"SID",g.M),Nn(F,"RID",C),Nn(F,"TYPE","terminate"),ds(g,F),C=new Cr(g,g.j,C),C.M=2,C.A=Wa(Li(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(C.A.toString(),"")}catch{}!F&&l.Image&&(new Image().src=C.A,F=!0),F||(C.g=dt(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Wr(C)}$e(g)}function ra(g){g.g&&(rl(g),g.g.cancel(),g.g=null)}function sa(g){ra(g),g.v&&(l.clearTimeout(g.v),g.v=null),z(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Cs(g){if(!$r(g.h)&&!g.m){g.m=!0;var C=g.Ea;ae||M(),ge||(ae(),ge=!0),U.add(C,g),g.D=0}}function So(g,C){return Es(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=C.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=gn(f(g.Ea,g,C),ve(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Ie=new Cr(this,this.j,g);let Be=this.o;if(this.U&&(Be?(Be=V(Be),G(Be,this.U)):Be=this.U),this.u!==null||this.R||(Ie.J=Be,Be=null),this.S)e:{for(var C=0,F=0;F<this.i.length;F++){t:{var ne=this.i[F];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(C+=ne,C>4096){C=F;break e}if(C===4096||F===this.i.length-1){C=F+1;break e}}C=1e3}else C=1e3;C=aa(this,Ie,C),F=Li(this.J),Nn(F,"RID",g),Nn(F,"CVER",22),this.G&&Nn(F,"X-HTTP-Session-Id",this.G),ds(this,F),Be&&(this.R?C="headers="+li(Yi(Be))+"&"+C:this.u&&_o(F,this.u,Be)),vo(this.h,Ie),this.Ra&&Nn(F,"TYPE","init"),this.S?(Nn(F,"$req",C),Nn(F,"SID","null"),Ie.U=!0,Ki(Ie,F,null)):Ki(Ie,F,C),this.I=2}}else this.I==3&&(g?il(this,g):this.i.length==0||$r(this.h)||il(this))};function il(g,C){var F;C?F=C.l:F=g.V++;const ne=Li(g.J);Nn(ne,"SID",g.M),Nn(ne,"RID",F),Nn(ne,"AID",g.K),ds(g,ne),g.u&&g.o&&_o(ne,g.u,g.o),F=new Cr(g,g.j,F,g.D+1),g.u===null&&(F.J=g.o),C&&(g.i=C.G.concat(g.i)),C=aa(g,F,1e3),F.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),vo(g.h,F),Ki(F,ne,C)}function ds(g,C){g.H&&Ne(g.H,function(F,ne){Nn(C,ne,F)}),g.l&&Ne({},function(F,ne){Nn(C,ne,F)})}function aa(g,C,F){F=Math.min(g.i.length,F);const ne=g.l?f(g.l.Ka,g.l,g):null;e:{var Ie=g.i;let tn=-1;for(;;){const ui=["count="+F];tn==-1?F>0?(tn=Ie[0].g,ui.push("ofs="+tn)):tn=0:ui.push("ofs="+tn);let vn=!0;for(let Wn=0;Wn<F;Wn++){var Be=Ie[Wn].g;const vr=Ie[Wn].map;if(Be-=tn,Be<0)tn=Math.max(0,Ie[Wn].g-100),vn=!1;else try{Be="req"+Be+"_"||"";try{var it=vr instanceof Map?vr:Object.entries(vr);for(const[Lr,ni]of it){let Dr=ni;u(ni)&&(Dr=Xt(ni)),ui.push(Be+Lr+"="+encodeURIComponent(Dr))}}catch(Lr){throw ui.push(Be+"type="+encodeURIComponent("_badmap")),Lr}}catch{ne&&ne(vr)}}if(vn){it=ui.join("&");break e}}it=void 0}return g=g.i.splice(0,F),C.G=g,it}function Fl(g){if(!g.g&&!g.v){g.Y=1;var C=g.Da;ae||M(),ge||(ae(),ge=!0),U.add(C,g),g.A=0}}function Ws(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=gn(f(g.Da,g),ve(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=gn(f(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ra(this),A(this))};function rl(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function A(g){g.g=new Cr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var C=Li(g.na);Nn(C,"RID","rpc"),Nn(C,"SID",g.M),Nn(C,"AID",g.K),Nn(C,"CI",g.F?"0":"1"),!g.F&&g.ia&&Nn(C,"TO",g.ia),Nn(C,"TYPE","xmlhttp"),ds(g,C),g.u&&g.o&&_o(C,g.u,g.o),g.O&&(g.g.H=g.O);var F=g.g;g=g.ba,F.M=1,F.A=Wa(Li(C)),F.u=null,F.R=!0,Gr(F,g)}n.Va=function(){this.C!=null&&(this.C=null,ra(this),Ws(this),Ct(19))};function z(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function he(g,C){var F=null;if(g.g==C){z(g),rl(g),g.g=null;var ne=2}else if(qs(g.h,C))F=C.G,Jo(g.h,C),ne=1;else return;if(g.I!=0){if(C.o)if(ne==1){F=C.u?C.u.length:0,C=Date.now()-C.F;var Ie=g.D;ne=Fn(),rt(ne,new Tt(ne,F)),Cs(g)}else Fl(g);else if(Ie=C.m,Ie==3||Ie==0&&C.X>0||!(ne==1&&So(g,C)||ne==2&&Ws(g)))switch(F&&F.length>0&&(C=g.h,C.i=C.i.concat(F)),Ie){case 1:Ee(g,5);break;case 4:Ee(g,10);break;case 3:Ee(g,6);break;default:Ee(g,2)}}}function ve(g,C){let F=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(F*=2),F*C}function Ee(g,C){if(g.j.info("Error code "+C),C==2){var F=f(g.bb,g),ne=g.Ua;const Ie=!ne;ne=new gr(ne||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wn(ne,"https"),Wa(ne),Ie?Hs(ne.toString(),F):Ia(ne.toString(),F)}else Ct(2);g.I=0,g.l&&g.l.pa(C),$e(g),sa(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function $e(g){if(g.I=0,g.ja=[],g.l){const C=Zo(g.h);(C.length!=0||g.i.length!=0)&&(N(g.ja,C),N(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function et(g,C,F){var ne=F instanceof gr?Li(F):new gr(F);if(ne.g!="")C&&(ne.g=C+"."+ne.g),Na(ne,ne.u);else{var Ie=l.location;ne=Ie.protocol,C=C?C+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;const Be=new gr(null);ne&&wn(Be,ne),C&&(Be.g=C),Ie&&Na(Be,Ie),F&&(Be.h=F),ne=Be}return F=g.G,C=g.wa,F&&C&&Nn(ne,F,C),Nn(ne,"VER",g.ka),ds(g,ne),ne}function dt(g,C,F){if(C&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Aa&&!g.ma?new Gn(new Pt({ab:F})):new Gn(g.ma),C.Fa(g.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wt(){}n=wt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vt(){}Vt.prototype.g=function(g,C){return new Lt(g,C)};function Lt(g,C){Ge.call(this),this.g=new ia(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(g?g["X-WebChannel-Client-Profile"]=C.sa:g={"X-WebChannel-Client-Profile":C.sa}),this.g.U=g,(g=C&&C.Qb)&&!B(g)&&(this.g.u=g),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!B(C)&&(this.g.G=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new Zn(this)}v(Lt,Ge),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Xa(this.g)},Lt.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.v&&(F={},F.__data__=Xt(g),g=F);C.i.push(new Ai(C.Ya++,g)),C.I==3&&Cs(C)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Xa(this.g),delete this.g,Lt.Z.N.call(this)};function _n(g){jt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){e:{for(const F in C){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}v(_n,jt);function ci(){Gt.call(this),this.status=1}v(ci,Gt);function Zn(g){this.g=g}v(Zn,wt),Zn.prototype.ra=function(){rt(this.g,"a")},Zn.prototype.qa=function(g){rt(this.g,new _n(g))},Zn.prototype.pa=function(g){rt(this.g,new ci)},Zn.prototype.oa=function(){rt(this.g,"b")},Vt.prototype.createWebChannel=Vt.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,GT=function(){return new Vt},HT=function(){return Fn()},qT=an,uv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Pg=as,qr.COMPLETE="complete",zT=qr,oi.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,up=oi,Gn.prototype.listenOnce=Gn.prototype.K,Gn.prototype.getLastError=Gn.prototype.Ha,Gn.prototype.getLastErrorCode=Gn.prototype.ya,Gn.prototype.getStatus=Gn.prototype.ca,Gn.prototype.getResponseJson=Gn.prototype.La,Gn.prototype.getResponseText=Gn.prototype.la,Gn.prototype.send=Gn.prototype.ea,Gn.prototype.setWithCredentials=Gn.prototype.Fa,UT=Gn}).apply(typeof dg<"u"?dg:typeof self<"u"?self:typeof window<"u"?window:{});class Os{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");let ad="12.8.0";function hj(n){ad=n}const xh=new I5("@firebase/firestore");function _f(){return xh.logLevel}function pt(n,...e){if(xh.logLevel<=In.DEBUG){const t=e.map(j5);xh.debug(`Firestore (${ad}): ${n}`,...t)}}function xc(n,...e){if(xh.logLevel<=In.ERROR){const t=e.map(j5);xh.error(`Firestore (${ad}): ${n}`,...t)}}function Sh(n,...e){if(xh.logLevel<=In.WARN){const t=e.map(j5);xh.warn(`Firestore (${ad}): ${n}`,...t)}}function j5(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Zt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,WT(n,i,t)}function WT(n,e,t){let i=`FIRESTORE (${ad}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw xc(i),new Error(i)}function ei(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||WT(e,r,i)}function hn(n,e){return n}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Rc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Su{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class $T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Os.UNAUTHENTICATED)))}shutdown(){}}class fj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dj{constructor(e){this.t=e,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ei(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new Su;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Su,e.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await r(this.currentUser)}))},u=h=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Su)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ei(typeof i.accessToken=="string",31837,{l:i}),new $T(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ei(e===null||typeof e=="string",2055,{h:e}),new Os(e)}}class pj{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Os.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mj{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Os.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ei(this.o===void 0,3512);const i=a=>{a.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ei(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new f3(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class X1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=yj(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Ln(n,e){return n<e?-1:n>e?1:0}function hv(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return sy(r)===sy(a)?Ln(r,a):sy(r)?1:-1}return Ln(n.length,e.length)}const vj=55296,bj=57343;function sy(n){const e=n.charCodeAt(0);return e>=vj&&e<=bj}function $f(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}const d3="__name__";class Tl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Zt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Zt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Tl.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Ln(e.length,t.length)}static compareSegments(e,t){const i=Tl.isNumericId(e),r=Tl.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Tl.extractNumericId(e).compare(Tl.extractNumericId(t)):hv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xu.fromString(e.substring(4,e.length-2))}}class xi extends Tl{construct(e,t,i){return new xi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ut(Je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new xi(t)}static emptyPath(){return new xi([])}}const wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends Tl{construct(e,t,i){return new rs(e,t,i)}static isValidIdentifier(e){return wj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d3}static keyField(){return new rs([d3])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new ut(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new ut(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ut(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new ut(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(t)}static emptyPath(){return new rs([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(xi.fromString(e))}static fromName(e){return new Ot(xi.fromString(e).popFirst(5))}static empty(){return new Ot(xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new xi(e.slice()))}}function YT(n,e,t){if(!t)throw new ut(Je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XT(n,e,t,i){if(e===!0&&i===!0)throw new ut(Je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function p3(n){if(!Ot.isDocumentKey(n))throw new ut(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m3(n){if(Ot.isDocumentKey(n))throw new ut(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Q1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Zt(12329,{type:typeof n})}function Ha(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ut(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Q1(n);throw new ut(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Zp(n,e){if(!QT(n))throw new ut(Je.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new ut(Je.INVALID_ARGUMENT,t);return!0}const g3=-62135596800,y3=1e6;class Si{static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*y3);return new Si(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<g3)throw new ut(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y3}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Si._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zp(e,Si._jsonSchema))return new Si(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Si._jsonSchemaVersion="firestore/timestamp/1.0",Si._jsonSchema={type:Tr("string",Si._jsonSchemaVersion),seconds:Tr("number"),nanoseconds:Tr("number")};class on{static fromTimestamp(e){return new on(e)}static min(){return new on(new Si(0,0))}static max(){return new on(new Si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dp=-1;function _j(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=on.fromTimestamp(i===1e9?new Si(t+1,0):new Si(t,i));return new Eu(r,Ot.empty(),e)}function xj(n){return new Eu(n.readTime,n.key,Dp)}class Eu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Eu(on.min(),Ot.empty(),Dp)}static max(){return new Eu(on.max(),Ot.empty(),Dp)}}function Sj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ot.comparator(n.documentKey,e.documentKey),t!==0?t:Ln(n.largestBatchId,e.largestBatchId))}const Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function od(n){if(n.code!==Je.FAILED_PRECONDITION||n.message!==Aj)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):tt.reject(t)}static resolve(e){return new tt(((t,i)=>{t(e)}))}static reject(e){return new tt(((t,i)=>{i(e)}))}static waitFor(e){return new tt(((t,i)=>{let r=0,a=0,l=!1;e.forEach((u=>{++r,u.next((()=>{++a,l&&a===r&&t()}),(h=>i(h)))})),l=!0,a===r&&t()}))}static or(e){let t=tt.resolve(!1);for(const i of e)t=t.next((r=>r?tt.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new tt(((i,r)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next((p=>{l[f]=p,++u,u===a&&i(l)}),(p=>r(p)))}}))}static doWhile(e,t){return new tt(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function Ej(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ld(n){return n.name==="IndexedDbTransactionError"}class J1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}J1.ce=-1;const P5=-1;function Z1(n){return n==null}function a1(n){return n===0&&1/n==-1/0}function Nj(n){return typeof n=="number"&&Number.isInteger(n)&&!a1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const JT="";function Cj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=v3(e)),e=Rj(n.get(t),e);return v3(e)}function Rj(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case JT:t+="";break;default:t+=a}}return t}function v3(n){return n+JT+""}function b3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Wi{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new Wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new Wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pg(this.root,e,this.comparator,!0)}}class pg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??xs.RED,this.left=r??xs.EMPTY,this.right=a??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new xs(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return xs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Zt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Zt(27949);return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1;xs.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt(57766)}get value(){throw Zt(16141)}get color(){throw Zt(16727)}get left(){throw Zt(29726)}get right(){throw Zt(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new xs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ur{constructor(e){this.comparator=e,this.data=new Wi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w3(this.data.getIterator())}getIteratorFrom(e){return new w3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ur(this.comparator);return t.data=e,t}}class w3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class za{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new za([])}unionWith(e){let t=new Ur(rs.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new za(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $f(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eE("Invalid base64 string: "+a):a}})(e);return new ss(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a})(e);return new ss(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const Ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(ei(!!n,39018),typeof n=="string"){let e=0;const t=Ij.exec(n);if(ei(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cu(n){return typeof n=="string"?ss.fromBase64String(n):ss.fromUint8Array(n)}const tE="server_timestamp",nE="__type__",iE="__previous_value__",rE="__local_write_time__";function k5(n){return(n?.mapValue?.fields||{})[nE]?.stringValue===tE}function e0(n){const e=n.mapValue.fields[iE];return k5(e)?e0(e):e}function jp(n){const e=Nu(n.mapValue.fields[rE].timestampValue);return new Si(e.seconds,e.nanos)}class Lj{constructor(e,t,i,r,a,l,u,h,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p,this.apiKey=v}}const o1="(default)";class Kf{constructor(e,t){this.projectId=e,this.database=t||o1}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database===o1}isEqual(e){return e instanceof Kf&&e.projectId===this.projectId&&e.database===this.database}}function Dj(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(n.options.projectId,e)}const sE="__type__",jj="__max__",mg={mapValue:{}},aE="__vector__",l1="value";function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k5(n)?4:kj(n)?9007199254740991:Pj(n)?10:11:Zt(28295,{value:n})}function Ll(n,e){if(n===e)return!0;const t=Ru(n);if(t!==Ru(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jp(n).isEqual(jp(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Nu(r.timestampValue),u=Nu(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return Cu(r.bytesValue).isEqual(Cu(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return ur(r.geoPointValue.latitude)===ur(a.geoPointValue.latitude)&&ur(r.geoPointValue.longitude)===ur(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return ur(r.integerValue)===ur(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=ur(r.doubleValue),u=ur(a.doubleValue);return l===u?a1(l)===a1(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return $f(n.arrayValue.values||[],e.arrayValue.values||[],Ll);case 10:case 11:return(function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(b3(l)!==b3(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ll(l[h],u[h])))return!1;return!0})(n,e);default:return Zt(52216,{left:n})}}function Pp(n,e){return(n.values||[]).find((t=>Ll(t,e)))!==void 0}function Yf(n,e){if(n===e)return 0;const t=Ru(n),i=Ru(e);if(t!==i)return Ln(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=ur(a.integerValue||a.doubleValue),h=ur(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return _3(n.timestampValue,e.timestampValue);case 4:return _3(jp(n),jp(e));case 5:return hv(n.stringValue,e.stringValue);case 6:return(function(a,l){const u=Cu(a),h=Cu(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=Ln(u[f],h[f]);if(p!==0)return p}return Ln(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Ln(ur(a.latitude),ur(l.latitude));return u!==0?u:Ln(ur(a.longitude),ur(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return x3(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},h=l.fields||{},f=u[l1]?.arrayValue,p=h[l1]?.arrayValue,v=Ln(f?.values?.length||0,p?.values?.length||0);return v!==0?v:x3(f,p)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===mg.mapValue&&l===mg.mapValue)return 0;if(a===mg.mapValue)return 1;if(l===mg.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const x=hv(h[v],p[v]);if(x!==0)return x;const w=Yf(u[h[v]],f[p[v]]);if(w!==0)return w}return Ln(h.length,p.length)})(n.mapValue,e.mapValue);default:throw Zt(23264,{he:t})}}function _3(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ln(n,e);const t=Nu(n),i=Nu(e),r=Ln(t.seconds,i.seconds);return r!==0?r:Ln(t.nanos,i.nanos)}function x3(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Yf(t[r],i[r]);if(a)return a}return Ln(t.length,i.length)}function Xf(n){return fv(n)}function fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Nu(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Cu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ot.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=fv(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${fv(t.fields[l])}`;return r+"}"})(n.mapValue):Zt(61005,{value:n})}function kg(n){switch(Ru(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=e0(n);return e?16+kg(e):16;case 5:return 2*n.stringValue.length;case 6:return Cu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+kg(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Mu(i.fields,((a,l)=>{r+=a.length+kg(l)})),r})(n.mapValue);default:throw Zt(13486,{value:n})}}function S3(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dv(n){return!!n&&"integerValue"in n}function M5(n){return!!n&&"arrayValue"in n}function A3(n){return!!n&&"nullValue"in n}function T3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mg(n){return!!n&&"mapValue"in n}function Pj(n){return(n?.mapValue?.fields||{})[sE]?.stringValue===aE}function gp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Mu(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=gp(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gp(n.arrayValue.values[t]);return e}return{...n}}function kj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jj}class Sa{constructor(e){this.value=e}static empty(){return new Sa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gp(t)}setAll(e){let t=rs.emptyPath(),i={},r=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=gp(l):r.push(u.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Mg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Mg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Mu(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new Sa(gp(this.value))}}function oE(n){const e=[];return Mu(n.fields,((t,i)=>{const r=new rs([t]);if(Mg(i)){const a=oE(i.mapValue).fields;if(a.length===0)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)})),new za(e)}class Vs{constructor(e,t,i,r,a,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Vs(e,0,on.min(),on.min(),on.min(),Sa.empty(),0)}static newFoundDocument(e,t,i,r){return new Vs(e,1,t,on.min(),i,r,0)}static newNoDocument(e,t){return new Vs(e,2,t,on.min(),on.min(),Sa.empty(),0)}static newUnknownDocument(e,t){return new Vs(e,3,t,on.min(),on.min(),Sa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(on.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class c1{constructor(e,t){this.position=e,this.inclusive=t}}function E3(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(a.field.isKeyField()?i=Ot.comparator(Ot.fromName(l.referenceValue),t.key):i=Yf(l,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function N3(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ll(n.position[t],e.position[t]))return!1;return!0}class u1{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class lE{}class Ar extends lE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Vj(e,t,i):t==="array-contains"?new Uj(e,i):t==="in"?new zj(e,i):t==="not-in"?new qj(e,i):t==="array-contains-any"?new Hj(e,i):new Ar(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Bj(e,i):new Fj(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yf(t,this.value)):t!==null&&Ru(this.value)===Ru(t)&&this.matchesComparison(Yf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $o extends lE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new $o(e,t)}matches(e){return cE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cE(n){return n.op==="and"}function uE(n){return Oj(n)&&cE(n)}function Oj(n){for(const e of n.filters)if(e instanceof $o)return!1;return!0}function pv(n){if(n instanceof Ar)return n.field.canonicalString()+n.op.toString()+Xf(n.value);if(uE(n))return n.filters.map((e=>pv(e))).join(",");{const e=n.filters.map((t=>pv(t))).join(",");return`${n.op}(${e})`}}function hE(n,e){return n instanceof Ar?(function(i,r){return r instanceof Ar&&i.op===r.op&&i.field.isEqual(r.field)&&Ll(i.value,r.value)})(n,e):n instanceof $o?(function(i,r){return r instanceof $o&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,l,u)=>a&&hE(l,r.filters[u])),!0):!1})(n,e):void Zt(19439)}function fE(n){return n instanceof Ar?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xf(t.value)}`})(n):n instanceof $o?(function(t){return t.op.toString()+" {"+t.getFilters().map(fE).join(" ,")+"}"})(n):"Filter"}class Vj extends Ar{constructor(e,t,i){super(e,t,i),this.key=Ot.fromName(i.referenceValue)}matches(e){const t=Ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bj extends Ar{constructor(e,t){super(e,"in",t),this.keys=dE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Fj extends Ar{constructor(e,t){super(e,"not-in",t),this.keys=dE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dE(n,e){return(e.arrayValue?.values||[]).map((t=>Ot.fromName(t.referenceValue)))}class Uj extends Ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return M5(t)&&Pp(t.arrayValue,this.value)}}class zj extends Ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pp(this.value.arrayValue,t)}}class qj extends Ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pp(this.value.arrayValue,t)}}class Hj extends Ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!M5(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Pp(this.value.arrayValue,i)))}}class Gj{constructor(e,t=null,i=[],r=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function C3(n,e=null,t=[],i=[],r=null,a=null,l=null){return new Gj(n,e,t,i,r,a,l)}function O5(n){const e=hn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>pv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Z1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Xf(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Xf(i))).join(",")),e.Te=t}return e.Te}function V5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N3(n.startAt,e.startAt)&&N3(n.endAt,e.endAt)}function mv(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class em{constructor(e,t=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Wj(n,e,t,i,r,a,l,u){return new em(n,e,t,i,r,a,l,u)}function t0(n){return new em(n)}function R3(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $j(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function pE(n){return n.collectionGroup!==null}function yp(n){const e=hn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ur(rs.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new u1(a,i))})),t.has(rs.keyField().canonicalString())||e.Ie.push(new u1(rs.keyField(),i))}return e.Ie}function Nl(n){const e=hn(n);return e.Ee||(e.Ee=Kj(e,yp(n))),e.Ee}function Kj(n,e){if(n.limitType==="F")return C3(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new u1(r.field,a)}));const t=n.endAt?new c1(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new c1(n.startAt.position,n.startAt.inclusive):null;return C3(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function gv(n,e){const t=n.filters.concat([e]);return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yv(n,e,t){return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n0(n,e){return V5(Nl(n),Nl(e))&&n.limitType===e.limitType}function mE(n){return`${O5(Nl(n))}|lt:${n.limitType}`}function xf(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>fE(r))).join(", ")}]`),Z1(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Xf(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Xf(r))).join(",")),`Target(${i})`})(Nl(n))}; limitType=${n.limitType})`}function i0(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ot.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of yp(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(l,u,h){const f=E3(l,u,h);return l.inclusive?f<=0:f<0})(i.startAt,yp(i),r)||i.endAt&&!(function(l,u,h){const f=E3(l,u,h);return l.inclusive?f>=0:f>0})(i.endAt,yp(i),r))})(n,e)}function Yj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gE(n){return(e,t)=>{let i=!1;for(const r of yp(n)){const a=Xj(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function Xj(n,e,t){const i=n.field.isKeyField()?Ot.comparator(e.key,t.key):(function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Yf(h,f):Zt(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Zt(19790,{direction:n.dir})}}class Rh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mu(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const Qj=new Wi(Ot.comparator);function Sc(){return Qj}const yE=new Wi(Ot.comparator);function hp(...n){let e=yE;for(const t of n)e=e.insert(t.key,t);return e}function vE(n){let e=yE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function hh(){return vp()}function bE(){return vp()}function vp(){return new Rh((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Jj=new Wi(Ot.comparator),Zj=new Ur(Ot.comparator);function Dn(...n){let e=Zj;for(const t of n)e=e.add(t);return e}const eP=new Ur(Ln);function tP(){return eP}function B5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a1(e)?"-0":e}}function wE(n){return{integerValue:""+n}}function nP(n,e){return Nj(e)?wE(e):B5(n,e)}class r0{constructor(){this._=void 0}}function iP(n,e,t){return n instanceof kp?(function(r,a){const l={fields:{[nE]:{stringValue:tE},[rE]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&k5(a)&&(a=e0(a)),a&&(l.fields[iE]=a),{mapValue:l}})(t,e):n instanceof Mp?xE(n,e):n instanceof Op?SE(n,e):(function(r,a){const l=_E(r,a),u=I3(l)+I3(r.Ae);return dv(l)&&dv(r.Ae)?wE(u):B5(r.serializer,u)})(n,e)}function rP(n,e,t){return n instanceof Mp?xE(n,e):n instanceof Op?SE(n,e):t}function _E(n,e){return n instanceof h1?(function(i){return dv(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class kp extends r0{}class Mp extends r0{constructor(e){super(),this.elements=e}}function xE(n,e){const t=AE(e);for(const i of n.elements)t.some((r=>Ll(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Op extends r0{constructor(e){super(),this.elements=e}}function SE(n,e){let t=AE(e);for(const i of n.elements)t=t.filter((r=>!Ll(r,i)));return{arrayValue:{values:t}}}class h1 extends r0{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function I3(n){return ur(n.integerValue||n.doubleValue)}function AE(n){return M5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sP{constructor(e,t){this.field=e,this.transform=t}}function aP(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof Mp&&r instanceof Mp||i instanceof Op&&r instanceof Op?$f(i.elements,r.elements,Ll):i instanceof h1&&r instanceof h1?Ll(i.Ae,r.Ae):i instanceof kp&&r instanceof kp})(n.transform,e.transform)}class oP{constructor(e,t){this.version=e,this.transformResults=t}}class fo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fo}static exists(e){return new fo(void 0,e)}static updateTime(e){return new fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Og(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class s0{}function TE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new F5(n.key,fo.none()):new tm(n.key,n.data,fo.none());{const t=n.data,i=Sa.empty();let r=new Ur(rs.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new Ou(n.key,i,new za(r.toArray()),fo.none())}}function lP(n,e,t){n instanceof tm?(function(r,a,l){const u=r.value.clone(),h=D3(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Ou?(function(r,a,l){if(!Og(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=D3(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(EE(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function bp(n,e,t,i){return n instanceof tm?(function(a,l,u,h){if(!Og(a.precondition,l))return u;const f=a.value.clone(),p=j3(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,i):n instanceof Ou?(function(a,l,u,h){if(!Og(a.precondition,l))return u;const f=j3(a.fieldTransforms,h,l),p=l.data;return p.setAll(EE(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(a,l,u){return Og(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function cP(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=_E(i.transform,r||null);a!=null&&(t===null&&(t=Sa.empty()),t.set(i.field,a))}return t||null}function L3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$f(i,r,((a,l)=>aP(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tm extends s0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ou extends s0{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function EE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function D3(n,e,t){const i=new Map;ei(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,u=e.data.field(a.field);i.set(a.field,rP(l,u,t[r]))}return i}function j3(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,iP(a,l,e))}return i}class F5 extends s0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uP extends s0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&lP(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bE();return this.mutations.forEach((r=>{const a=e.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(r.key)?null:u;const h=TE(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(on.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Dn())}isEqual(e){return this.batchId===e.batchId&&$f(this.mutations,e.mutations,((t,i)=>L3(t,i)))&&$f(this.baseMutations,e.baseMutations,((t,i)=>L3(t,i)))}}class U5{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ei(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return Jj})();const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new U5(e,t,i,r)}}class fP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dP{constructor(e,t){this.count=e,this.unchangedNames=t}}var xr,Bn;function pP(n){switch(n){case Je.OK:return Zt(64938);case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0;default:return Zt(15467,{code:n})}}function NE(n){if(n===void 0)return xc("GRPC error has no .code"),Je.UNKNOWN;switch(n){case xr.OK:return Je.OK;case xr.CANCELLED:return Je.CANCELLED;case xr.UNKNOWN:return Je.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Je.INTERNAL;case xr.UNAVAILABLE:return Je.UNAVAILABLE;case xr.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case xr.NOT_FOUND:return Je.NOT_FOUND;case xr.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case xr.ABORTED:return Je.ABORTED;case xr.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case xr.DATA_LOSS:return Je.DATA_LOSS;default:return Zt(39323,{code:n})}}(Bn=xr||(xr={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";function mP(){return new TextEncoder}const gP=new xu([4294967295,4294967295],0);function P3(n){const e=mP().encode(n),t=new FT;return t.update(e),new Uint8Array(t.digest())}function k3(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xu([t,i],0),new xu([r,a],0)]}class z5{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fp(`Invalid padding: ${t}`);if(i<0)throw new fp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fp(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xu.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(xu.fromNumber(i)));return r.compare(gP)===1&&(r=new xu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=P3(e),[i,r]=k3(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);if(!this.we(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new z5(a,r,t);return i.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=P3(e),[i,r]=k3(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);this.be(l)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class fp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class a0{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,nm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new a0(on.min(),r,new Wi(Ln),Sc(),Dn())}}class nm{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new nm(i,t,Dn(),Dn(),Dn())}}class Vg{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=r}}class CE{constructor(e,t){this.targetId=e,this.Ce=t}}class RE{constructor(e,t,i=ss.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class M3{constructor(){this.ve=0,this.Fe=O3(),this.Me=ss.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dn(),t=Dn(),i=Dn();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Zt(38017,{changeType:a})}})),new nm(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=O3()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ei(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sc(),this.He=gg(),this.Je=gg(),this.Ze=new Wi(Ln)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Zt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(mv(a))if(i===0){const l=new Ot(a.path);this.et(t,l,Vs.newNoDocument(l,on.min()))}else ei(i===1,20013,{expectedCount:i});else{const l=this._t(t);if(l!==i){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let l,u;try{l=Cu(i).toUint8Array()}catch(h){if(h instanceof eE)return Sh("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new z5(l,r,a)}catch(h){return Sh(h instanceof fp?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&mv(u.target)){const h=new Ot(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Vs.newNoDocument(h,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let i=Dn();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const r=new a0(e,t,this.Ze,this.je,i);return this.je=Sc(),this.He=gg(),this.Je=gg(),this.Ze=new Wi(Ln),r}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new M3,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ur(Ln),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ur(Ln),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M3),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gg(){return new Wi(Ot.comparator)}function O3(){return new Wi(Ot.comparator)}const vP={asc:"ASCENDING",desc:"DESCENDING"},bP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wP={and:"AND",or:"OR"};class _P{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vv(n,e){return n.useProto3Json||Z1(e)?e:{value:e}}function f1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xP(n,e){return f1(n,e.toTimestamp())}function Cl(n){return ei(!!n,49232),on.fromTimestamp((function(t){const i=Nu(t);return new Si(i.seconds,i.nanos)})(n))}function q5(n,e){return bv(n,e).canonicalString()}function bv(n,e){const t=(function(r){return new xi(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function LE(n){const e=xi.fromString(n);return ei(ME(e),10190,{key:e.toString()}),e}function wv(n,e){return q5(n.databaseId,e.path)}function ay(n,e){const t=LE(e);if(t.get(1)!==n.databaseId.projectId)throw new ut(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ut(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ot(jE(t))}function DE(n,e){return q5(n.databaseId,e)}function SP(n){const e=LE(n);return e.length===4?xi.emptyPath():jE(e)}function _v(n){return new xi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jE(n){return ei(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function V3(n,e,t){return{name:wv(n,e),fields:t.value.mapValue.fields}}function AP(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Zt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(ei(p===void 0||typeof p=="string",58123),ss.fromBase64String(p||"")):(ei(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ss.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?Je.UNKNOWN:NE(f.code);return new ut(p,f.message||"")})(l);t=new RE(i,r,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=ay(n,i.document.name),a=Cl(i.document.updateTime),l=i.document.createTime?Cl(i.document.createTime):on.min(),u=new Sa({mapValue:{fields:i.document.fields}}),h=Vs.newFoundDocument(r,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new Vg(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=ay(n,i.document),a=i.readTime?Cl(i.readTime):on.min(),l=Vs.newNoDocument(r,a),u=i.removedTargetIds||[];t=new Vg([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=ay(n,i.document),a=i.removedTargetIds||[];t=new Vg([],a,r,null)}else{if(!("filter"in e))return Zt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new dP(r,a),u=i.targetId;t=new CE(u,l)}}return t}function TP(n,e){let t;if(e instanceof tm)t={update:V3(n,e.key,e.value)};else if(e instanceof F5)t={delete:wv(n,e.key)};else if(e instanceof Ou)t={update:V3(n,e.key,e.data),updateMask:PP(e.fieldMask)};else{if(!(e instanceof uP))return Zt(16599,{dt:e.type});t={verify:wv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,l){const u=l.transform;if(u instanceof kp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Op)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof h1)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Zt(20930,{transform:l.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:xP(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Zt(27497)})(n,e.precondition)),t}function EP(n,e){return n&&n.length>0?(ei(e!==void 0,14353),n.map((t=>(function(r,a){let l=r.updateTime?Cl(r.updateTime):Cl(a);return l.isEqual(on.min())&&(l=Cl(a)),new oP(l,r.transformResults||[])})(t,e)))):[]}function NP(n,e){return{documents:[DE(n,e.path)]}}function CP(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=DE(n,r);const a=(function(f){if(f.length!==0)return kE($o.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(x){return{field:Sf(x.field),direction:LP(x.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=vv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function RP(n){let e=SP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ei(i===1,65062);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=(function(v){const x=PE(v);return x instanceof $o&&uE(x)?x.getFilters():[x]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((x=>(function(N){return new u1(Af(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(x)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let x;return x=typeof v=="object"?v.value:v,Z1(x)?null:x})(t.limit));let h=null;t.startAt&&(h=(function(v){const x=!!v.before,w=v.values||[];return new c1(w,x)})(t.startAt));let f=null;return t.endAt&&(f=(function(v){const x=!v.before,w=v.values||[];return new c1(w,x)})(t.endAt)),Wj(e,r,l,a,u,"F",h,f)}function IP(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zt(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Af(t.unaryFilter.field);return Ar.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Af(t.unaryFilter.field);return Ar.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Af(t.unaryFilter.field);return Ar.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Af(t.unaryFilter.field);return Ar.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Zt(61313);default:return Zt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ar.create(Af(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Zt(58110);default:return Zt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return $o.create(t.compositeFilter.filters.map((i=>PE(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Zt(1026)}})(t.compositeFilter.op))})(n):Zt(30097,{filter:n})}function LP(n){return vP[n]}function DP(n){return bP[n]}function jP(n){return wP[n]}function Sf(n){return{fieldPath:n.canonicalString()}}function Af(n){return rs.fromServerFormat(n.fieldPath)}function kE(n){return n instanceof Ar?(function(t){if(t.op==="=="){if(T3(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NAN"}};if(A3(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(T3(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NOT_NAN"}};if(A3(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sf(t.field),op:DP(t.op),value:t.value}}})(n):n instanceof $o?(function(t){const i=t.getFilters().map((r=>kE(r)));return i.length===1?i[0]:{compositeFilter:{op:jP(t.op),filters:i}}})(n):Zt(54877,{filter:n})}function PP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ME(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function OE(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class gu{constructor(e,t,i,r,a=on.min(),l=on.min(),u=ss.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kP{constructor(e){this.yt=e}}function MP(n){const e=RP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yv(e,e.limit,"L"):e}class OP{constructor(){this.Sn=new VP}addToCollectionParentIndex(e,t){return this.Sn.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(Eu.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(Eu.min())}updateCollectionGroup(e,t,i){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class VP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ur(xi.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ur(xi.comparator)).toArray()}}const B3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class xa{static withCacheSize(e){return new xa(e,xa.DEFAULT_COLLECTION_PERCENTILE,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}xa.DEFAULT_COLLECTION_PERCENTILE=10,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xa.DEFAULT=new xa(VE,xa.DEFAULT_COLLECTION_PERCENTILE,xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xa.DISABLED=new xa(-1,0,0);class Qf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Qf(0)}static ar(){return new Qf(-1)}}const F3="LruGarbageCollector",BP=1048576;function U3([n,e],[t,i]){const r=Ln(n,t);return r===0?Ln(e,i):r}class FP{constructor(e){this.Pr=e,this.buffer=new Ur(U3),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();U3(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pt(F3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ld(t)?pt(F3,"Ignoring IndexedDB error during garbage collection: ",t):await od(t)}await this.Ar(3e5)}))}}class zP{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return tt.resolve(J1.ce);const i=new FP(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(B3)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B3):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,r,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r)))).next((v=>(i=v,u=Date.now(),this.removeTargets(e,i,t)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(f=Date.now(),_f()<=In.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v}))))}}function qP(n,e){return new zP(n,e)}class HP{constructor(){this.changes=new Rh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?tt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WP{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&bp(i.mutation,r,za.empty(),Si.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Dn()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Dn()){const r=hh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let l=hp();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const i=hh();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Dn())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,i,r){let a=Sc();const l=vp(),u=(function(){return vp()})();return t.forEach(((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof Ou)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),bp(p.mutation,f,p.mutation.getFieldMask(),Si.now())):l.set(f.key,za.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((f,p)=>l.set(f,p))),t.forEach(((f,p)=>u.set(f,new GP(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const i=vp();let r=new Wi(((l,u)=>l-u)),a=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let p=i.get(h)||za.empty();p=u.applyToLocalView(f,p),i.set(h,p);const v=(r.get(u.batchId)||Dn()).add(h);r=r.insert(u.batchId,v)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,v=bE();p.forEach((x=>{if(!a.has(x)){const w=TE(t.get(x),i.get(x));w!==null&&v.set(x,w),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return tt.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return $j(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):tt.resolve(hh());let u=Dp,h=a;return l.next((f=>tt.forEach(f,((p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?tt.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{h=h.insert(p,x)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,h,f,Dn()))).next((p=>({batchId:u,changes:vE(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ot(t)).next((i=>{let r=hp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let l=hp();return this.indexManager.getCollectionParents(e,a).next((u=>tt.forEach(u,(h=>{const f=(function(v,x){return new em(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next((p=>{p.forEach(((v,x)=>{l=l.insert(v,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((l=>{a.forEach(((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Vs.newInvalidDocument(p)))}));let u=hp();return l.forEach(((h,f)=>{const p=a.get(h);p!==void 0&&bp(p.mutation,f,za.empty(),Si.now()),i0(t,f)&&(u=u.insert(h,f))})),u}))}}class $P{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return tt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Cl(r.createTime)}})(t)),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(r){return{name:r.name,query:MP(r.bundledQuery),readTime:Cl(r.readTime)}})(t)),tt.resolve()}}class KP{constructor(){this.overlays=new Wi(Ot.comparator),this.Lr=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=hh();return tt.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.bt(e,t,a)})),tt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),tt.resolve()}getOverlaysForCollection(e,t,i){const r=hh(),a=t.length+1,l=new Ot(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return tt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Wi(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=hh(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=hh(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return tt.resolve(u)}bt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new fP(t,i));let a=this.Lr.get(t);a===void 0&&(a=Dn(),this.Lr.set(t,a)),this.Lr.set(t,a.add(i.key))}}class YP{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tt.resolve()}}class H5{constructor(){this.kr=new Ur(ns.Kr),this.qr=new Ur(ns.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new ns(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new ns(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Ot(new xi([])),i=new ns(t,e),r=new ns(t,e+1),a=[];return this.qr.forEachInRange([i,r],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ot(new xi([])),i=new ns(t,e),r=new ns(t,e+1);let a=Dn();return this.qr.forEachInRange([i,r],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new ns(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ns{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ot.comparator(e.key,t.key)||Ln(e.Hr,t.Hr)}static Ur(e,t){return Ln(e.Hr,t.Hr)||Ot.comparator(e.key,t.key)}}class XP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ur(ns.Kr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new hP(a,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Jr=this.Jr.add(new ns(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return tt.resolve(l)}lookupMutationBatch(e,t){return tt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),a=r<0?0:r;return tt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?P5:this.Yn-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ns(t,0),r=new ns(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,r],(l=>{const u=this.Zr(l.Hr);a.push(u)})),tt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ur(Ln);return t.forEach((r=>{const a=new ns(r,0),l=new ns(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(u=>{i=i.add(u.Hr)}))})),tt.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ot.isDocumentKey(a)||(a=a.child(""));const l=new ns(new Ot(a),0);let u=new Ur(Ln);return this.Jr.forEachWhile((h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Hr)),!0)}),l),tt.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){ei(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return tt.forEach(t.mutations,(r=>{const a=new ns(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new ns(t,0),r=this.Jr.firstAfterOrEqual(i);return tt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QP{constructor(e){this.ti=e,this.docs=(function(){return new Wi(Ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return tt.resolve(i?i.document.mutableCopy():Vs.newInvalidDocument(t))}getEntries(e,t){let i=Sc();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Vs.newInvalidDocument(r))})),tt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Sc();const l=t.path,u=new Ot(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Sj(xj(p),i)<=0||(r.has(p.key)||i0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return tt.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Zt(9500)}ni(e,t){return tt.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new JP(this)}getSize(e){return tt.resolve(this.size)}}class JP extends HP{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)})),tt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class ZP{constructor(e){this.persistence=e,this.ri=new Rh((t=>O5(t)),V5),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.ii=0,this.si=new H5,this.targetCount=0,this.oi=Qf._r()}forEachTarget(e,t){return this.ri.forEach(((i,r)=>t(r))),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),tt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Qf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.lr(t),tt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)})),tt.waitFor(a).next((()=>r))}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return tt.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),tt.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((l=>{a.push(r.markPotentiallyOrphaned(e,l))})),tt.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return tt.resolve(i)}containsKey(e,t){return tt.resolve(this.si.containsKey(t))}}class BE{constructor(e,t){this._i={},this.overlays={},this.ai=new J1(0),this.ui=!1,this.ui=!0,this.ci=new YP,this.referenceDelegate=e(this),this.li=new ZP(this),this.indexManager=new OP,this.remoteDocumentCache=(function(r){return new QP(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new kP(t),this.Pi=new $P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new XP(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){pt("MemoryPersistence","Starting transaction:",e);const r=new ek(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((a=>this.referenceDelegate.Ii(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ei(e,t){return tt.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class ek extends Tj{constructor(e){super(),this.currentSequenceNumber=e}}class G5{constructor(e){this.persistence=e,this.Ri=new H5,this.Ai=null}static Vi(e){return new G5(e)}get di(){if(this.Ai)return this.Ai;throw Zt(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),tt.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,(i=>{const r=Ot.fromPath(i);return this.mi(e,r).next((a=>{a||t.removeEntry(r,on.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return tt.or([()=>tt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class d1{constructor(e,t){this.persistence=e,this.fi=new Rh((i=>Cj(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=qP(this,t)}static Vi(e,t){return new d1(e,t)}Ti(){}Ii(e){return tt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return tt.forEach(this.fi,((i,r)=>this.wr(e,i,r).next((a=>a?tt.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ni(e,(l=>this.wr(e,l,t).next((u=>{u||(i++,a.removeEntry(l,on.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),tt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),tt.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),tt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kg(e.data.value)),t}wr(e,t,i){return tt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.fi.get(t);return tt.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class W5{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=r}static Es(e,t){let i=Dn(),r=Dn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new W5(e,t.fromCache,i,r)}}class tk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return GD()?8:Ej(Us())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,r,i).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new tk;return this.ys(e,t,l).next((u=>{if(a.result=u,this.As)return this.ws(e,t,l,u.size)}))})).next((()=>a.result))}ws(e,t,i,r){return i.documentReadCount<this.Vs?(_f()<=In.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",xf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(_f()<=In.DEBUG&&pt("QueryEngine","Query:",xf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(_f()<=In.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",xf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nl(t))):tt.resolve())}gs(e,t){if(R3(t))return tt.resolve(null);let i=Nl(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=yv(t,null,"F"),i=Nl(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const l=Dn(...a);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,i).next((h=>{const f=this.bs(t,u);return this.Ss(t,f,l,h.readTime)?this.gs(e,yv(t,null,"F")):this.Ds(e,f,t,h)}))))})))))}ps(e,t,i,r){return R3(t)||r.isEqual(on.min())?tt.resolve(null):this.fs.getDocuments(e,i).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,i,r)?tt.resolve(null):(_f()<=In.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xf(t)),this.Ds(e,l,t,_j(r,Dp)).next((u=>u)))}))}bs(e,t){let i=new Ur(gE(e));return t.forEach(((r,a)=>{i0(e,a)&&(i=i.add(a))})),i}Ss(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ys(e,t,i){return _f()<=In.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",xf(t)),this.fs.getDocumentsMatchingQuery(e,t,Eu.min(),i)}Ds(e,t,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const $5="LocalStore",ik=3e8;class rk{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Wi(Ln),this.Fs=new Rh((a=>O5(a)),V5),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function sk(n,e,t,i){return new rk(n,e,t,i)}async function FE(n,e){const t=hn(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const l=[],u=[];let h=Dn();for(const f of r){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(i,h).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function ak(n,e){const t=hn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,p){const v=f.batch,x=v.keys();let w=tt.resolve();return x.forEach((N=>{w=w.next((()=>p.getEntry(h,N))).next((L=>{const I=f.docVersions.get(N);ei(I!==null,48541),L.version.compareTo(I)<0&&(v.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),p.addEntry(L)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let h=Dn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function UE(n){const e=hn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function ok(n,e){const t=hn(n),i=e.snapshotVersion;let r=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});r=t.vs;const u=[];e.targetChanges.forEach(((p,v)=>{const x=r.get(v);if(!x)return;u.push(t.li.removeMatchingKeys(a,p.removedDocuments,v).next((()=>t.li.addMatchingKeys(a,p.addedDocuments,v))));let w=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(ss.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),r=r.insert(v,w),(function(L,I,j){return L.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=ik?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,w,p)&&u.push(t.li.updateTargetData(a,w))}));let h=Sc(),f=Dn();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(lk(a,l,e.documentUpdates).next((p=>{h=p.Bs,f=p.Ls}))),!i.isEqual(on.min())){const p=t.li.getLastRemoteSnapshotVersion(a).next((v=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));u.push(p)}return tt.waitFor(u).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(t.vs=r,a)))}function lk(n,e,t){let i=Dn(),r=Dn();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let l=Sc();return t.forEach(((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(on.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pt($5,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{Bs:l,Ls:r}}))}function ck(n,e){const t=hn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=P5),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function uk(n,e){const t=hn(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.li.getTargetData(i,e).next((a=>a?(r=a,tt.resolve(r)):t.li.allocateTargetId(i).next((l=>(r=new gu(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function xv(n,e,t){const i=hn(n),r=i.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!ld(l))throw l;pt($5,`Failed to update sequence numbers for target ${e}: ${l}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function z3(n,e,t){const i=hn(n);let r=on.min(),a=Dn();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,p){const v=hn(h),x=v.Fs.get(p);return x!==void 0?tt.resolve(v.vs.get(x)):v.li.getTargetData(f,p)})(i,l,Nl(e)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>i.Cs.getDocumentsMatchingQuery(l,e,t?r:on.min(),t?a:Dn()))).next((u=>(hk(i,Yj(e),u),{documents:u,ks:a})))))}function hk(n,e,t){let i=n.Ms.get(e)||on.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Ms.set(e,i)}class q3{constructor(){this.activeTargetIds=tP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fk{constructor(){this.vo=new q3,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new q3,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dk{Mo(e){}shutdown(){}}const H3="ConnectivityMonitor";class G3{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pt(H3,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pt(H3,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yg=null;function Sv(){return yg===null?yg=(function(){return 268435456+Math.round(2147483648*Math.random())})():yg++,"0x"+yg.toString(16)}const oy="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===o1?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,a){const l=Sv(),u=this.Qo(e,t.toUriEncodedString());pt(oy,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,r,a);const{host:f}=new URL(u),p=rd(f);return this.zo(e,u,h,i,p).then((v=>(pt(oy,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Sh(oy,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",i),v}))}jo(e,t,i,r,a,l){return this.Wo(e,t,i,r,a)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ad})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}Qo(e,t){const i=pk[e];let r=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class gk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ds="WebChannelConnection",np=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class Pf extends mk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pf.c_){const e=HT();np(e,qT.STAT_EVENT,(t=>{t.stat===uv.PROXY?pt(Ds,"STAT_EVENT: detected buffering proxy"):t.stat===uv.NOPROXY&&pt(Ds,"STAT_EVENT: detected no buffering proxy")})),Pf.c_=!0}}zo(e,t,i,r,a){const l=Sv();return new Promise(((u,h)=>{const f=new UT;f.setWithCredentials(!0),f.listenOnce(zT.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Pg.NO_ERROR:const v=f.getResponseJson();pt(Ds,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Pg.TIMEOUT:pt(Ds,`RPC '${e}' ${l} timed out`),h(new ut(Je.DEADLINE_EXCEEDED,"Request time out"));break;case Pg.HTTP_ERROR:const x=f.getStatus();if(pt(Ds,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w?.error;if(N&&N.status&&N.message){const L=(function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(X)>=0?X:Je.UNKNOWN})(N.status);h(new ut(L,N.message))}else h(new ut(Je.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ut(Je.UNAVAILABLE,"Connection failed."));break;default:Zt(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pt(Ds,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(r);pt(Ds,`RPC '${e}' ${l} sending request:`,r),f.send(t,"POST",p,i,15)}))}T_(e,t,i){const r=Sv(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;const f=a.join("");pt(Ds,`Creating RPC '${e}' stream ${r}: ${f}`,u);const p=l.createWebChannel(f,u);this.I_(p);let v=!1,x=!1;const w=new gk({Ho:N=>{x?pt(Ds,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(v||(pt(Ds,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),pt(Ds,`RPC '${e}' stream ${r} sending:`,N),p.send(N))},Jo:()=>p.close()});return np(p,up.EventType.OPEN,(()=>{x||(pt(Ds,`RPC '${e}' stream ${r} transport opened.`),w.i_())})),np(p,up.EventType.CLOSE,(()=>{x||(x=!0,pt(Ds,`RPC '${e}' stream ${r} transport closed`),w.o_(),this.E_(p))})),np(p,up.EventType.ERROR,(N=>{x||(x=!0,Sh(Ds,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),w.o_(new ut(Je.UNAVAILABLE,"The operation could not be completed")))})),np(p,up.EventType.MESSAGE,(N=>{if(!x){const L=N.data[0];ei(!!L,16349);const I=L,j=I?.error||I[0]?.error;if(j){pt(Ds,`RPC '${e}' stream ${r} received error:`,j);const X=j.status;let Y=(function(ge){const U=xr[ge];if(U!==void 0)return NE(U)})(X),Z=j.message;Y===void 0&&(Y=Je.INTERNAL,Z="Unknown error status: "+X+" with message "+j.message),x=!0,w.o_(new ut(Y,Z)),p.close()}else pt(Ds,`RPC '${e}' stream ${r} received:`,L),w.__(L)}})),Pf.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GT()}}function yk(n){return new Pf(n)}function ly(){return typeof document<"u"?document:null}function o0(n){return new _P(n,!0)}Pf.c_=!1;class zE{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=r,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const W3="PersistentStream";class qE{constructor(e,t,i,r,a,l,u,h){this.Ci=e,this.b_=i,this.S_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Je.RESOURCE_EXHAUSTED?(xc(t.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new ut(Je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pt(W3,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(pt(W3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vk extends qE{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AP(this.serializer,e),i=(function(a){if(!("targetChange"in a))return on.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?on.min():l.readTime?Cl(l.readTime):on.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=_v(this.serializer),t.addTarget=(function(a,l){let u;const h=l.target;if(u=mv(h)?{documents:NP(a,h)}:{query:CP(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=IE(a,l.resumeToken);const f=vv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(on.min())>0){u.readTime=f1(a,l.snapshotVersion.toTimestamp());const f=vv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const i=IP(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=_v(this.serializer),t.removeTarget=e,this.K_(t)}}class bk extends qE{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ei(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ei(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ei(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=EP(e.writeResults,e.commitTime),i=Cl(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=_v(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>TP(this.serializer,i)))};this.K_(t)}}class wk{}class _k extends wk{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ut(Je.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,bv(t,i),r,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut(Je.UNKNOWN,a.toString())}))}jo(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,bv(t,i),r,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(Je.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function xk(n,e,t,i){return new _k(n,e,t,i)}class Sk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xc(t),this.aa=!1):pt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ah="RemoteStore";class Ak{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{i.enqueueAndForget((async()=>{Ih(this)&&(pt(Ah,"Restarting streams for network reachability change."),await(async function(h){const f=hn(h);f.Ea.add(4),await im(f),f.Va.set("Unknown"),f.Ea.delete(4),await l0(f)})(this))}))})),this.Va=new Sk(i,r)}}async function l0(n){if(Ih(n))for(const e of n.Ra)await e(!0)}async function im(n){for(const e of n.Ra)await e(!1)}function HE(n,e){const t=hn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Q5(t)?X5(t):cd(t).O_()&&Y5(t,e))}function K5(n,e){const t=hn(n),i=cd(t);t.Ia.delete(e),i.O_()&&GE(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ih(t)&&t.Va.set("Unknown"))}function Y5(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(on.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cd(n).Z_(e)}function GE(n,e){n.da.$e(e),cd(n).X_(e)}function X5(n){n.da=new yP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),cd(n).start(),n.Va.ua()}function Q5(n){return Ih(n)&&!cd(n).x_()&&n.Ia.size>0}function Ih(n){return hn(n).Ea.size===0}function WE(n){n.da=void 0}async function Tk(n){n.Va.set("Online")}async function Ek(n){n.Ia.forEach(((e,t)=>{Y5(n,e)}))}async function Nk(n,e){WE(n),Q5(n)?(n.Va.ha(e),X5(n)):n.Va.set("Unknown")}async function Ck(n,e,t){if(n.Va.set("Online"),e instanceof RE&&e.state===2&&e.cause)try{await(async function(r,a){const l=a.cause;for(const u of a.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.da.removeTarget(u))})(n,e)}catch(i){pt(Ah,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await p1(n,i)}else if(e instanceof Vg?n.da.Xe(e):e instanceof CE?n.da.st(e):n.da.tt(e),!t.isEqual(on.min()))try{const i=await UE(n.localStore);t.compareTo(i)>=0&&await(function(a,l){const u=a.da.Tt(l);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,f)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(ss.EMPTY_BYTE_STRING,p.snapshotVersion)),GE(a,h);const v=new gu(p.target,h,f,p.sequenceNumber);Y5(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(i){pt(Ah,"Failed to raise snapshot:",i),await p1(n,i)}}async function p1(n,e,t){if(!ld(e))throw e;n.Ea.add(1),await im(n),n.Va.set("Offline"),t||(t=()=>UE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(Ah,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await l0(n)}))}function $E(n,e){return e().catch((t=>p1(n,t,e)))}async function c0(n){const e=hn(n),t=Iu(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:P5;for(;Rk(e);)try{const r=await ck(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,Ik(e,r)}catch(r){await p1(e,r)}KE(e)&&YE(e)}function Rk(n){return Ih(n)&&n.Ta.length<10}function Ik(n,e){n.Ta.push(e);const t=Iu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function KE(n){return Ih(n)&&!Iu(n).x_()&&n.Ta.length>0}function YE(n){Iu(n).start()}async function Lk(n){Iu(n).ra()}async function Dk(n){const e=Iu(n);for(const t of n.Ta)e.ea(t.mutations)}async function jk(n,e,t){const i=n.Ta.shift(),r=U5.from(i,e,t);await $E(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await c0(n)}async function Pk(n,e){e&&Iu(n).Y_&&await(async function(i,r){if((function(l){return pP(l)&&l!==Je.ABORTED})(r.code)){const a=i.Ta.shift();Iu(i).B_(),await $E(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await c0(i)}})(n,e),KE(n)&&YE(n)}async function $3(n,e){const t=hn(n);t.asyncQueue.verifyOperationInProgress(),pt(Ah,"RemoteStore received new credentials");const i=Ih(t);t.Ea.add(3),await im(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await l0(t)}async function kk(n,e){const t=hn(n);e?(t.Ea.delete(2),await l0(t)):e||(t.Ea.add(2),await im(t),t.Va.set("Unknown"))}function cd(n){return n.ma||(n.ma=(function(t,i,r){const a=hn(t);return a.sa(),new vk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:Tk.bind(null,n),Yo:Ek.bind(null,n),t_:Nk.bind(null,n),J_:Ck.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Q5(n)?X5(n):n.Va.set("Unknown")):(await n.ma.stop(),WE(n))}))),n.ma}function Iu(n){return n.fa||(n.fa=(function(t,i,r){const a=hn(t);return a.sa(),new bk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Lk.bind(null,n),t_:Pk.bind(null,n),ta:Dk.bind(null,n),na:jk.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await c0(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(Ah,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class J5{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,u=new J5(e,t,l,r,a);return u.start(i),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z5(n,e){if(xc("AsyncQueue",`${e}: ${n}`),ld(n))return new ut(Je.UNAVAILABLE,`${e}: ${n}`);throw n}class kf{static emptySet(e){return new kf(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ot.comparator(t.key,i.key):(t,i)=>Ot.comparator(t.key,i.key),this.keyedMap=hp(),this.sortedSet=new Wi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new kf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class K3{constructor(){this.ga=new Wi(Ot.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Zt(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Jf{constructor(e,t,i,r,a,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Jf(e,t,kf.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Mk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Ok{constructor(){this.queries=Y3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=hn(t),a=r.queries;r.queries=Y3(),a.forEach(((l,u)=>{for(const h of u.ba)h.onError(i)}))})(this,new ut(Je.ABORTED,"Firestore shutting down"))}}function Y3(){return new Rh((n=>mE(n)),n0)}async function XE(n,e){const t=hn(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.Sa()&&e.Da()&&(i=2):(a=new Mk,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const u=Z5(l,`Initialization of query '${xf(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&eb(t)}async function QE(n,e){const t=hn(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?r=e.Da()?0:1:!a.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Vk(n,e){const t=hn(n);let i=!1;for(const r of e){const a=r.query,l=t.queries.get(a);if(l){for(const u of l.ba)u.Fa(r)&&(i=!0);l.wa=r}}i&&eb(t)}function Bk(n,e,t){const i=hn(n),r=i.queries.get(e);if(r)for(const a of r.ba)a.onError(t);i.queries.delete(e)}function eb(n){n.Ca.forEach((e=>{e.next()}))}var Av,X3;(X3=Av||(Av={})).Ma="default",X3.Cache="cache";class JE{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Jf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Av.Cache}}class ZE{constructor(e){this.key=e}}class eN{constructor(e){this.key=e}}class Fk{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dn(),this.mutatedKeys=Dn(),this.eu=gE(e),this.tu=new kf(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new K3,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((p,v)=>{const x=r.get(p),w=i0(this.query,v)?v:null,N=!!x&&this.mutatedKeys.has(x.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;x&&w?x.data.isEqual(w.data)?N!==L&&(i.track({type:3,doc:w}),I=!0):this.su(x,w)||(i.track({type:2,doc:w}),I=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(u=!0)):!x&&w?(i.track({type:0,doc:w}),I=!0):x&&!w&&(i.track({type:1,doc:x}),I=!0,(h||f)&&(u=!0)),I&&(w?(l=l.add(w),a=L?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Ss:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,v)=>(function(w,N){const L=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt(20277,{Vt:I})}};return L(w)-L(N)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(i),r=r??!1;const u=t&&!r?this._u():[],h=this.Ya.size===0&&this.current&&!r?1:0,f=h!==this.Xa;return this.Xa=h,l.length!==0||f?{snapshot:new Jf(this.query,e.tu,a,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K3,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Dn(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new eN(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new ZE(i))})),t}cu(e){this.Za=e.ks,this.Ya=Dn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tb="SyncEngine";class Uk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zk{constructor(e){this.key=e,this.hu=!1}}class qk{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Rh((u=>mE(u)),n0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Wi(Ot.comparator),this.Au=new Map,this.Vu=new H5,this.du={},this.mu=new Map,this.fu=Qf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Hk(n,e,t=!0){const i=aN(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await tN(i,e,t,!0),r}async function Gk(n,e){const t=aN(n);await tN(t,e,!0,!1)}async function tN(n,e,t,i){const r=await uk(n.localStore,Nl(e)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return i&&(u=await Wk(n,e,a,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&HE(n.remoteStore,r),u}async function Wk(n,e,t,i,r){n.pu=(v,x,w)=>(async function(L,I,j,X){let Y=I.view.ru(j);Y.Ss&&(Y=await z3(L.localStore,I.query,!1).then((({documents:U})=>I.view.ru(U,Y))));const Z=X&&X.targetChanges.get(I.targetId),ae=X&&X.targetMismatches.get(I.targetId)!=null,ge=I.view.applyChanges(Y,L.isPrimaryClient,Z,ae);return J3(L,I.targetId,ge.au),ge.snapshot})(n,v,x,w);const a=await z3(n.localStore,e,!0),l=new Fk(e,a.ks),u=l.ru(a.documents),h=nm.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);J3(n,t,f.au);const p=new Uk(e,t,l);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function $k(n,e,t){const i=hn(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((l=>!n0(l,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await xv(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&K5(i.remoteStore,r.targetId),Tv(i,r.targetId)})).catch(od)):(Tv(i,r.targetId),await xv(i.localStore,r.targetId,!0))}async function Kk(n,e){const t=hn(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),K5(t.remoteStore,i.targetId))}async function Yk(n,e,t){const i=nM(n);try{const r=await(function(l,u){const h=hn(l),f=Si.now(),p=u.reduce(((w,N)=>w.add(N.key)),Dn());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=Sc(),L=Dn();return h.xs.getEntries(w,p).next((I=>{N=I,N.forEach(((j,X)=>{X.isValidDocument()||(L=L.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,N))).next((I=>{v=I;const j=[];for(const X of u){const Y=cP(X,v.get(X.key).overlayedDocument);Y!=null&&j.push(new Ou(X.key,Y,oE(Y.value.mapValue),fo.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,j,u)})).next((I=>{x=I;const j=I.applyToLocalDocumentSet(v,L);return h.documentOverlayCache.saveOverlays(w,I.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:vE(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,h){let f=l.du[l.currentUser.toKey()];f||(f=new Wi(Ln)),f=f.insert(u,h),l.du[l.currentUser.toKey()]=f})(i,r.batchId,t),await rm(i,r.changes),await c0(i.remoteStore)}catch(r){const a=Z5(r,"Failed to persist write");t.reject(a)}}async function nN(n,e){const t=hn(n);try{const i=await ok(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const l=t.Au.get(a);l&&(ei(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?ei(l.hu,14607):r.removedDocuments.size>0&&(ei(l.hu,42227),l.hu=!1))})),await rm(t,i,e)}catch(i){await od(i)}}function Q3(n,e,t){const i=hn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const h=hn(l);h.onlineState=u;let f=!1;h.queries.forEach(((p,v)=>{for(const x of v.ba)x.va(u)&&(f=!0)})),f&&eb(h)})(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Xk(n,e,t){const i=hn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let l=new Wi(Ot.comparator);l=l.insert(a,Vs.newNoDocument(a,on.min()));const u=Dn().add(a),h=new a0(on.min(),new Map,new Wi(Ln),l,u);await nN(i,h),i.Ru=i.Ru.remove(a),i.Au.delete(e),nb(i)}else await xv(i.localStore,e,!1).then((()=>Tv(i,e,t))).catch(od)}async function Qk(n,e){const t=hn(n),i=e.batch.batchId;try{const r=await ak(t.localStore,e);rN(t,i,null),iN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await rm(t,r)}catch(r){await od(r)}}async function Jk(n,e,t){const i=hn(n);try{const r=await(function(l,u){const h=hn(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next((v=>(ei(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(i.localStore,e);rN(i,e,t),iN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await rm(i,r)}catch(r){await od(r)}}function iN(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function rN(n,e,t){const i=hn(n);let r=i.du[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function Tv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||sN(n,i)}))}function sN(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(K5(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),nb(n))}function J3(n,e,t){for(const i of t)i instanceof ZE?(n.Vu.addReference(i.key,e),Zk(n,i)):i instanceof eN?(pt(tb,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||sN(n,i.key)):Zt(19791,{wu:i})}function Zk(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(pt(tb,"New document in limbo: "+t),n.Eu.add(i),nb(n))}function nb(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ot(xi.fromString(e)),i=n.fu.next();n.Au.set(i,new zk(t)),n.Ru=n.Ru.insert(t,i),HE(n.remoteStore,new gu(Nl(t0(t.path)),i,"TargetPurposeLimboResolution",J1.ce))}}async function rm(n,e,t){const i=hn(n),r=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,h)=>{l.push(i.pu(h,e,t).then((f=>{if((f||t)&&i.isPrimaryClient){const p=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(f){r.push(f);const p=W5.Es(h.targetId,f);a.push(p)}})))})),await Promise.all(l),i.Pu.J_(r),await(async function(h,f){const p=hn(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>tt.forEach(f,(x=>tt.forEach(x.Ts,(w=>p.persistence.referenceDelegate.addReference(v,x.targetId,w))).next((()=>tt.forEach(x.Is,(w=>p.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))))))}catch(v){if(!ld(v))throw v;pt($5,"Failed to update sequence numbers: "+v)}for(const v of f){const x=v.targetId;if(!v.fromCache){const w=p.vs.get(x),N=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(N);p.vs=p.vs.insert(x,L)}}})(i.localStore,a))}async function eM(n,e){const t=hn(n);if(!t.currentUser.isEqual(e)){pt(tb,"User change. New user:",e.toKey());const i=await FE(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new ut(Je.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rm(t,i.Ns)}}function tM(n,e){const t=hn(n),i=t.Au.get(e);if(i&&i.hu)return Dn().add(i.key);{let r=Dn();const a=t.Iu.get(e);if(!a)return r;for(const l of a){const u=t.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function aN(n){const e=hn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xk.bind(null,e),e.Pu.J_=Vk.bind(null,e.eventManager),e.Pu.yu=Bk.bind(null,e.eventManager),e}function nM(n){const e=hn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,e),e}class m1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=o0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sk(this.persistence,new nk,e.initialUser,this.serializer)}Cu(e){return new BE(G5.Vi,this.serializer)}Du(e){return new fk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}m1.provider={build:()=>new m1};class iM extends m1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ei(this.persistence.referenceDelegate instanceof d1,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xa.withCacheSize(this.cacheSizeBytes):xa.DEFAULT;return new BE((i=>d1.Vi(i,t)),this.serializer)}}class Ev{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Q3(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eM.bind(null,this.syncEngine),await kk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ok})()}createDatastore(e){const t=o0(e.databaseInfo.databaseId),i=yk(e.databaseInfo);return xk(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,l,u){return new Ak(i,r,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>Q3(this.syncEngine,t,0)),(function(){return G3.v()?new G3:new dk})())}createSyncEngine(e,t){return(function(r,a,l,u,h,f,p){const v=new qk(r,a,l,u,h,f);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=hn(t);pt(Ah,"RemoteStore shutting down."),i.Ea.add(5),await im(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ev.provider={build:()=>new Ev};class oN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Lu="FirestoreClient";class rM{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=r,this.user=Os.UNAUTHENTICATED,this.clientId=X1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async l=>{pt(Lu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(pt(Lu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Z5(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function cy(n,e){n.asyncQueue.verifyOperationInProgress(),pt(Lu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await FE(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Z3(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sM(n);pt(Lu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>$3(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>$3(e.remoteStore,r))),n._onlineComponents=e}async function sM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(Lu,"Using user provided OfflineComponentProvider");try{await cy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Je.FAILED_PRECONDITION||r.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Sh("Error using user provided cache. Falling back to memory cache: "+t),await cy(n,new m1)}}else pt(Lu,"Using default OfflineComponentProvider"),await cy(n,new iM(void 0));return n._offlineComponents}async function lN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(Lu,"Using user provided OnlineComponentProvider"),await Z3(n,n._uninitializedComponentsProvider._online)):(pt(Lu,"Using default OnlineComponentProvider"),await Z3(n,new Ev))),n._onlineComponents}function aM(n){return lN(n).then((e=>e.syncEngine))}async function Nv(n){const e=await lN(n),t=e.eventManager;return t.onListen=Hk.bind(null,e.syncEngine),t.onUnlisten=$k.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Gk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Kk.bind(null,e.syncEngine),t}function oM(n,e,t,i){const r=new oN(i),a=new JE(e,r,t);return n.asyncQueue.enqueueAndForget((async()=>XE(await Nv(n),a))),()=>{r.Nu(),n.asyncQueue.enqueueAndForget((async()=>QE(await Nv(n),a)))}}function lM(n,e,t={}){const i=new Su;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,f){const p=new oN({next:x=>{p.Nu(),l.enqueueAndForget((()=>QE(a,v)));const w=x.docs.has(u);!w&&x.fromCache?f.reject(new ut(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&h&&h.source==="server"?f.reject(new ut(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new JE(t0(u.path),p,{includeMetadataChanges:!0,Ka:!0});return XE(a,v)})(await Nv(n),n.asyncQueue,e,t,i))),i.promise}function cM(n,e){const t=new Su;return n.asyncQueue.enqueueAndForget((async()=>Yk(await aM(n),e,t))),t.promise}function cN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const uM="ComponentProvider",ex=new Map;function hM(n,e,t,i,r){return new Lj(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,cN(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const uN="firestore.googleapis.com",tx=!0;class nx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uN,this.ssl=tx}else this.host=e.host,this.ssl=e.ssl??tx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BP)throw new ut(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new KT;switch(i.type){case"firstParty":return new mj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=ex.get(t);i&&(pt(uM,"Removing Datastore"),ex.delete(t),i.terminate())})(this),Promise.resolve()}}function hN(n,e,t,i={}){n=Ha(n,u0);const r=rd(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;r&&(DT(`https://${u}`),jT("Firestore",!0)),a.host!==uN&&a.host!==u&&Sh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:r,emulatorOptions:i};if(!wh(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Os.MOCK_USER;else{f=MD(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ut(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Os(v)}n._authCredentials=new fj(new $T(f,p))}}class Lh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class Gi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}toJSON(){return{type:Gi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Zp(t,Gi._jsonSchema))return new Gi(e,i||null,new Ot(xi.fromString(t.referencePath)))}}Gi._jsonSchemaVersion="firestore/documentReference/1.0",Gi._jsonSchema={type:Tr("string",Gi._jsonSchemaVersion),referencePath:Tr("string")};class yc extends Lh{constructor(e,t,i){super(e,t,t0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Ot(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function ws(n,e,...t){if(n=zr(n),YT("collection","path",e),n instanceof u0){const i=xi.fromString(e,...t);return m3(i),new yc(n,null,i)}{if(!(n instanceof Gi||n instanceof yc))throw new ut(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xi.fromString(e,...t));return m3(i),new yc(n.firestore,null,i)}}function gi(n,e,...t){if(n=zr(n),arguments.length===1&&(e=X1.newId()),YT("doc","path",e),n instanceof u0){const i=xi.fromString(e,...t);return p3(i),new Gi(n,null,new Ot(i))}{if(!(n instanceof Gi||n instanceof yc))throw new ut(Je.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xi.fromString(e,...t));return p3(i),new Gi(n.firestore,n instanceof yc?n.converter:null,new Ot(i))}}const ix="AsyncQueue";class rx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zE(this,"async_queue_retry"),this._c=()=>{const i=ly();i&&pt(ix,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=ly();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ly();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Su;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ld(e))throw e;pt(ix,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,xc("INTERNAL UNHANDLED ERROR: ",sx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=J5.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Zt(47125,{Pc:sx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ac extends u0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new rx,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rx(e),this._firestoreClient=void 0,await e}}}function fN(n,e){const t=typeof n=="object"?n:OT(),i=typeof n=="string"?n:o1,r=D5(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=PD("firestore");a&&hN(r,...a)}return r}function h0(n){if(n._terminated)throw new ut(Je.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fM(n),n._firestoreClient}function fM(n){const e=n._freezeSettings(),t=hM(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new rM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}})(n._componentsProvider))}class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(ss.fromBase64String(e))}catch(t){throw new ut(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ua(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ua._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zp(e,Ua._jsonSchema))return Ua.fromBase64String(e.bytes)}}Ua._jsonSchemaVersion="firestore/bytes/1.0",Ua._jsonSchema={type:Tr("string",Ua._jsonSchemaVersion),bytes:Tr("string")};class f0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ut(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sm{constructor(e){this._methodName=e}}class Go{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Go._jsonSchemaVersion}}static fromJSON(e){if(Zp(e,Go._jsonSchema))return new Go(e.latitude,e.longitude)}}Go._jsonSchemaVersion="firestore/geoPoint/1.0",Go._jsonSchema={type:Tr("string",Go._jsonSchemaVersion),latitude:Tr("number"),longitude:Tr("number")};class po{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:po._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zp(e,po._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new po(e.vectorValues);throw new ut(Je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}po._jsonSchemaVersion="firestore/vectorValue/1.0",po._jsonSchema={type:Tr("string",po._jsonSchemaVersion),vectorValues:Tr("object")};const dM=/^__.*__$/;class pM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new tm(e,this.data,t,this.fieldTransforms)}}class dN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ou(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt(40011,{dataSource:n})}}class ib{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ib({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return g1(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pN(this.dataSource)&&dM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class mM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||o0(e)}createContext(e,t,i,r=!1){return new ib({dataSource:e,methodName:t,targetDoc:i,path:rs.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d0(n){const e=n._freezeSettings(),t=o0(n._databaseId);return new mM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mN(n,e,t,i,r,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,r);sb("Data must be an object, but it was:",l,i);const u=gN(i,l);let h,f;if(a.merge)h=new za(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const x=Zf(e,v,t);if(!l.contains(x))throw new ut(Je.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);bN(p,x)||p.push(x)}h=new za(p),f=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,f=l.fieldTransforms;return new pM(new Sa(u),h,f)}class p0 extends sm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p0}}class rb extends sm{_toFieldTransform(e){return new sP(e.path,new kp)}isEqual(e){return e instanceof rb}}function gM(n,e,t,i){const r=n.createContext(1,e,t);sb("Data must be an object, but it was:",r,i);const a=[],l=Sa.empty();Mu(i,((h,f)=>{const p=vN(e,h,t);f=zr(f);const v=r.childContextForFieldPath(p);if(f instanceof p0)a.push(p);else{const x=am(f,v);x!=null&&(a.push(p),l.set(p,x))}}));const u=new za(a);return new dN(l,u,r.fieldTransforms)}function yM(n,e,t,i,r,a){const l=n.createContext(1,e,t),u=[Zf(e,i,t)],h=[r];if(a.length%2!=0)throw new ut(Je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(Zf(e,a[x])),h.push(a[x+1]);const f=[],p=Sa.empty();for(let x=u.length-1;x>=0;--x)if(!bN(f,u[x])){const w=u[x];let N=h[x];N=zr(N);const L=l.childContextForFieldPath(w);if(N instanceof p0)f.push(w);else{const I=am(N,L);I!=null&&(f.push(w),p.set(w,I))}}const v=new za(f);return new dN(p,v,l.fieldTransforms)}function vM(n,e,t,i=!1){return am(t,n.createContext(i?4:3,e))}function am(n,e){if(yN(n=zr(n)))return sb("Unsupported field value:",e,n),gN(n,e);if(n instanceof sm)return(function(i,r){if(!pN(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,r){const a=[];let l=0;for(const u of i){let h=am(u,r.childContextForArray(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=zr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Si.fromDate(i);return{timestampValue:f1(r.serializer,a)}}if(i instanceof Si){const a=new Si(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:f1(r.serializer,a)}}if(i instanceof Go)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ua)return{bytesValue:IE(r.serializer,i._byteString)};if(i instanceof Gi){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:q5(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof po)return(function(l,u){const h=l instanceof po?l.toArray():l;return{mapValue:{fields:{[sE]:{stringValue:aE},[l1]:{arrayValue:{values:h.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return B5(u.serializer,p)}))}}}}}})(i,r);if(OE(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Q1(i)}`)})(n,e)}function gN(n,e){const t={};return ZT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mu(n,((i,r)=>{const a=am(r,e.childContextForField(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function yN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Si||n instanceof Go||n instanceof Ua||n instanceof Gi||n instanceof sm||n instanceof po||OE(n))}function sb(n,e,t){if(!yN(t)||!QT(t)){const i=Q1(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Zf(n,e,t){if((e=zr(e))instanceof f0)return e._internalPath;if(typeof e=="string")return vN(n,e);throw g1("Field path arguments must be of type string or ",n,!1,void 0,t)}const bM=new RegExp("[~\\*/\\[\\]]");function vN(n,e,t){if(e.search(bM)>=0)throw g1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new f0(...e.split("."))._internalPath}catch{throw g1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function g1(n,e,t,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new ut(Je.INVALID_ARGUMENT,u+n+h)}function bN(n,e){return n.some((t=>t.isEqual(e)))}class wN{convertValue(e,t="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Zt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Mu(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){const t=e.fields?.[l1].arrayValue?.values?.map((i=>ur(i.doubleValue)));return new po(t)}convertGeoPoint(e){return new Go(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=e0(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jp(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xi.fromString(e);ei(ME(i),9688,{name:e});const r=new Kf(i.get(1),i.get(3)),a=new Ot(i.popFirst(5));return r.isEqual(t)||xc(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class _N extends wN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function wl(){return new rb("serverTimestamp")}const ax="@firebase/firestore",ox="4.10.0";function lx(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}class xN{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Zf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wM extends xN{data(){return super.data()}}function _M(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ab{}class SN extends ab{}function _l(n,e,...t){let i=[];e instanceof ab&&i.push(e),i=i.concat(t),(function(a){const l=a.filter((h=>h instanceof m0)).length,u=a.filter((h=>h instanceof om)).length;if(l>1||l>0&&u>0)throw new ut(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class om extends SN{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new om(e,t,i)}_apply(e){const t=this._parse(e);return AN(e._query,t),new Lh(e.firestore,e.converter,gv(e._query,t))}_parse(e){const t=d0(e.firestore);return(function(a,l,u,h,f,p,v){let x;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ut(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ux(v,p);const N=[];for(const L of v)N.push(cx(h,a,L));x={arrayValue:{values:N}}}else x=cx(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ux(v,p),x=vM(u,l,v,p==="in"||p==="not-in");return Ar.create(f,p,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xl(n,e,t){const i=e,r=Zf("where",n);return om._create(r,i,t)}class m0 extends ab{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new m0(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:$o.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)AN(l,h),l=gv(l,h)})(e._query,t),new Lh(e.firestore,e.converter,gv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cx(n,e,t){if(typeof(t=zr(t))=="string"){if(t==="")throw new ut(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&t.indexOf("/")!==-1)throw new ut(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xi.fromString(t));if(!Ot.isDocumentKey(i))throw new ut(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return S3(n,new Ot(i))}if(t instanceof Gi)return S3(n,t._key);throw new ut(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q1(t)}.`)}function ux(n,e){if(!Array.isArray(n)||n.length===0)throw new ut(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AN(n,e){const t=(function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ut(Je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(Je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function TN(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends xN{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Au._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Au._jsonSchemaVersion="firestore/documentSnapshot/1.0",Au._jsonSchema={type:Tr("string",Au._jsonSchemaVersion),bundleSource:Tr("string","DocumentSnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class wp extends Au{data(e={}){return super.data(e)}}class mh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new wp(this._firestore,this._userDataWriter,i.key,i,new Cf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const h=new wp(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Cf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new wp(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Cf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:xM(u.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt(61501,{type:n})}}mh._jsonSchemaVersion="firestore/querySnapshot/1.0",mh._jsonSchema={type:Tr("string",mh._jsonSchemaVersion),bundleSource:Tr("string","QuerySnapshot"),bundleName:Tr("string"),bundle:Tr("string")};function SM(n){n=Ha(n,Gi);const e=Ha(n.firestore,Ac),t=h0(e);return lM(t,n._key).then((i=>EN(e,n,i)))}function Bg(n,e,t){n=Ha(n,Gi);const i=Ha(n.firestore,Ac),r=TN(n.converter,e),a=d0(i);return lm(i,[mN(a,"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,fo.none())])}function Js(n,e,t,...i){n=Ha(n,Gi);const r=Ha(n.firestore,Ac),a=d0(r);let l;return l=typeof(e=zr(e))=="string"||e instanceof f0?yM(a,"updateDoc",n._key,e,t,i):gM(a,"updateDoc",n._key,e),lm(r,[l.toMutation(n._key,fo.exists(!0))])}function Uo(n){return lm(Ha(n.firestore,Ac),[new F5(n._key,fo.none())])}function lu(n,e){const t=Ha(n.firestore,Ac),i=gi(n),r=TN(n.converter,e),a=d0(n.firestore);return lm(t,[mN(a,"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,fo.exists(!1))]).then((()=>i))}function Sl(n,...e){n=zr(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||lx(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(lx(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let a,l,u;if(n instanceof Gi)l=Ha(n.firestore,Ac),u=t0(n._key.path),a={next:f=>{e[i]&&e[i](EN(l,n,f))},error:e[i+1],complete:e[i+2]};else{const f=Ha(n,Lh);l=Ha(f.firestore,Ac),u=f._query;const p=new _N(l);a={next:v=>{e[i]&&e[i](new mh(l,p,f,v))},error:e[i+1],complete:e[i+2]},_M(n._query)}const h=h0(l);return oM(h,u,r,a)}function lm(n,e){const t=h0(n);return cM(t,e)}function EN(n,e,t){const i=t.docs.get(e._key),r=new _N(n);return new Au(n,r,e._key,i,new Cf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){hj(sd),Wf(new _h("firestore",((i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new Ac(new dj(i.getProvider("auth-internal")),new gj(l,i.getProvider("app-check-internal")),Dj(l,r),l);return a={useFetchStreams:t,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),_u(ax,ox,e),_u(ax,ox,"esm2020")})();const AM=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:wN,Bytes:Ua,CollectionReference:yc,DocumentReference:Gi,DocumentSnapshot:Au,FieldPath:f0,FieldValue:sm,Firestore:Ac,FirestoreError:ut,GeoPoint:Go,Query:Lh,QueryCompositeFilterConstraint:m0,QueryConstraint:SN,QueryDocumentSnapshot:wp,QueryFieldFilterConstraint:om,QuerySnapshot:mh,SnapshotMetadata:Cf,Timestamp:Si,VectorValue:po,_AutoId:X1,_ByteString:ss,_DatabaseId:Kf,_DocumentKey:Ot,_EmptyAuthCredentialsProvider:KT,_FieldPath:rs,_cast:Ha,_logWarn:Sh,_validateIsNotUsedTogether:XT,addDoc:lu,collection:ws,connectFirestoreEmulator:hN,deleteDoc:Uo,doc:gi,ensureFirestoreConfigured:h0,executeWrite:lm,getDoc:SM,getFirestore:fN,onSnapshot:Sl,query:_l,serverTimestamp:wl,setDoc:Bg,updateDoc:Js,where:xl},Symbol.toStringTag,{value:"Module"}));function NN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TM=NN,CN=new Qp("auth","Firebase",NN());const y1=new I5("@firebase/auth");function EM(n,...e){y1.logLevel<=In.WARN&&y1.warn(`Auth (${sd}): ${n}`,...e)}function Fg(n,...e){y1.logLevel<=In.ERROR&&y1.error(`Auth (${sd}): ${n}`,...e)}function go(n,...e){throw lb(n,...e)}function Wo(n,...e){return lb(n,...e)}function ob(n,e,t){const i={...TM(),[e]:t};return new Qp("auth","Firebase",i).create(e,{appName:n.name})}function vc(n){return ob(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NM(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&go(n,"argument-error"),ob(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lb(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return CN.create(n,...e)}function Jt(n,e,...t){if(!n)throw lb(e,...t)}function fc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fg(e),new Error(e)}function Tc(n,e){n||fc(e)}function Cv(){return typeof self<"u"&&self.location?.href||""}function CM(){return hx()==="http:"||hx()==="https:"}function hx(){return typeof self<"u"&&self.location?.protocol||null}function RM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CM()||zD()||"connection"in navigator)?navigator.onLine:!0}function IM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class cm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tc(t>e,"Short delay should be less than long delay!"),this.isMobile=BD()||qD()}get(){return RM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cb(n,e){Tc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class RN{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jM=new cm(3e4,6e4);function Vu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Bu(n,e,t,i,r={}){return IN(n,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Jp({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...a};return UD()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&rd(n.emulatorConfig.host)&&(f.credentials="include"),RN.fetch()(await LN(n,n.config.apiHost,t,u),f)})}async function IN(n,e,t){n._canInitEmulator=!1;const i={...LM,...e};try{const r=new kM(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw vg(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw vg(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw vg(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw vg(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ob(n,p,f);go(n,p)}}catch(r){if(r instanceof Rc)throw r;go(n,"network-request-failed",{message:String(r)})}}async function um(n,e,t,i,r={}){const a=await Bu(n,e,t,i,r);return"mfaPendingCredential"in a&&go(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function LN(n,e,t,i){const r=`${e}${t}?${i}`,a=n,l=a.config.emulator?cb(n.config,r):`${n.config.apiScheme}://${r}`;return DM.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function PM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wo(this.auth,"network-request-failed")),jM.get())})}}function vg(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Wo(n,e,i);return r.customData._tokenResponse=t,r}function fx(n){return n!==void 0&&n.enterprise!==void 0}class MM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OM(n,e){return Bu(n,"GET","/v2/recaptchaConfig",Vu(n,e))}async function VM(n,e){return Bu(n,"POST","/v1/accounts:delete",e)}async function v1(n,e){return Bu(n,"POST","/v1/accounts:lookup",e)}function _p(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BM(n,e=!1){const t=zr(n),i=await t.getIdToken(e),r=ub(i);Jt(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a?.sign_in_provider;return{claims:r,token:i,authTime:_p(uy(r.auth_time)),issuedAtTime:_p(uy(r.iat)),expirationTime:_p(uy(r.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function uy(n){return Number(n)*1e3}function ub(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Fg("JWT malformed, contained fewer than 3 sections"),null;try{const r=CT(t);return r?JSON.parse(r):(Fg("Failed to decode base64 JWT payload"),null)}catch(r){return Fg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function dx(n){const e=ub(n);return Jt(e,"internal-error"),Jt(typeof e.exp<"u","internal-error"),Jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vp(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Rc&&FM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function FM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class UM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_p(this.lastLoginAt),this.creationTime=_p(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function b1(n){const e=n.auth,t=await n.getIdToken(),i=await Vp(n,v1(e,{idToken:t}));Jt(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=r.providerUserInfo?.length?DN(r.providerUserInfo):[],l=qM(n.providerData,a),u=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!l?.length,f=u?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Rv(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function zM(n){const e=zr(n);await b1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qM(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function DN(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function HM(n,e){const t=await IN(n,{},async()=>{const i=Jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=await LN(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&rd(n.emulatorConfig.host)&&(h.credentials="include"),RN.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GM(n,e){return Bu(n,"POST","/v2/accounts:revokeToken",Vu(n,e))}class Mf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jt(e.idToken,"internal-error"),Jt(typeof e.idToken<"u","internal-error"),Jt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Jt(e.length!==0,"internal-error");const t=dx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await HM(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,l=new Mf;return i&&(Jt(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Jt(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(Jt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mf,this.toJSON())}_performRefresh(){return fc("not implemented")}}function su(n,e){Jt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ho{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new UM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Rv(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Vp(this,this.stsTokenManager.getToken(this.auth,e));return Jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BM(this,e)}reload(){return zM(this)}_assign(e){this!==e&&(Jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ho({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await b1(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fa(this.auth.app))return Promise.reject(vc(this.auth));const e=await this.getIdToken();return await Vp(this,VM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:N,stsTokenManager:L}=t;Jt(v&&L,e,"internal-error");const I=Mf.fromJSON(this.name,L);Jt(typeof v=="string",e,"internal-error"),su(i,e.name),su(r,e.name),Jt(typeof x=="boolean",e,"internal-error"),Jt(typeof w=="boolean",e,"internal-error"),su(a,e.name),su(l,e.name),su(u,e.name),su(h,e.name),su(f,e.name),su(p,e.name);const j=new Ho({uid:v,auth:e,email:r,emailVerified:x,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:I,createdAt:f,lastLoginAt:p});return N&&Array.isArray(N)&&(j.providerData=N.map(X=>({...X}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(e,t,i=!1){const r=new Mf;r.updateFromServerResponse(t);const a=new Ho({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await b1(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Jt(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?DN(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!a?.length,u=new Mf;u.updateFromIdToken(i);const h=new Ho({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Rv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(h,f),h}}const px=new Map;function dc(n){Tc(n instanceof Function,"Expected a class definition");let e=px.get(n);return e?(Tc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,px.set(n,e),e)}class jN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jN.type="NONE";const mx=jN;function Ug(n,e,t){return`firebase:${n}:${e}:${t}`}class Of{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Ug(this.userKey,r.apiKey,a),this.fullPersistenceKey=Ug("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await v1(this.auth,{idToken:e}).catch(()=>{});return t?Ho._fromGetAccountInfoResponse(this.auth,t,e):null}return Ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Of(dc(mx),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||dc(mx);const l=Ug(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){let v;if(typeof p=="string"){const x=await v1(e,{idToken:p}).catch(()=>{});if(!x)break;v=await Ho._fromGetAccountInfoResponse(e,x,p)}else v=Ho._fromJSON(e,p);f!==a&&(u=v),a=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Of(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Of(a,e,i))}}function gx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ON(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BN(e))return"Blackberry";if(FN(e))return"Webos";if(kN(e))return"Safari";if((e.includes("chrome/")||MN(e))&&!e.includes("edge/"))return"Chrome";if(VN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function PN(n=Us()){return/firefox\//i.test(n)}function kN(n=Us()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MN(n=Us()){return/crios\//i.test(n)}function ON(n=Us()){return/iemobile/i.test(n)}function VN(n=Us()){return/android/i.test(n)}function BN(n=Us()){return/blackberry/i.test(n)}function FN(n=Us()){return/webos/i.test(n)}function hb(n=Us()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WM(n=Us()){return hb(n)&&!!window.navigator?.standalone}function $M(){return HD()&&document.documentMode===10}function UN(n=Us()){return hb(n)||VN(n)||FN(n)||BN(n)||/windows phone/i.test(n)||ON(n)}function zN(n,e=[]){let t;switch(n){case"Browser":t=gx(Us());break;case"Worker":t=`${gx(Us())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sd}/${i}`}class KM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function YM(n,e={}){return Bu(n,"GET","/v2/passwordPolicy",Vu(n,e))}const XM=6;class QM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class JM{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yx(this),this.idTokenSubscription=new yx(this),this.beforeStateQueue=new KM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Of.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await v1(this,{idToken:e}),i=await Ho._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fa(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await b1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fa(this.app))return Promise.reject(vc(this));const t=e?zr(e):null;return t&&Jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fa(this.app)?Promise.reject(vc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fa(this.app)?Promise.reject(vc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YM(this),t=new QM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qp("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await GM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dc(e)||this._popupRedirectResolver;Jt(t,this,"argument-error"),this.redirectPersistenceManager=await Of.create(this,[dc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Fa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fu(n){return zr(n)}class yx{constructor(e){this.auth=e,this.observer=null,this.addObserver=JD(t=>this.observer=t)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let g0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZM(n){g0=n}function qN(n){return g0.loadJS(n)}function eO(){return g0.recaptchaEnterpriseScript}function tO(){return g0.gapiScript}function nO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class iO{constructor(){this.enterprise=new rO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sO="recaptcha-enterprise",HN="NO_RECAPTCHA";class aO{constructor(e){this.type=sO,this.auth=Fu(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{OM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new MM(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(a,l,u){const h=window.grecaptcha;fx(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(HN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!t&&fx(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eO();h.length!==0&&(h+=u),qN(h).then(()=>{r(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function vx(n,e,t,i=!1,r=!1){const a=new aO(n);let l;if(r)l=HN;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Iv(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await vx(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await vx(n,e,t,t==="getOobCode");return i(n,l)}else return Promise.reject(a)})}function oO(n,e){const t=D5(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(wh(a,e??{}))return r;go(r,"already-initialized")}return t.initialize({options:e})}function lO(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(dc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function cO(n,e,t){const i=Fu(n);Jt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=GN(e),{host:l,port:u}=uO(e),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Jt(wh(f,i.config.emulator)&&wh(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,rd(l)?(DT(`${a}//${l}${h}`),jT("Auth",!0)):hO()}function GN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uO(n){const e=GN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:bx(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:bx(l)}}}function bx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class fb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fc("not implemented")}_getIdTokenResponse(e){return fc("not implemented")}_linkToIdToken(e,t){return fc("not implemented")}_getReauthenticationResolver(e){return fc("not implemented")}}async function fO(n,e){return Bu(n,"POST","/v1/accounts:signUp",e)}async function dO(n,e){return um(n,"POST","/v1/accounts:signInWithPassword",Vu(n,e))}async function pO(n,e){return um(n,"POST","/v1/accounts:signInWithEmailLink",Vu(n,e))}async function mO(n,e){return um(n,"POST","/v1/accounts:signInWithEmailLink",Vu(n,e))}class Bp extends fb{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bp(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bp(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(e,t,"signInWithPassword",dO);case"emailLink":return pO(e,{email:this._email,oobCode:this._password});default:go(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iv(e,i,"signUpPassword",fO);case"emailLink":return mO(e,{idToken:t,email:this._email,oobCode:this._password});default:go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vf(n,e){return um(n,"POST","/v1/accounts:signInWithIdp",Vu(n,e))}const gO="http://localhost";class Th extends fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Th(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const l=new Th(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Vf(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Vf(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vf(e,t)}buildRequest(){const e={requestUri:gO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jp(t)}return e}}function yO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vO(n){const e=lp(cp(n)).link,t=e?lp(cp(e)).deep_link_id:null,i=lp(cp(n)).deep_link_id;return(i?lp(cp(i)).link:null)||i||t||e||n}class db{constructor(e){const t=lp(cp(e)),i=t.apiKey??null,r=t.oobCode??null,a=yO(t.mode??null);Jt(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=vO(e);try{return new db(t)}catch{return null}}}class ud{constructor(){this.providerId=ud.PROVIDER_ID}static credential(e,t){return Bp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=db.parseLink(t);return Jt(i,"argument-error"),Bp._fromEmailAndCode(e,i.code,i.tenantId)}}ud.PROVIDER_ID="password";ud.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ud.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hm extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hu extends hm{constructor(){super("facebook.com")}static credential(e){return Th._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hu.credential(e.oauthAccessToken)}catch{return null}}}hu.FACEBOOK_SIGN_IN_METHOD="facebook.com";hu.PROVIDER_ID="facebook.com";class hc extends hm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Th._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hc.credentialFromTaggedObject(e)}static credentialFromError(e){return hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return hc.credential(t,i)}catch{return null}}}hc.GOOGLE_SIGN_IN_METHOD="google.com";hc.PROVIDER_ID="google.com";class fu extends hm{constructor(){super("github.com")}static credential(e){return Th._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fu.credential(e.oauthAccessToken)}catch{return null}}}fu.GITHUB_SIGN_IN_METHOD="github.com";fu.PROVIDER_ID="github.com";class du extends hm{constructor(){super("twitter.com")}static credential(e,t){return Th._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return du.credential(t,i)}catch{return null}}}du.TWITTER_SIGN_IN_METHOD="twitter.com";du.PROVIDER_ID="twitter.com";async function bO(n,e){return um(n,"POST","/v1/accounts:signUp",Vu(n,e))}class Eh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ho._fromIdTokenResponse(e,i,r),l=wx(i);return new Eh({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=wx(i);return new Eh({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function wx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class w1 extends Rc{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,w1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new w1(e,t,i,r)}}function WN(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?w1._fromErrorAndOperation(n,a,e,i):a})}async function wO(n,e,t=!1){const i=await Vp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eh._forOperation(n,"link",i)}async function _O(n,e,t=!1){const{auth:i}=n;if(Fa(i.app))return Promise.reject(vc(i));const r="reauthenticate";try{const a=await Vp(n,WN(i,r,e,n),t);Jt(a.idToken,i,"internal-error");const l=ub(a.idToken);Jt(l,i,"internal-error");const{sub:u}=l;return Jt(n.uid===u,i,"user-mismatch"),Eh._forOperation(n,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&go(i,"user-mismatch"),a}}async function $N(n,e,t=!1){if(Fa(n.app))return Promise.reject(vc(n));const i="signIn",r=await WN(n,i,e),a=await Eh._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function xO(n,e){return $N(Fu(n),e)}async function KN(n){const e=Fu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SO(n,e,t){if(Fa(n.app))return Promise.reject(vc(n));const i=Fu(n),l=await Iv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&KN(n),h}),u=await Eh._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function AO(n,e,t){return Fa(n.app)?Promise.reject(vc(n)):xO(zr(n),ud.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&KN(n),i})}function TO(n,e,t,i){return zr(n).onIdTokenChanged(e,t,i)}function EO(n,e,t){return zr(n).beforeAuthStateChanged(e,t)}function NO(n,e,t,i){return zr(n).onAuthStateChanged(e,t,i)}function CO(n){return zr(n).signOut()}const _1="__sak";class YN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_1,"1"),this.storage.removeItem(_1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RO=1e3,IO=10;class XN extends YN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);$M()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,IO):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XN.type="LOCAL";const LO=XN;class QN extends YN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QN.type="SESSION";const JN=QN;function DO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class y0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new y0(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,l=this.handlersMap[r];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,a)),h=await DO(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y0.receivers=[];function mb(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class jO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=mb("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const x=v;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Rl(){return window}function PO(n){Rl().location.href=n}function ZN(){return typeof Rl().WorkerGlobalScope<"u"&&typeof Rl().importScripts=="function"}async function kO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MO(){return navigator?.serviceWorker?.controller||null}function OO(){return ZN()?self:null}const e8="firebaseLocalStorageDb",VO=1,x1="firebaseLocalStorage",t8="fbase_key";class fm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function v0(n,e){return n.transaction([x1],e?"readwrite":"readonly").objectStore(x1)}function BO(){const n=indexedDB.deleteDatabase(e8);return new fm(n).toPromise()}function Lv(){const n=indexedDB.open(e8,VO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(x1,{keyPath:t8})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(x1)?e(i):(i.close(),await BO(),e(await Lv()))})})}async function _x(n,e,t){const i=v0(n,!0).put({[t8]:e,value:t});return new fm(i).toPromise()}async function FO(n,e){const t=v0(n,!1).get(e),i=await new fm(t).toPromise();return i===void 0?null:i.value}function xx(n,e){const t=v0(n,!0).delete(e);return new fm(t).toPromise()}const UO=800,zO=3;class n8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y0._getInstance(OO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kO(),!this.activeServiceWorker)return;this.sender=new jO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lv();return await _x(e,_1,"1"),await xx(e,_1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_x(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=v0(r,!1).getAll();return new fm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n8.type="LOCAL";const qO=n8;new cm(3e4,6e4);function i8(n,e){return e?dc(e):(Jt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class gb extends fb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HO(n){return $N(n.auth,new gb(n),n.bypassAuthState)}function GO(n){const{auth:e,user:t}=n;return Jt(t,e,"internal-error"),_O(t,new gb(n),n.bypassAuthState)}async function WO(n){const{auth:e,user:t}=n;return Jt(t,e,"internal-error"),wO(t,new gb(n),n.bypassAuthState)}class r8{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HO;case"linkViaPopup":case"linkViaRedirect":return WO;case"reauthViaPopup":case"reauthViaRedirect":return GO;default:go(this.auth,"internal-error")}}resolve(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $O=new cm(2e3,1e4);async function KO(n,e,t){if(Fa(n.app))return Promise.reject(Wo(n,"operation-not-supported-in-this-environment"));const i=Fu(n);NM(n,e,pb);const r=i8(i,t);return new fh(i,"signInViaPopup",e,r).executeNotNull()}class fh extends r8{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,fh.currentPopupAction&&fh.currentPopupAction.cancel(),fh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jt(e,this.auth,"internal-error"),e}async onExecution(){Tc(this.filter.length===1,"Popup operations only handle one event");const e=mb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$O.get())};e()}}fh.currentPopupAction=null;const YO="pendingRedirect",zg=new Map;class XO extends r8{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=zg.get(this.auth._key());if(!e){try{const i=await QO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zg.set(this.auth._key(),e)}return this.bypassAuthState||zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QO(n,e){const t=eV(e),i=ZO(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function JO(n,e){zg.set(n._key(),e)}function ZO(n){return dc(n._redirectPersistence)}function eV(n){return Ug(YO,n.config.apiKey,n.name)}async function tV(n,e,t=!1){if(Fa(n.app))return Promise.reject(vc(n));const i=Fu(n),r=i8(i,e),l=await new XO(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}const nV=600*1e3;class iV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!s8(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sx(e))}saveEventToCache(e){this.cachedEventUids.add(Sx(e)),this.lastProcessedEventTime=Date.now()}}function Sx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s8({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s8(n);default:return!1}}async function sV(n,e={}){return Bu(n,"GET","/v1/projects",e)}const aV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oV=/^https?/;async function lV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sV(n);for(const t of e)try{if(cV(t))return}catch{}go(n,"unauthorized-domain")}function cV(n){const e=Cv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!oV.test(t))return!1;if(aV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const uV=new cm(3e4,6e4);function Ax(){const n=Rl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hV(n){return new Promise((e,t)=>{function i(){Ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ax(),t(Wo(n,"network-request-failed"))},timeout:uV.get()})}if(Rl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rl().gapi?.load)i();else{const r=nO("iframefcb");return Rl()[r]=()=>{gapi.load?i():t(Wo(n,"network-request-failed"))},qN(`${tO()}?onload=${r}`).catch(a=>t(a))}}).catch(e=>{throw qg=null,e})}let qg=null;function fV(n){return qg=qg||hV(n),qg}const dV=new cm(5e3,15e3),pV="__/auth/iframe",mV="emulator/auth/iframe",gV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vV(n){const e=n.config;Jt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cb(e,mV):`https://${n.config.authDomain}/${pV}`,i={apiKey:e.apiKey,appName:n.name,v:sd},r=yV.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Jp(i).slice(1)}`}async function bV(n){const e=await fV(n),t=Rl().gapi;return Jt(t,n,"internal-error"),e.open({where:document.body,url:vV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gV,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=Wo(n,"network-request-failed"),u=Rl().setTimeout(()=>{a(l)},dV.get());function h(){Rl().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}const wV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_V=500,xV=600,SV="_blank",AV="http://localhost";class Tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TV(n,e,t,i=_V,r=xV){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...wV,width:i.toString(),height:r.toString(),top:a,left:l},f=Us().toLowerCase();t&&(u=MN(f)?SV:t),PN(f)&&(e=e||AV,h.scrollbars="yes");const p=Object.entries(h).reduce((x,[w,N])=>`${x}${w}=${N},`,"");if(WM(f)&&u!=="_self")return EV(e||"",u),new Tx(null);const v=window.open(e||"",u,p);Jt(v,n,"popup-blocked");try{v.focus()}catch{}return new Tx(v)}function EV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const NV="__/auth/handler",CV="emulator/auth/handler",RV=encodeURIComponent("fac");async function Ex(n,e,t,i,r,a){Jt(n.config.authDomain,n,"auth-domain-config-required"),Jt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:sd,eventId:r};if(e instanceof pb){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",QD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof hm){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${RV}=${encodeURIComponent(h)}`:"";return`${IV(n)}?${Jp(u).slice(1)}${f}`}function IV({config:n}){return n.emulator?cb(n,CV):`https://${n.authDomain}/${NV}`}const hy="webStorageSupport";class LV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JN,this._completeRedirectFn=tV,this._overrideRedirectResult=JO}async _openPopup(e,t,i,r){Tc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Ex(e,t,i,Cv(),r);return TV(e,a,mb())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await Ex(e,t,i,Cv(),r);return PO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Tc(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bV(e),i=new iV(e);return t.register("authEvent",r=>(Jt(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hy,{type:hy},r=>{const a=r?.[0]?.[hy];a!==void 0&&t(!!a),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UN()||kN()||hb()}}const DV=LV;var Nx="@firebase/auth",Cx="1.12.0";class jV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kV(n){Wf(new _h("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Jt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zN(n)},f=new JM(i,r,a,h);return lO(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wf(new _h("auth-internal",e=>{const t=Fu(e.getProvider("auth").getImmediate());return(i=>new jV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_u(Nx,Cx,PV(n)),_u(Nx,Cx,"esm2020")}const MV=300,OV=LT("authIdTokenMaxAge")||MV;let Rx=null;const VV=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>OV)return;const r=t?.token;Rx!==r&&(Rx=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function BV(n=OT()){const e=D5(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oO(n,{popupRedirectResolver:DV,persistence:[qO,LO,JN]}),i=LT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=VV(a.toString());EO(t,l,()=>l(t.currentUser)),TO(t,u=>l(u))}}const r=RT("auth");return r&&cO(t,`http://${r}`),t}function FV(){return document.getElementsByTagName("head")?.[0]??document}ZM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=Wo("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",FV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kV("Browser");const UV={apiKey:"AIzaSyCEDGZTShWZstM11zs3LqpzSe6XWbZdh_A",authDomain:"savings-fb5bd.firebaseapp.com",projectId:"savings-fb5bd",storageBucket:"savings-fb5bd.firebasestorage.app",messagingSenderId:"286488250140",appId:"1:286488250140:web:6962beca73f2c2dd689cd9"},a8=MT(UV),mn=fN(a8),ip=BV(a8),yb=$.createContext({});function vb(n){const e=$.useRef(null);return e.current===null&&(e.current=n()),e.current}const o8=typeof window<"u",l8=o8?$.useLayoutEffect:$.useEffect,b0=$.createContext(null);function bb(n,e){n.indexOf(e)===-1&&n.push(e)}function wb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Dl=(n,e,t)=>t>e?e:t<n?n:t;let _b=()=>{};const Ec={},c8=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function u8(n){return typeof n=="object"&&n!==null}const h8=n=>/^0[^.\s]+$/u.test(n);function xb(n){let e;return()=>(e===void 0&&(e=n()),e)}const mo=n=>n,zV=(n,e)=>t=>e(n(t)),dm=(...n)=>n.reduce(zV),Fp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class Sb{constructor(){this.subscriptions=[]}add(e){return bb(this.subscriptions,e),()=>wb(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bc=n=>n*1e3,ho=n=>n/1e3;function f8(n,e){return e?n*(1e3/e):0}const d8=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,qV=1e-7,HV=12;function GV(n,e,t,i,r){let a,l,u=0;do l=e+(t-e)/2,a=d8(l,i,r)-n,a>0?t=l:e=l;while(Math.abs(a)>qV&&++u<HV);return l}function pm(n,e,t,i){if(n===e&&t===i)return mo;const r=a=>GV(a,0,1,n,t);return a=>a===0||a===1?a:d8(r(a),e,i)}const p8=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,m8=n=>e=>1-n(1-e),g8=pm(.33,1.53,.69,.99),Ab=m8(g8),y8=p8(Ab),v8=n=>(n*=2)<1?.5*Ab(n):.5*(2-Math.pow(2,-10*(n-1))),Tb=n=>1-Math.sin(Math.acos(n)),b8=m8(Tb),w8=p8(Tb),WV=pm(.42,0,1,1),$V=pm(0,0,.58,1),_8=pm(.42,0,.58,1),KV=n=>Array.isArray(n)&&typeof n[0]!="number",x8=n=>Array.isArray(n)&&typeof n[0]=="number",YV={linear:mo,easeIn:WV,easeInOut:_8,easeOut:$V,circIn:Tb,circInOut:w8,circOut:b8,backIn:Ab,backInOut:y8,backOut:g8,anticipate:v8},XV=n=>typeof n=="string",Ix=n=>{if(x8(n)){_b(n.length===4);const[e,t,i,r]=n;return pm(e,t,i,r)}else if(XV(n))return YV[n];return n},bg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QV(n,e){let t=new Set,i=new Set,r=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,v=!1,x=!1)=>{const N=x&&r?t:i;return v&&l.add(p),N.has(p)||N.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(h),t.clear(),r=!1,a&&(a=!1,f.process(p))}};return f}const JV=40;function S8(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=bg.reduce((Y,Z)=>(Y[Z]=QV(a),Y),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:v,preRender:x,render:w,postRender:N}=l,L=()=>{const Y=Ec.useManualTiming?r.timestamp:performance.now();t=!1,Ec.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(Y-r.timestamp,JV),1)),r.timestamp=Y,r.isProcessing=!0,u.process(r),h.process(r),f.process(r),p.process(r),v.process(r),x.process(r),w.process(r),N.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(L))},I=()=>{t=!0,i=!0,r.isProcessing||n(L)};return{schedule:bg.reduce((Y,Z)=>{const ae=l[Z];return Y[Z]=(ge,U=!1,M=!1)=>(t||I(),ae.schedule(ge,U,M)),Y},{}),cancel:Y=>{for(let Z=0;Z<bg.length;Z++)l[bg[Z]].cancel(Y)},state:r,steps:l}}const{schedule:Ii,cancel:Du,state:_s,steps:fy}=S8(typeof requestAnimationFrame<"u"?requestAnimationFrame:mo,!0);let Hg;function ZV(){Hg=void 0}const Zs={now:()=>(Hg===void 0&&Zs.set(_s.isProcessing||Ec.useManualTiming?_s.timestamp:performance.now()),Hg),set:n=>{Hg=n,queueMicrotask(ZV)}},A8=n=>e=>typeof e=="string"&&e.startsWith(n),T8=A8("--"),eB=A8("var(--"),Eb=n=>eB(n)?tB.test(n.split("/*")[0].trim()):!1,tB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Lx(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const hd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Up={...hd,transform:n=>Dl(0,1,n)},wg={...hd,default:1},xp=n=>Math.round(n*1e5)/1e5,Nb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nB(n){return n==null}const iB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cb=(n,e)=>t=>!!(typeof t=="string"&&iB.test(t)&&t.startsWith(n)||e&&!nB(t)&&Object.prototype.hasOwnProperty.call(t,e)),E8=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,l,u]=i.match(Nb);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},rB=n=>Dl(0,255,n),dy={...hd,transform:n=>Math.round(rB(n))},dh={test:Cb("rgb","red"),parse:E8("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+dy.transform(n)+", "+dy.transform(e)+", "+dy.transform(t)+", "+xp(Up.transform(i))+")"};function sB(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Dv={test:Cb("#"),parse:sB,transform:dh.transform},mm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),cu=mm("deg"),Il=mm("%"),mt=mm("px"),aB=mm("vh"),oB=mm("vw"),Dx={...Il,parse:n=>Il.parse(n)/100,transform:n=>Il.transform(n*100)},Rf={test:Cb("hsl","hue"),parse:E8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Il.transform(xp(e))+", "+Il.transform(xp(t))+", "+xp(Up.transform(i))+")"},Sr={test:n=>dh.test(n)||Dv.test(n)||Rf.test(n),parse:n=>dh.test(n)?dh.parse(n):Rf.test(n)?Rf.parse(n):Dv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?dh.transform(n):Rf.transform(n),getAnimatableNone:n=>{const e=Sr.parse(n);return e.alpha=0,Sr.transform(e)}},lB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cB(n){return isNaN(n)&&typeof n=="string"&&(n.match(Nb)?.length||0)+(n.match(lB)?.length||0)>0}const N8="number",C8="color",uB="var",hB="var(",jx="${}",fB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zp(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const u=e.replace(fB,h=>(Sr.test(h)?(i.color.push(a),r.push(C8),t.push(Sr.parse(h))):h.startsWith(hB)?(i.var.push(a),r.push(uB),t.push(h)):(i.number.push(a),r.push(N8),t.push(parseFloat(h))),++a,jx)).split(jx);return{values:t,split:u,indexes:i,types:r}}function R8(n){return zp(n).values}function I8(n){const{split:e,types:t}=zp(n),i=e.length;return r=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],r[l]!==void 0){const u=t[l];u===N8?a+=xp(r[l]):u===C8?a+=Sr.transform(r[l]):a+=r[l]}return a}}const dB=n=>typeof n=="number"?0:Sr.test(n)?Sr.getAnimatableNone(n):n;function pB(n){const e=R8(n);return I8(n)(e.map(dB))}const ju={test:cB,parse:R8,createTransformer:I8,getAnimatableNone:pB};function py(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function mB({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,l=0;if(!e)r=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;r=py(h,u,n+1/3),a=py(h,u,n),l=py(h,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function S1(n,e){return t=>t>0?e:n}const Hi=(n,e,t)=>n+(e-n)*t,my=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},gB=[Dv,dh,Rf],yB=n=>gB.find(e=>e.test(n));function Px(n){const e=yB(n);if(!e)return!1;let t=e.parse(n);return e===Rf&&(t=mB(t)),t}const kx=(n,e)=>{const t=Px(n),i=Px(e);if(!t||!i)return S1(n,e);const r={...t};return a=>(r.red=my(t.red,i.red,a),r.green=my(t.green,i.green,a),r.blue=my(t.blue,i.blue,a),r.alpha=Hi(t.alpha,i.alpha,a),dh.transform(r))},jv=new Set(["none","hidden"]);function vB(n,e){return jv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function bB(n,e){return t=>Hi(n,e,t)}function Rb(n){return typeof n=="number"?bB:typeof n=="string"?Eb(n)?S1:Sr.test(n)?kx:xB:Array.isArray(n)?L8:typeof n=="object"?Sr.test(n)?kx:wB:S1}function L8(n,e){const t=[...n],i=t.length,r=n.map((a,l)=>Rb(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)t[l]=r[l](a);return t}}function wB(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Rb(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function _B(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],l=n.indexes[a][i[a]],u=n.values[l]??0;t[r]=u,i[a]++}return t}const xB=(n,e)=>{const t=ju.createTransformer(e),i=zp(n),r=zp(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?jv.has(n)&&!r.values.length||jv.has(e)&&!i.values.length?vB(n,e):dm(L8(_B(i,r),r.values),t):S1(n,e)};function D8(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Hi(n,e,t):Rb(n)(n,e)}const SB=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ii.update(e,t),stop:()=>Du(e),now:()=>_s.isProcessing?_s.timestamp:Zs.now()}},j8=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},A1=2e4;function Ib(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<A1;)e+=t,i=n.next(e);return e>=A1?1/0:e}function AB(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(Ib(i),A1);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:ho(r)}}const TB=5;function P8(n,e,t){const i=Math.max(e-TB,0);return f8(t-n(i),e-i)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gy=.001;function EB({duration:n=ir.duration,bounce:e=ir.bounce,velocity:t=ir.velocity,mass:i=ir.mass}){let r,a,l=1-e;l=Dl(ir.minDamping,ir.maxDamping,l),n=Dl(ir.minDuration,ir.maxDuration,ho(n)),l<1?(r=f=>{const p=f*l,v=p*n,x=p-t,w=Pv(f,l),N=Math.exp(-v);return gy-x/w*N},a=f=>{const v=f*l*n,x=v*t+t,w=Math.pow(l,2)*Math.pow(f,2)*n,N=Math.exp(-v),L=Pv(Math.pow(f,2),l);return(-r(f)+gy>0?-1:1)*((x-w)*N)/L}):(r=f=>{const p=Math.exp(-f*n),v=(f-t)*n+1;return-gy+p*v},a=f=>{const p=Math.exp(-f*n),v=(t-f)*(n*n);return p*v});const u=5/n,h=CB(r,a,u);if(n=bc(n),isNaN(h))return{stiffness:ir.stiffness,damping:ir.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const NB=12;function CB(n,e,t){let i=t;for(let r=1;r<NB;r++)i=i-n(i)/e(i);return i}function Pv(n,e){return n*Math.sqrt(1-e*e)}const RB=["duration","bounce"],IB=["stiffness","damping","mass"];function Mx(n,e){return e.some(t=>n[t]!==void 0)}function LB(n){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...n};if(!Mx(n,IB)&&Mx(n,RB))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Dl(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:ir.mass,stiffness:r,damping:a}}else{const t=EB(n);e={...e,...t,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function T1(n=ir.visualDuration,e=ir.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:v,velocity:x,isResolvedFromDuration:w}=LB({...t,velocity:-ho(t.velocity||0)}),N=x||0,L=f/(2*Math.sqrt(h*p)),I=l-a,j=ho(Math.sqrt(h/p)),X=Math.abs(I)<5;i||(i=X?ir.restSpeed.granular:ir.restSpeed.default),r||(r=X?ir.restDelta.granular:ir.restDelta.default);let Y;if(L<1){const ae=Pv(j,L);Y=ge=>{const U=Math.exp(-L*j*ge);return l-U*((N+L*j*I)/ae*Math.sin(ae*ge)+I*Math.cos(ae*ge))}}else if(L===1)Y=ae=>l-Math.exp(-j*ae)*(I+(N+j*I)*ae);else{const ae=j*Math.sqrt(L*L-1);Y=ge=>{const U=Math.exp(-L*j*ge),M=Math.min(ae*ge,300);return l-U*((N+L*j*I)*Math.sinh(M)+ae*I*Math.cosh(M))/ae}}const Z={calculatedDuration:w&&v||null,next:ae=>{const ge=Y(ae);if(w)u.done=ae>=v;else{let U=ae===0?N:0;L<1&&(U=ae===0?bc(N):P8(Y,ae,ge));const M=Math.abs(U)<=i,k=Math.abs(l-ge)<=r;u.done=M&&k}return u.value=u.done?l:ge,u},toString:()=>{const ae=Math.min(Ib(Z),A1),ge=j8(U=>Z.next(ae*U).value,ae,30);return ae+"ms "+ge},toTransition:()=>{}};return Z}T1.applyToOptions=n=>{const e=AB(n,100,T1);return n.ease=e.ease,n.duration=bc(e.duration),n.type="keyframes",n};function kv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const v=n[0],x={done:!1,value:v},w=M=>u!==void 0&&M<u||h!==void 0&&M>h,N=M=>u===void 0?h:h===void 0||Math.abs(u-M)<Math.abs(h-M)?u:h;let L=t*e;const I=v+L,j=l===void 0?I:l(I);j!==I&&(L=j-v);const X=M=>-L*Math.exp(-M/i),Y=M=>j+X(M),Z=M=>{const k=X(M),W=Y(M);x.done=Math.abs(k)<=f,x.value=x.done?j:W};let ae,ge;const U=M=>{w(x.value)&&(ae=M,ge=T1({keyframes:[x.value,N(x.value)],velocity:P8(Y,M,x.value),damping:r,stiffness:a,restDelta:f,restSpeed:p}))};return U(0),{calculatedDuration:null,next:M=>{let k=!1;return!ge&&ae===void 0&&(k=!0,Z(M),U(M)),ae!==void 0&&M>=ae?ge.next(M-ae):(!k&&Z(M),x)}}}function DB(n,e,t){const i=[],r=t||Ec.mix||D8,a=n.length-1;for(let l=0;l<a;l++){let u=r(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||mo:e;u=dm(h,u)}i.push(u)}return i}function jB(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(_b(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=DB(e,i,r),h=u.length,f=p=>{if(l&&p<n[0])return e[0];let v=0;if(h>1)for(;v<n.length-2&&!(p<n[v+1]);v++);const x=Fp(n[v],n[v+1],p);return u[v](x)};return t?p=>f(Dl(n[0],n[a-1],p)):f}function PB(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Fp(0,e,i);n.push(Hi(t,1,r))}}function kB(n){const e=[0];return PB(e,n.length-1),e}function MB(n,e){return n.map(t=>t*e)}function OB(n,e){return n.map(()=>e||_8).splice(0,n.length-1)}function Sp({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=KV(i)?i.map(Ix):Ix(i),a={done:!1,value:e[0]},l=MB(t&&t.length===e.length?t:kB(e),n),u=jB(l,e,{ease:Array.isArray(r)?r:OB(e,r)});return{calculatedDuration:n,next:h=>(a.value=u(h),a.done=h>=n,a)}}const VB=n=>n!==null;function Lb(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(VB),u=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const BB={decay:kv,inertia:kv,tween:Sp,keyframes:Sp,spring:T1};function k8(n){typeof n.type=="string"&&(n.type=BB[n.type])}class Db{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const FB=n=>n/100;class jb extends Db{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Zs.now()&&this.tick(Zs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;k8(e);const{type:t=Sp,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=t||Sp;h!==Sp&&typeof u[0]!="number"&&(this.mixKeyframes=dm(FB,D8(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Ib(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:w,type:N,onUpdate:L,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?j<0:j>r;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let Y=this.currentTime,Z=i;if(v){const M=Math.min(this.currentTime,r)/u;let k=Math.floor(M),W=M%1;!W&&M>=1&&(W=1),W===1&&k--,k=Math.min(k,v+1),k%2&&(x==="reverse"?(W=1-W,w&&(W-=w/u)):x==="mirror"&&(Z=l)),Y=Dl(0,1,W)*u}const ae=X?{done:!1,value:p[0]}:Z.next(Y);a&&(ae.value=a(ae.value));let{done:ge}=ae;!X&&h!==null&&(ge=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ge);return U&&N!==kv&&(ae.value=Lb(p,this.options,I,this.speed)),L&&L(ae.value),U&&this.finish(),ae}then(e,t){return this.finished.then(e,t)}get duration(){return ho(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ho(e)}get time(){return ho(this.currentTime)}set time(e){e=bc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ho(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SB,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UB(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ph=n=>n*180/Math.PI,Mv=n=>{const e=ph(Math.atan2(n[1],n[0]));return Ov(e)},zB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Mv,rotateZ:Mv,skewX:n=>ph(Math.atan(n[1])),skewY:n=>ph(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ov=n=>(n=n%360,n<0&&(n+=360),n),Ox=Mv,Vx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Bx=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),qB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vx,scaleY:Bx,scale:n=>(Vx(n)+Bx(n))/2,rotateX:n=>Ov(ph(Math.atan2(n[6],n[5]))),rotateY:n=>Ov(ph(Math.atan2(-n[2],n[0]))),rotateZ:Ox,rotate:Ox,skewX:n=>ph(Math.atan(n[4])),skewY:n=>ph(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Vv(n){return n.includes("scale")?1:0}function Bv(n,e){if(!n||n==="none")return Vv(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=qB,r=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=zB,r=u}if(!r)return Vv(e);const a=i[e],l=r[1].split(",").map(GB);return typeof a=="function"?a(l):l[a]}const HB=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Bv(t,e)};function GB(n){return parseFloat(n.trim())}const fd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dd=new Set(fd),Fx=n=>n===hd||n===mt,WB=new Set(["x","y","z"]),$B=fd.filter(n=>!WB.has(n));function KB(n){const e=[];return $B.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const yu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Bv(e,"x"),y:(n,{transform:e})=>Bv(e,"y")};yu.translateX=yu.x;yu.translateY=yu.y;const gh=new Set;let Fv=!1,Uv=!1,zv=!1;function M8(){if(Uv){const n=Array.from(gh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=KB(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Uv=!1,Fv=!1,gh.forEach(n=>n.complete(zv)),gh.clear()}function O8(){gh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Uv=!0)})}function YB(){zv=!0,O8(),M8(),zv=!1}class Pb{constructor(e,t,i,r,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(gh.add(this),Fv||(Fv=!0,Ii.read(O8),Ii.resolveKeyframes(M8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const u=i.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}UB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gh.delete(this)}cancel(){this.state==="scheduled"&&(gh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XB=n=>n.startsWith("--");function QB(n,e,t){XB(e)?n.style.setProperty(e,t):n.style[e]=t}const JB=xb(()=>window.ScrollTimeline!==void 0),ZB={};function eF(n,e){const t=xb(n);return()=>ZB[e]??t()}const V8=eF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dp=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Ux={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dp([0,.65,.55,1]),circOut:dp([.55,0,1,.45]),backIn:dp([.31,.01,.66,-.59]),backOut:dp([.33,1.53,.69,.99])};function B8(n,e){if(n)return typeof n=="function"?V8()?j8(n,e):"ease-out":x8(n)?dp(n):Array.isArray(n)?n.map(t=>B8(t,e)||Ux.easeOut):Ux[n]}function tF(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[e]:t};h&&(p.offset=h);const v=B8(u,r);Array.isArray(v)&&(p.easing=v);const x={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),n.animate(p,x)}function F8(n){return typeof n=="function"&&"applyToOptions"in n}function nF({type:n,...e}){return F8(n)&&V8()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class iF extends Db{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,_b(typeof e.type!="string");const f=nF(e);this.animation=tF(t,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Lb(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):QB(t,i,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ho(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ho(e)}get time(){return ho(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=bc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&JB()?(this.animation.timeline=e,mo):t(this)}}const U8={anticipate:v8,backInOut:y8,circInOut:w8};function rF(n){return n in U8}function sF(n){typeof n.ease=="string"&&rF(n.ease)&&(n.ease=U8[n.ease])}const yy=10;class aF extends iF{constructor(e){sF(e),k8(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new jb({...l,autoplay:!1}),h=Math.max(yy,Zs.now()-this.startTime),f=Dl(0,yy,h-yy);t.setWithVelocity(u.sample(Math.max(0,h-f)).value,u.sample(h).value,f),u.stop()}}const zx=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ju.test(n)||n==="0")&&!n.startsWith("url("));function oF(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function lF(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=zx(r,e),u=zx(a,e);return!l||!u?!1:oF(n)||(t==="spring"||F8(t))&&i}function qv(n){n.duration=0,n.type="keyframes"}const cF=new Set(["opacity","clipPath","filter","transform"]),uF=xb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hF(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:l}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return uF()&&t&&cF.has(t)&&(t!=="transform"||!f)&&!h&&!i&&r!=="mirror"&&a!==0&&l!=="inertia"}const fF=40;class dF extends Db{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:p,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zs.now();const x={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:l,name:h,motionValue:f,element:p,...v},w=p?.KeyframeResolver||Pb;this.keyframeResolver=new w(u,(N,L,I)=>this.onKeyframesResolved(N,L,x,!I),h,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:p}=i;this.resolvedAt=Zs.now(),lF(e,a,l,u)||((Ec.instantAnimations||!h)&&p?.(Lb(e,i,t)),e[0]=e[e.length-1],qv(i),i.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>fF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},w=!f&&hF(x)?new aF({...x,element:x.motionValue.owner.current}):new jb(x);w.finished.then(()=>this.notifyFinished()).catch(mo),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mF(n){const e=pF.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function z8(n,e,t=1){const[i,r]=mF(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return c8(l)?parseFloat(l):l}return Eb(r)?z8(r,e,t+1):r}function kb(n,e){return n?.[e]??n?.default??n}const gF={type:"spring",stiffness:500,damping:25,restSpeed:10},yF=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),vF={type:"keyframes",duration:.8},bF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wF=(n,{keyframes:e})=>e.length>2?vF:dd.has(n)?n.startsWith("scale")?yF(e[1]):gF:bF;function _F({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const xF=n=>n!==null;function SF(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(xF),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}function q8(n,e,t,i=0,r=1){const a=Array.from(n).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),l=n.size,u=(l-1)*i;return typeof t=="function"?t(a,l):r===1?a*i:u-a*i}const Mb=(n,e,t,i={},r,a)=>l=>{const u=kb(i,n)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-bc(h);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:a?void 0:r};_F(u)||Object.assign(p,wF(n,p)),p.duration&&(p.duration=bc(p.duration)),p.repeatDelay&&(p.repeatDelay=bc(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(qv(p),p.delay===0&&(v=!0)),(Ec.instantAnimations||Ec.skipAnimations)&&(v=!0,qv(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const x=SF(p.keyframes,u);if(x!==void 0){Ii.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new jb(p):new dF(p)},H8=new Set(["width","height","top","left","right","bottom",...fd]),qx=30,AF=n=>!isNaN(parseFloat(n));class TF{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Zs.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Sb);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ii.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qx)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,qx);return f8(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ed(n,e){return new TF(n,e)}function Hx(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Ob(n,e,t,i){if(typeof e=="function"){const[r,a]=Hx(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=Hx(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function Bf(n,e,t){const i=n.getProps();return Ob(i,e,t!==void 0?t:i.custom,n)}const Hv=n=>Array.isArray(n);function EF(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ed(t))}function NF(n){return Hv(n)?n[n.length-1]||0:n}function CF(n,e){const t=Bf(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const l in a){const u=NF(a[l]);EF(n,l,u)}}const Fs=n=>!!(n&&n.getVelocity);function RF(n){return!!(Fs(n)&&n.add)}function Gv(n,e){const t=n.getValue("willChange");if(RF(t))return t.add(e);if(!t&&Ec.WillChange){const i=new Ec.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function Vb(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const IF="framerAppearId",G8="data-"+Vb(IF);function W8(n){return n.props[G8]}function LF({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function $8(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(a=i);const h=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const p in u){const v=n.getValue(p,n.latestValues[p]??null),x=u[p];if(x===void 0||f&&LF(f,p))continue;const w={delay:t,...kb(a||{},p)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===N&&!w.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const j=W8(n);if(j){const X=window.MotionHandoffAnimation(j,p,Ii);X!==null&&(w.startTime=X,L=!0)}}Gv(n,p),v.start(Mb(p,v,x,n.shouldReduceMotion&&H8.has(p)?{type:!1}:w,n,L));const I=v.animation;I&&h.push(I)}return l&&Promise.all(h).then(()=>{Ii.update(()=>{l&&CF(n,l)})}),h}function Wv(n,e,t={}){const i=Bf(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all($8(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:v}=r;return DF(n,e,h,f,p,v,t)}:()=>Promise.resolve(),{when:u}=r;if(u){const[h,f]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>f())}else return Promise.all([a(),l(t.delay)])}function DF(n,e,t=0,i=0,r=0,a=1,l){const u=[];for(const h of n.variantChildren)h.notify("AnimationStart",e),u.push(Wv(h,e,{...l,delay:t+(typeof i=="function"?0:i)+q8(n.variantChildren,h,i,r,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function jF(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>Wv(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=Wv(n,e,t);else{const r=typeof e=="function"?Bf(n,e,t.custom):e;i=Promise.all($8(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const PF={test:n=>n==="auto",parse:n=>n},K8=n=>e=>e.test(n),Y8=[hd,mt,Il,cu,oB,aB,PF],Gx=n=>Y8.find(K8(n));function kF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||h8(n):!0}const MF=new Set(["brightness","contrast","saturate","opacity"]);function OF(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Nb)||[];if(!i)return n;const r=t.replace(i,"");let a=MF.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const VF=/\b([a-z-]*)\(.*?\)/gu,$v={...ju,getAnimatableNone:n=>{const e=n.match(VF);return e?e.map(OF).join(" "):n}},Wx={...hd,transform:Math.round},BF={rotate:cu,rotateX:cu,rotateY:cu,rotateZ:cu,scale:wg,scaleX:wg,scaleY:wg,scaleZ:wg,skew:cu,skewX:cu,skewY:cu,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Up,originX:Dx,originY:Dx,originZ:mt},Bb={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,backgroundPositionX:mt,backgroundPositionY:mt,...BF,zIndex:Wx,fillOpacity:Up,strokeOpacity:Up,numOctaves:Wx},FF={...Bb,color:Sr,backgroundColor:Sr,outlineColor:Sr,fill:Sr,stroke:Sr,borderColor:Sr,borderTopColor:Sr,borderRightColor:Sr,borderBottomColor:Sr,borderLeftColor:Sr,filter:$v,WebkitFilter:$v},X8=n=>FF[n];function Q8(n,e){let t=X8(n);return t!==$v&&(t=ju),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const UF=new Set(["auto","none","0"]);function zF(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!UF.has(a)&&zp(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=Q8(t,r)}class qF extends Pb{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let v=e[p];if(typeof v=="string"&&(v=v.trim(),Eb(v))){const x=z8(v,t.current);x!==void 0&&(e[p]=x),p===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!H8.has(i)||e.length!==2)return;const[r,a]=e,l=Gx(r),u=Gx(a),h=Lx(r),f=Lx(a);if(h!==f&&yu[i]){this.needsMeasurement=!0;return}if(l!==u)if(Fx(l)&&Fx(u))for(let p=0;p<e.length;p++){const v=e[p];typeof v=="string"&&(e[p]=parseFloat(v))}else yu[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||kF(e[r]))&&i.push(r);i.length&&zF(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yu[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=yu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function HF(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const J8=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Z8(n){return u8(n)&&"offsetHeight"in n}const{schedule:Fb}=S8(queueMicrotask,!1),zo={x:!1,y:!1};function eC(){return zo.x||zo.y}function GF(n){return n==="x"||n==="y"?zo[n]?null:(zo[n]=!0,()=>{zo[n]=!1}):zo.x||zo.y?null:(zo.x=zo.y=!0,()=>{zo.x=zo.y=!1})}function tC(n,e){const t=HF(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function $x(n){return!(n.pointerType==="touch"||eC())}function WF(n,e,t={}){const[i,r,a]=tC(n,t),l=u=>{if(!$x(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const p=v=>{$x(v)&&(f(v),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,r)};return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),a}const nC=(n,e)=>e?n===e?!0:nC(n,e.parentElement):!1,Ub=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,$F=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iC(n){return $F.has(n.tagName)||n.isContentEditable===!0}const Gg=new WeakSet;function Kx(n){return e=>{e.key==="Enter"&&n(e)}}function vy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KF=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Kx(()=>{if(Gg.has(t))return;vy(t,"down");const r=Kx(()=>{vy(t,"up")}),a=()=>vy(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Yx(n){return Ub(n)&&!eC()}function YF(n,e,t={}){const[i,r,a]=tC(n,t),l=u=>{const h=u.currentTarget;if(!Yx(u))return;Gg.add(h);const f=e(h,u),p=(w,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Gg.has(h)&&Gg.delete(h),Yx(w)&&typeof f=="function"&&f(w,{success:N})},v=w=>{p(w,h===window||h===document||t.useGlobalTarget||nC(h,w.target))},x=w=>{p(w,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",x,r)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),Z8(u)&&(u.addEventListener("focus",f=>KF(f,r)),!iC(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function rC(n){return u8(n)&&"ownerSVGElement"in n}function XF(n){return rC(n)&&n.tagName==="svg"}const QF=[...Y8,Sr,ju],JF=n=>QF.find(K8(n)),Xx=()=>({translate:0,scale:1,origin:0,originPoint:0}),If=()=>({x:Xx(),y:Xx()}),Qx=()=>({min:0,max:0}),Fr=()=>({x:Qx(),y:Qx()}),Kv={current:null},sC={current:!1},ZF=typeof window<"u";function eU(){if(sC.current=!0,!!ZF)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kv.current=n.matches;n.addEventListener("change",e),e()}else Kv.current=!1}const tU=new WeakMap;function w0(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function qp(n){return typeof n=="string"||Array.isArray(n)}const zb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qb=["initial",...zb];function _0(n){return w0(n.animate)||qb.some(e=>qp(n[e]))}function aC(n){return!!(_0(n)||n.variants)}function nU(n,e,t){for(const i in e){const r=e[i],a=t[i];if(Fs(r))n.addValue(i,r);else if(Fs(a))n.addValue(i,ed(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=n.getStaticValue(i);n.addValue(i,ed(l!==void 0?l:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Jx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let E1={};function oC(n){E1=n}function iU(){return E1}class rU{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Zs.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ii.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=_0(t),this.isVariantNode=aC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in v){const w=v[x];h[x]!==void 0&&Fs(w)&&w.set(h[x])}}mount(e){this.current=e,tU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(sC.current||eU(),this.shouldReduceMotion=Kv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Du(this.notifyUpdate),Du(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=dd.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ii.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in E1){const t=E1[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Jx.length;i++){const r=Jx[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=e[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=nU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ed(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(c8(i)||h8(i))?i=parseFloat(i):!JF(i)&&ju.test(t)&&(i=Q8(e,t)),this.setBaseTarget(e,Fs(i)?i.get():i)),Fs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=Ob(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Fs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Sb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Fb.render(this.render)}}class Uu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lC extends rU{constructor(){super(...arguments),this.KeyframeResolver=qF}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function cC({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function sU({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function aU(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function by(n){return n===void 0||n===1}function Yv({scale:n,scaleX:e,scaleY:t}){return!by(n)||!by(e)||!by(t)}function lh(n){return Yv(n)||uC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function uC(n){return Zx(n.x)||Zx(n.y)}function Zx(n){return n&&n!=="0%"}function N1(n,e,t){const i=n-t,r=e*i;return t+r}function eS(n,e,t,i,r){return r!==void 0&&(n=N1(n,r,i)),N1(n,t,i)+e}function Xv(n,e=0,t=1,i,r){n.min=eS(n.min,e,t,i,r),n.max=eS(n.max,e,t,i,r)}function hC(n,{x:e,y:t}){Xv(n.x,e.translate,e.scale,e.originPoint),Xv(n.y,t.translate,t.scale,t.originPoint)}const tS=.999999999999,nS=1.0000000000001;function oU(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,l;for(let u=0;u<r;u++){a=t[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Df(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,hC(n,l)),i&&lh(a.latestValues)&&Df(n,a.latestValues))}e.x<nS&&e.x>tS&&(e.x=1),e.y<nS&&e.y>tS&&(e.y=1)}function Lf(n,e){n.min=n.min+e,n.max=n.max+e}function iS(n,e,t,i,r=.5){const a=Hi(n.min,n.max,r);Xv(n,e,t,a,i)}function Df(n,e){iS(n.x,e.x,e.scaleX,e.scale,e.originX),iS(n.y,e.y,e.scaleY,e.scale,e.originY)}function fC(n,e){return cC(aU(n.getBoundingClientRect(),e))}function lU(n,e,t){const i=fC(n,t),{scroll:r}=e;return r&&(Lf(i.x,r.offset.x),Lf(i.y,r.offset.y)),i}const cU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uU=fd.length;function hU(n,e,t){let i="",r=!0;for(let a=0;a<uU;a++){const l=fd[a],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const f=J8(u,Bb[l]);if(!h){r=!1;const p=cU[l]||l;i+=`${p}(${f}) `}t&&(e[l]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Hb(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let l=!1,u=!1;for(const h in e){const f=e[h];if(dd.has(h)){l=!0;continue}else if(T8(h)){r[h]=f;continue}else{const p=J8(f,Bb[h]);h.startsWith("origin")?(u=!0,a[h]=p):i[h]=p}}if(e.transform||(l||t?i.transform=hU(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}function dC(n,{style:e,vars:t},i,r){const a=n.style;let l;for(l in e)a[l]=e[l];r?.applyProjectionStyles(a,i);for(l in t)a.setProperty(l,t[l])}function rS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const rp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const t=rS(n,e.target.x),i=rS(n,e.target.y);return`${t}% ${i}%`}},fU={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ju.parse(n);if(r.length>5)return i;const a=ju.createTransformer(n),l=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;r[0+l]/=u,r[1+l]/=h;const f=Hi(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),a(r)}},Qv={borderRadius:{...rp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rp,borderTopRightRadius:rp,borderBottomLeftRadius:rp,borderBottomRightRadius:rp,boxShadow:fU};function pC(n,{layout:e,layoutId:t}){return dd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Qv[n]||n==="opacity")}function Gb(n,e,t){const i=n.style,r=e?.style,a={};if(!i)return a;for(const l in i)(Fs(i[l])||r&&Fs(r[l])||pC(l,n)||t?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}function dU(n){return window.getComputedStyle(n)}class pU extends lC{constructor(){super(...arguments),this.type="html",this.renderInstance=dC}readValueFromInstance(e,t){if(dd.has(t))return this.projection?.isProjecting?Vv(t):HB(e,t);{const i=dU(e),r=(T8(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return fC(e,t)}build(e,t,i){Hb(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Gb(e,t,i)}}const mU={offset:"stroke-dashoffset",array:"stroke-dasharray"},gU={offset:"strokeDashoffset",array:"strokeDasharray"};function yU(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?mU:gU;n[a.offset]=mt.transform(-i);const l=mt.transform(e),u=mt.transform(t);n[a.array]=`${l} ${u}`}const vU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function mC(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...u},h,f,p){if(Hb(n,u,f),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete v.transformBox);for(const w of vU)v[w]!==void 0&&(x[w]=v[w],delete v[w]);e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&yU(v,r,a,l,!1)}const gC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),yC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function bU(n,e,t,i){dC(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(gC.has(r)?r:Vb(r),e.attrs[r])}function vC(n,e,t){const i=Gb(n,e,t);for(const r in n)if(Fs(n[r])||Fs(e[r])){const a=fd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}class wU extends lC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(dd.has(t)){const i=X8(t);return i&&i.default||0}return t=gC.has(t)?t:Vb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return vC(e,t,i)}build(e,t,i){mC(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){bU(e,t,i,r)}mount(e){this.isSVGTag=yC(e.tagName),super.mount(e)}}const _U=qb.length;function bC(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?bC(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<_U;t++){const i=qb[t],r=n.props[i];(qp(r)||r===!1)&&(e[i]=r)}return e}function wC(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const xU=[...zb].reverse(),SU=zb.length;function AU(n){return e=>Promise.all(e.map(({animation:t,options:i})=>jF(n,t,i)))}function TU(n){let e=AU(n),t=sS(),i=!0;const r=h=>(f,p)=>{const v=Bf(n,p,h==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,...N}=v;f={...f,...N,...w}}return f};function a(h){e=h(n)}function l(h){const{props:f}=n,p=bC(n.parent)||{},v=[],x=new Set;let w={},N=1/0;for(let I=0;I<SU;I++){const j=xU[I],X=t[j],Y=f[j]!==void 0?f[j]:p[j],Z=qp(Y),ae=j===h?X.isActive:null;ae===!1&&(N=I);let ge=Y===p[j]&&Y!==f[j]&&Z;if(ge&&i&&n.manuallyAnimateOnMount&&(ge=!1),X.protectedKeys={...w},!X.isActive&&ae===null||!Y&&!X.prevProp||w0(Y)||typeof Y=="boolean")continue;const U=EU(X.prevProp,Y);let M=U||j===h&&X.isActive&&!ge&&Z||I>N&&Z,k=!1;const W=Array.isArray(Y)?Y:[Y];let E=W.reduce(r(j),{});ae===!1&&(E={});const{prevResolvedValues:R={}}=X,B={...R,...E},ce=me=>{M=!0,x.has(me)&&(k=!0,x.delete(me)),X.needsAnimating[me]=!0;const se=n.getValue(me);se&&(se.liveStyle=!1)};for(const me in B){const se=E[me],Ne=R[me];if(w.hasOwnProperty(me))continue;let ue=!1;Hv(se)&&Hv(Ne)?ue=!wC(se,Ne):ue=se!==Ne,ue?se!=null?ce(me):x.add(me):se!==void 0&&x.has(me)?ce(me):X.protectedKeys[me]=!0}X.prevProp=Y,X.prevResolvedValues=E,X.isActive&&(w={...w,...E}),i&&n.blockInitialAnimation&&(M=!1);const Ae=ge&&U;M&&(!Ae||k)&&v.push(...W.map(me=>{const se={type:j};if(typeof me=="string"&&i&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ne}=n,ue=Bf(Ne,me);if(Ne.enteringChildren&&ue){const{delayChildren:V}=ue.transition||{};se.delay=q8(Ne.enteringChildren,n,V)}}return{animation:me,options:se}}))}if(x.size){const I={};if(typeof f.initial!="boolean"){const j=Bf(n,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(I.transition=j.transition)}x.forEach(j=>{const X=n.getBaseTarget(j),Y=n.getValue(j);Y&&(Y.liveStyle=!0),I[j]=X??null}),v.push({animation:I})}let L=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(v):Promise.resolve()}function u(h,f){if(t[h].isActive===f)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),t[h].isActive=f;const p=l(h);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t,reset:()=>{t=sS()}}}function EU(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!wC(e,n):!1}function sh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sS(){return{animate:sh(!0),whileInView:sh(),whileHover:sh(),whileTap:sh(),whileDrag:sh(),whileFocus:sh(),exit:sh()}}const _C=1e-4,NU=1-_C,CU=1+_C,xC=.01,RU=0-xC,IU=0+xC;function ea(n){return n.max-n.min}function LU(n,e,t){return Math.abs(n-e)<=t}function aS(n,e,t,i=.5){n.origin=i,n.originPoint=Hi(e.min,e.max,n.origin),n.scale=ea(t)/ea(e),n.translate=Hi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=NU&&n.scale<=CU||isNaN(n.scale))&&(n.scale=1),(n.translate>=RU&&n.translate<=IU||isNaN(n.translate))&&(n.translate=0)}function Ap(n,e,t,i){aS(n.x,e.x,t.x,i?i.originX:void 0),aS(n.y,e.y,t.y,i?i.originY:void 0)}function oS(n,e,t){n.min=t.min+e.min,n.max=n.min+ea(e)}function DU(n,e,t){oS(n.x,e.x,t.x),oS(n.y,e.y,t.y)}function lS(n,e,t){n.min=e.min-t.min,n.max=n.min+ea(e)}function C1(n,e,t){lS(n.x,e.x,t.x),lS(n.y,e.y,t.y)}function cS(n,e,t,i,r){return n-=e,n=N1(n,1/t,i),r!==void 0&&(n=N1(n,1/r,i)),n}function jU(n,e=0,t=1,i=.5,r,a=n,l=n){if(Il.test(e)&&(e=parseFloat(e),e=Hi(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Hi(a.min,a.max,i);n===a&&(u-=e),n.min=cS(n.min,e,t,u,r),n.max=cS(n.max,e,t,u,r)}function uS(n,e,[t,i,r],a,l){jU(n,e[t],e[i],e[r],e.scale,a,l)}const PU=["x","scaleX","originX"],kU=["y","scaleY","originY"];function hS(n,e,t,i){uS(n.x,e,PU,t?t.x:void 0,i?i.x:void 0),uS(n.y,e,kU,t?t.y:void 0,i?i.y:void 0)}function fS(n,e){n.min=e.min,n.max=e.max}function Bo(n,e){fS(n.x,e.x),fS(n.y,e.y)}function dS(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function pS(n){return n.translate===0&&n.scale===1}function SC(n){return pS(n.x)&&pS(n.y)}function mS(n,e){return n.min===e.min&&n.max===e.max}function MU(n,e){return mS(n.x,e.x)&&mS(n.y,e.y)}function gS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function AC(n,e){return gS(n.x,e.x)&&gS(n.y,e.y)}function yS(n){return ea(n.x)/ea(n.y)}function vS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function uo(n){return[n("x"),n("y")]}function OU(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((r||a||l)&&(i=`translate3d(${r}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:v,rotateY:x,skewX:w,skewY:N}=t;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),w&&(i+=`skewX(${w}deg) `),N&&(i+=`skewY(${N}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const TC=["TopLeft","TopRight","BottomLeft","BottomRight"],VU=TC.length,bS=n=>typeof n=="string"?parseFloat(n):n,wS=n=>typeof n=="number"||mt.test(n);function BU(n,e,t,i,r,a){r?(n.opacity=Hi(0,t.opacity??1,FU(i)),n.opacityExit=Hi(e.opacity??1,0,UU(i))):a&&(n.opacity=Hi(e.opacity??1,t.opacity??1,i));for(let l=0;l<VU;l++){const u=`border${TC[l]}Radius`;let h=_S(e,u),f=_S(t,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||wS(h)===wS(f)?(n[u]=Math.max(Hi(bS(h),bS(f),i),0),(Il.test(f)||Il.test(h))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=Hi(e.rotate||0,t.rotate||0,i))}function _S(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const FU=EC(0,.5,b8),UU=EC(.5,.95,mo);function EC(n,e,t){return i=>i<n?0:i>e?1:t(Fp(n,e,i))}function zU(n,e){const t=Zs.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Du(i),n(a-e))};return Ii.setup(i,!0),()=>Du(i)}function Hp(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Wg(n){return Fs(n)?n.get():n}function qU(n,e,t){const i=Fs(n)?n:ed(n);return i.start(Mb("",i,e,t)),i.animation}const HU=(n,e)=>n.depth-e.depth;class GU{constructor(){this.children=[],this.isDirty=!1}add(e){bb(this.children,e),this.isDirty=!0}remove(e){wb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HU),this.isDirty=!1,this.children.forEach(e)}}class WU{constructor(){this.members=[]}add(e){bb(this.members,e),e.scheduleRender()}remove(e){if(wb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $g={hasAnimatedSinceResize:!0,hasEverUpdated:!1},wy=["","X","Y","Z"],$U=1e3;let KU=0;function _y(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function NC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=W8(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ii,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&NC(i)}function CC({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=e?.()){this.id=KU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QU),this.nodes.forEach(tz),this.nodes.forEach(nz),this.nodes.forEach(JU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new GU)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Sb),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=rC(l)&&!XF(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let p,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ii.read(()=>{v=window.innerWidth}),n(l,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,p&&p(),p=zU(x,250),$g.hasAnimatedSinceResize&&($g.hasAnimatedSinceResize=!1,this.nodes.forEach(AS)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||oz,{onLayoutAnimationStart:L,onLayoutAnimationComplete:I}=f.getProps(),j=!this.targetLayout||!AC(this.targetLayout,w),X=!v&&x;if(this.options.layoutRoot||this.resumeFrom||X||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...kb(N,"layout"),onPlay:L,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(p,X)}else v||AS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Du(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ez),this.nodes.forEach(YU),this.nodes.forEach(XU)):this.nodes.forEach(SS),this.clearAllSnapshots();const u=Zs.now();_s.delta=Dl(0,1e3/60,u-_s.timestamp),_s.timestamp=u,_s.isProcessing=!0,fy.update.process(_s),fy.preRender.process(_s),fy.render.process(_s),_s.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZU),this.sharedNodes.forEach(rz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ii.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ii.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ea(this.snapshot.measuredBox.x)&&!ea(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!SC(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||lh(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),lz(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Fr();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cz))){const{scroll:f}=this.root;f&&(Lf(u.x,f.offset.x),Lf(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Fr();if(Bo(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:v}=f;f!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&Bo(u,l),Lf(u.x,p.offset.x),Lf(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=Fr();Bo(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Df(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),lh(p.latestValues)&&Df(h,p.latestValues)}return lh(this.latestValues)&&Df(h,this.latestValues),h}removeTransform(l){const u=Fr();Bo(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!lh(f.latestValues))continue;Yv(f.latestValues)&&f.updateSnapshot();const p=Fr(),v=f.measurePageBox();Bo(p,v),hS(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return lh(this.latestValues)&&hS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_s.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!this.layout||!(p||v))return;this.resolvedRelativeTargetAt=_s.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fr(),this.targetWithTransforms=Fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bo(this.target,this.layout.layoutBox),hC(this.target,this.targetDelta)):Bo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Yv(this.parent.latestValues)||uC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),C1(this.relativeTargetOrigin,u,h),Bo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_s.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Bo(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;oU(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Fr());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dS(this.prevProjectionDelta.x,this.projectionDelta.x),dS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ap(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!vS(this.projectionDelta.x,this.prevProjectionDelta.x)||!vS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=If(),this.projectionDelta=If(),this.projectionDeltaWithTransform=If()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},v=If();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Fr(),w=h?h.source:void 0,N=this.layout?this.layout.source:void 0,L=w!==N,I=this.getStack(),j=!I||I.members.length<=1,X=!!(L&&!j&&this.options.crossfade===!0&&!this.path.some(az));this.animationProgress=0;let Y;this.mixTargetDelta=Z=>{const ae=Z/1e3;TS(v.x,l.x,ae),TS(v.y,l.y,ae),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(C1(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,x,ae),Y&&MU(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Fr()),Bo(Y,this.relativeTarget)),L&&(this.animationValues=p,BU(p,f,this.latestValues,ae,X,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Du(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ii.update(()=>{$g.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ed(0)),this.currentAnimation=qU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($U),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&RC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Fr();const v=ea(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=ea(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Bo(u,h),Df(u,p),Ap(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new WU),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&_y("z",l,f,this.animationValues);for(let p=0;p<wy.length;p++)_y(`rotate${wy[p]}`,l,f,this.animationValues),_y(`skew${wy[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Wg(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Wg(u?.pointerEvents)||""),this.hasProjected&&!lh(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=OU(this.projectionDeltaWithTransform,this.treeScale,p);h&&(v=h(p,v)),l.transform=v;const{x,y:w}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in Qv){if(p[N]===void 0)continue;const{correct:L,applyTo:I,isCSSVariable:j}=Qv[N],X=v==="none"?p[N]:L(p[N],f);if(I){const Y=I.length;for(let Z=0;Z<Y;Z++)l[I[Z]]=X}else j?this.options.visualElement.renderState.vars[N]=X:l[N]=X}this.options.layoutId&&(l.pointerEvents=f===this?Wg(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(xS),this.root.sharedNodes.clear()}}}function YU(n){n.updateLayout()}function XU(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?uo(p=>{const v=a?e.measuredBox[p]:e.layoutBox[p],x=ea(v);v.min=t[p].min,v.max=v.min+x}):RC(r,e.layoutBox,t)&&uo(p=>{const v=a?e.measuredBox[p]:e.layoutBox[p],x=ea(t[p]);v.max=v.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+x)});const l=If();Ap(l,t,e.layoutBox);const u=If();a?Ap(u,n.applyTransform(i,!0),e.measuredBox):Ap(u,t,e.layoutBox);const h=!SC(l);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:x}=p;if(v&&x){const w=Fr();C1(w,e.layoutBox,v.layoutBox);const N=Fr();C1(N,t,x.layoutBox),AC(w,N)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=w,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function QU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function JU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ZU(n){n.clearSnapshot()}function xS(n){n.clearMeasurements()}function SS(n){n.isLayoutDirty=!1}function ez(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function AS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function tz(n){n.resolveTargetDelta()}function nz(n){n.calcProjection()}function iz(n){n.resetSkewAndRotation()}function rz(n){n.removeLeadSnapshot()}function TS(n,e,t){n.translate=Hi(e.translate,0,t),n.scale=Hi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ES(n,e,t,i){n.min=Hi(e.min,t.min,i),n.max=Hi(e.max,t.max,i)}function sz(n,e,t,i){ES(n.x,e.x,t.x,i),ES(n.y,e.y,t.y,i)}function az(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const oz={duration:.45,ease:[.4,0,.1,1]},NS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),CS=NS("applewebkit/")&&!NS("chrome/")?Math.round:mo;function RS(n){n.min=CS(n.min),n.max=CS(n.max)}function lz(n){RS(n.x),RS(n.y)}function RC(n,e,t){return n==="position"||n==="preserve-aspect"&&!LU(yS(e),yS(t),.2)}function cz(n){return n!==n.root&&n.scroll?.wasRoot}const uz=CC({attachResizeListener:(n,e)=>Hp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xy={current:void 0},IC=CC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xy.current){const n=new uz({});n.mount(window),n.setOptions({layoutScroll:!0}),xy.current=n}return xy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Wb=$.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function IS(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function hz(...n){return e=>{let t=!1;const i=n.map(r=>{const a=IS(r,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():IS(n[r],null)}}}}function fz(...n){return $.useCallback(hz(...n),n)}class dz extends $.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=Z8(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pz({children:n,isPresent:e,anchorX:t,root:i}){const r=$.useId(),a=$.useRef(null),l=$.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=$.useContext(Wb),h=n.props?.ref??n?.ref,f=fz(a,h);return $.useInsertionEffect(()=>{const{width:p,height:v,top:x,left:w,right:N}=l.current;if(e||!a.current||!p||!v)return;const L=t==="left"?`left: ${w}`:`right: ${N}`;a.current.dataset.motionPopId=r;const I=document.createElement("style");u&&(I.nonce=u);const j=i??document.head;return j.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${L}px !important;
            top: ${x}px !important;
          }
        `),()=>{j.contains(I)&&j.removeChild(I)}},[e]),y.jsx(dz,{isPresent:e,childRef:a,sizeRef:l,children:$.cloneElement(n,{ref:f})})}const mz=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:l,anchorX:u,root:h})=>{const f=vb(gz),p=$.useId();let v=!0,x=$.useMemo(()=>(v=!1,{id:p,initial:e,isPresent:t,custom:r,onExitComplete:w=>{f.set(w,!0);for(const N of f.values())if(!N)return;i&&i()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[t,f,i]);return a&&v&&(x={...x}),$.useMemo(()=>{f.forEach((w,N)=>f.set(N,!1))},[t]),$.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),l==="popLayout"&&(n=y.jsx(pz,{isPresent:t,anchorX:u,root:h,children:n})),y.jsx(b0.Provider,{value:x,children:n})};function gz(){return new Map}function LC(n=!0){const e=$.useContext(b0);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=$.useId();$.useEffect(()=>{if(n)return r(a)},[n]);const l=$.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,l]:[!0]}const _g=n=>n.key||"";function LS(n){const e=[];return $.Children.forEach(n,t=>{$.isValidElement(t)&&e.push(t)}),e}const $b=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[f,p]=LC(l),v=$.useMemo(()=>LS(n),[n]),x=l&&!f?[]:v.map(_g),w=$.useRef(!0),N=$.useRef(v),L=vb(()=>new Map),I=$.useRef(new Set),[j,X]=$.useState(v),[Y,Z]=$.useState(v);l8(()=>{w.current=!1,N.current=v;for(let U=0;U<Y.length;U++){const M=_g(Y[U]);x.includes(M)?(L.delete(M),I.current.delete(M)):L.get(M)!==!0&&L.set(M,!1)}},[Y,x.length,x.join("-")]);const ae=[];if(v!==j){let U=[...v];for(let M=0;M<Y.length;M++){const k=Y[M],W=_g(k);x.includes(W)||(U.splice(M,0,k),ae.push(k))}return a==="wait"&&ae.length&&(U=ae),Z(LS(U)),X(v),null}const{forceRender:ge}=$.useContext(yb);return y.jsx(y.Fragment,{children:Y.map(U=>{const M=_g(U),k=l&&!f?!1:v===Y||x.includes(M),W=()=>{if(I.current.has(M))return;if(I.current.add(M),L.has(M))L.set(M,!0);else return;let E=!0;L.forEach(R=>{R||(E=!1)}),E&&(ge?.(),Z(N.current),l&&p?.(),i&&i())};return y.jsx(mz,{isPresent:k,initial:!w.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:h,onExitComplete:k?void 0:W,anchorX:u,children:U},M)})})},DC=$.createContext({strict:!1}),DS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let jS=!1;function yz(){if(jS)return;const n={};for(const e in DS)n[e]={isEnabled:t=>DS[e].some(i=>!!t[i])};oC(n),jS=!0}function jC(){return yz(),iU()}function vz(n){const e=jC();for(const t in n)e[t]={...e[t],...n[t]};oC(e)}const bz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bz.has(n)}let PC=n=>!R1(n);function wz(n){typeof n=="function"&&(PC=e=>e.startsWith("on")?!R1(e):n(e))}try{wz(require("@emotion/is-prop-valid").default)}catch{}function _z(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(PC(r)||t===!0&&R1(r)||!e&&!R1(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const x0=$.createContext({});function xz(n,e){if(_0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||qp(t)?t:void 0,animate:qp(i)?i:void 0}}return n.inherit!==!1?e:{}}function Sz(n){const{initial:e,animate:t}=xz(n,$.useContext(x0));return $.useMemo(()=>({initial:e,animate:t}),[PS(e),PS(t)])}function PS(n){return Array.isArray(n)?n.join(" "):n}const Kb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kC(n,e,t){for(const i in e)!Fs(e[i])&&!pC(i,t)&&(n[i]=e[i])}function Az({transformTemplate:n},e){return $.useMemo(()=>{const t=Kb();return Hb(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Tz(n,e){const t=n.style||{},i={};return kC(i,t,n),Object.assign(i,Az(n,e)),i}function Ez(n,e){const t={},i=Tz(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const MC=()=>({...Kb(),attrs:{}});function Nz(n,e,t,i){const r=$.useMemo(()=>{const a=MC();return mC(a,e,yC(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};kC(a,n.style,n),r.style={...a,...r.style}}return r}const Cz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yb(n){return typeof n!="string"||n.includes("-")?!1:!!(Cz.indexOf(n)>-1||/[A-Z]/u.test(n))}function Rz(n,e,t,{latestValues:i},r,a=!1,l){const h=(l??Yb(n)?Nz:Ez)(e,i,r,n),f=_z(e,typeof n=="string",a),p=n!==$.Fragment?{...f,...h,ref:t}:{},{children:v}=e,x=$.useMemo(()=>Fs(v)?v.get():v,[v]);return $.createElement(n,{...p,children:x})}function Iz({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:Lz(t,i,r,n),renderState:e()}}function Lz(n,e,t,i){const r={},a=i(n,{});for(const x in a)r[x]=Wg(a[x]);let{initial:l,animate:u}=n;const h=_0(n),f=aC(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=t?t.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!w0(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const N=Ob(n,x[w]);if(N){const{transitionEnd:L,transition:I,...j}=N;for(const X in j){let Y=j[X];if(Array.isArray(Y)){const Z=p?Y.length-1:0;Y=Y[Z]}Y!==null&&(r[X]=Y)}for(const X in L)r[X]=L[X]}}}return r}const OC=n=>(e,t)=>{const i=$.useContext(x0),r=$.useContext(b0),a=()=>Iz(n,e,i,r);return t?a():vb(a)},Dz=OC({scrapeMotionValuesFromProps:Gb,createRenderState:Kb}),jz=OC({scrapeMotionValuesFromProps:vC,createRenderState:MC}),Pz=Symbol.for("motionComponentSymbol");function kz(n,e,t){const i=$.useRef(t);$.useInsertionEffect(()=>{i.current=t});const r=$.useRef(null);return $.useCallback(a=>{a&&n.onMount?.(a),e&&(a?e.mount(a):e.unmount());const l=i.current;if(typeof l=="function")if(a){const u=l(a);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):l(a);else l&&(l.current=a)},[e])}const VC=$.createContext({});function pp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Mz(n,e,t,i,r,a){const{visualElement:l}=$.useContext(x0),u=$.useContext(DC),h=$.useContext(b0),f=$.useContext(Wb).reducedMotion,p=$.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:l,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f,isSVG:a}));const v=p.current,x=$.useContext(VC);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&Oz(p.current,t,r,x);const w=$.useRef(!1);$.useInsertionEffect(()=>{v&&w.current&&v.update(t,h)});const N=t[G8],L=$.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return l8(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),$.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),L.current=!1),v.enteringChildren=void 0)}),v}function Oz(n,e,t,i){const{layoutId:r,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:BC(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||u&&pp(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function BC(n){if(n)return n.options.allowProjection!==!1?n.projection:BC(n.parent)}function Sy(n,{forwardMotionProps:e=!1,type:t}={},i,r){i&&vz(i);const a=t?t==="svg":Yb(n),l=a?jz:Dz;function u(f,p){let v;const x={...$.useContext(Wb),...f,layoutId:Vz(f)},{isStatic:w}=x,N=Sz(f),L=l(f,w);if(!w&&o8){Bz();const I=Fz(x);v=I.MeasureLayout,N.visualElement=Mz(n,L,x,r,I.ProjectionNode,a)}return y.jsxs(x0.Provider,{value:N,children:[v&&N.visualElement?y.jsx(v,{visualElement:N.visualElement,...x}):null,Rz(n,f,kz(L,N.visualElement,p),L,w,e,a)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=$.forwardRef(u);return h[Pz]=n,h}function Vz({layoutId:n}){const e=$.useContext(yb).id;return e&&n!==void 0?e+"-"+n:n}function Bz(n,e){$.useContext(DC).strict}function Fz(n){const e=jC(),{drag:t,layout:i}=e;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Uz(n,e){if(typeof Proxy>"u")return Sy;const t=new Map,i=(a,l)=>Sy(a,l,n,e),r=(a,l)=>i(a,l);return new Proxy(r,{get:(a,l)=>l==="create"?i:(t.has(l)||t.set(l,Sy(l,void 0,n,e)),t.get(l))})}const zz=(n,e)=>e.isSVG??Yb(n)?new wU(e):new pU(e,{allowProjection:n!==$.Fragment});class qz extends Uu{constructor(e){super(e),e.animationState||(e.animationState=TU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();w0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Hz=0;class Gz extends Uu{constructor(){super(...arguments),this.id=Hz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wz={animation:{Feature:qz},exit:{Feature:Gz}};function gm(n){return{point:{x:n.pageX,y:n.pageY}}}const $z=n=>e=>Ub(e)&&n(e,gm(e));function Tp(n,e,t,i){return Hp(n,e,$z(t),i)}const FC=({current:n})=>n?n.ownerDocument.defaultView:null,kS=(n,e)=>Math.abs(n-e);function Kz(n,e){const t=kS(n.x,e.x),i=kS(n.y,e.y);return Math.sqrt(t**2+i**2)}const MS=new Set(["auto","scroll"]);class UC{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ty(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,L=Kz(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!L)return;const{point:I}=w,{timestamp:j}=_s;this.history.push({...I,timestamp:j});const{onStart:X,onMove:Y}=this.handlers;N||(X&&X(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,w)},this.handlePointerMove=(w,N)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Ay(N,this.transformPagePoint),Ii.update(this.updatePoint,!0)},this.handlePointerUp=(w,N)=>{this.end();const{onEnd:L,onSessionEnd:I,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=Ty(w.type==="pointercancel"?this.lastMoveEventInfo:Ay(N,this.transformPagePoint),this.history);this.startEvent&&L&&L(w,X),I&&I(w,X)},!Ub(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=r||window;const h=gm(e),f=Ay(h,this.transformPagePoint),{point:p}=f,{timestamp:v}=_s;this.history=[{...p,timestamp:v}];const{onSessionStart:x}=t;x&&x(e,Ty(f,this.history)),this.removeListeners=dm(Tp(this.contextWindow,"pointermove",this.handlePointerMove),Tp(this.contextWindow,"pointerup",this.handlePointerUp),Tp(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let t=e.parentElement;for(;t;){const i=getComputedStyle(t);(MS.has(i.overflowX)||MS.has(i.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const i=e===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:r.x-t.x,y:r.y-t.y};a.x===0&&a.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,r),Ii.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Du(this.updatePoint)}}function Ay(n,e){return e?{point:e(n.point)}:n}function OS(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Ty({point:n},e){return{point:n,delta:OS(n,zC(e)),offset:OS(n,Yz(e)),velocity:Xz(e,.1)}}function Yz(n){return n[0]}function zC(n){return n[n.length-1]}function Xz(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=zC(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>bc(e)));)t--;if(!i)return{x:0,y:0};const a=ho(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Qz(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Hi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Hi(t,n,i.max):Math.min(n,t)),n}function VS(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Jz(n,{top:e,left:t,bottom:i,right:r}){return{x:VS(n.x,t,r),y:VS(n.y,e,i)}}function BS(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Zz(n,e){return{x:BS(n.x,e.x),y:BS(n.y,e.y)}}function eq(n,e){let t=.5;const i=ea(n),r=ea(e);return r>i?t=Fp(e.min,e.max-i,n.min):i>r&&(t=Fp(n.min,n.max-r,e.min)),Dl(0,1,t)}function tq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Jv=.35;function nq(n=Jv){return n===!1?n=0:n===!0&&(n=Jv),{x:FS(n,"left","right"),y:FS(n,"top","bottom")}}function FS(n,e,t){return{min:US(n,e),max:US(n,t)}}function US(n,e){return typeof n=="number"?n:n[e]||0}const iq=new WeakMap;class rq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{t?(this.stopAnimation(),this.snapToCursor(gm(v).point)):this.pauseAnimation()},l=(v,x)=>{this.stopAnimation();const{drag:w,dragPropagation:N,onDragStart:L}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GF(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uo(j=>{let X=this.getAxisMotionValue(j).get()||0;if(Il.test(X)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const Z=Y.layout.layoutBox[j];Z&&(X=ea(Z)*(parseFloat(X)/100))}}this.originPoint[j]=X}),L&&Ii.postRender(()=>L(v,x)),Gv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:L,onDrag:I}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=x;if(N&&this.currentDirection===null){this.currentDirection=sq(j),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),I&&I(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>uo(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new UC(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:FC(this.visualElement),element:this.visualElement.current})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Ii.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!xg(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=Qz(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&pp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Jz(i.layoutBox,e):this.constraints=!1,this.elastic=nq(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&uo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=tq(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!pp(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=lU(i,r.root,this.visualElement.getTransformPagePoint());let l=Zz(r.layout.layoutBox,a);if(t){const u=t(sU(l));this.hasMutatedConstraints=!!u,u&&(l=cC(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=uo(p=>{if(!xg(p,t,this.currentDirection))return;let v=h&&h[p]||{};l&&(v={min:0,max:0});const x=r?200:1e6,w=r?40:1e7,N={type:"inertia",velocity:i?e[p]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(p,N)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Gv(this.visualElement,e),i.start(Mb(e,i,0,t,this.visualElement,!1))}stopAnimation(){uo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){uo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){uo(t=>{const{drag:i}=this.getProps();if(!xg(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[t],h=a.get()||0;a.set(e[t]-Hi(l,u,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!pp(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};uo(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=eq({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),uo(l=>{if(!xg(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(Hi(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;iq.set(this.visualElement,this);const e=this.visualElement.current,t=Tp(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&!iC(h.target)&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();pp(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ii.read(i);const l=Hp(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(uo(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=h[p].translate,v.set(v.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=Jv,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function xg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function sq(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class aq extends Uu{constructor(e){super(e),this.removeGroupControls=mo,this.removeListeners=mo,this.controls=new rq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mo}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const zS=n=>(e,t)=>{n&&Ii.postRender(()=>n(e,t))};class oq extends Uu{constructor(){super(...arguments),this.removePointerDownListener=mo}onPointerDown(e){this.session=new UC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:zS(e),onStart:zS(t),onMove:i,onEnd:(a,l)=>{delete this.session,r&&Ii.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=Tp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ey=!1;class lq extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),Ey&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$g.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,Ey=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ii.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;Ey=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qC(n){const[e,t]=LC(),i=$.useContext(yb);return y.jsx(lq,{...n,layoutGroup:i,switchLayoutGroup:$.useContext(VC),isPresent:e,safeToRemove:t})}const cq={pan:{Feature:oq},drag:{Feature:aq,ProjectionNode:IC,MeasureLayout:qC}};function qS(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&Ii.postRender(()=>a(e,gm(e)))}class uq extends Uu{mount(){const{current:e}=this.node;e&&(this.unmount=WF(e,(t,i)=>(qS(this.node,i,"Start"),r=>qS(this.node,r,"End"))))}unmount(){}}class hq extends Uu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dm(Hp(this.node.current,"focus",()=>this.onFocus()),Hp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HS(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&Ii.postRender(()=>a(e,gm(e)))}class fq extends Uu{mount(){const{current:e}=this.node;e&&(this.unmount=YF(e,(t,i)=>(HS(this.node,i,"Start"),(r,{success:a})=>HS(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zv=new WeakMap,Ny=new WeakMap,dq=n=>{const e=Zv.get(n.target);e&&e(n)},pq=n=>{n.forEach(dq)};function mq({root:n,...e}){const t=n||document;Ny.has(t)||Ny.set(t,{});const i=Ny.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(pq,{root:n,...e})),i[r]}function gq(n,e,t){const i=mq(e);return Zv.set(n,t),i.observe(n),()=>{Zv.delete(n),i.unobserve(n)}}const yq={some:0,all:1};class vq extends Uu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:yq[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=f?p:v;x&&x(h)};return gq(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(bq(e,t))&&this.startObserver()}unmount(){}}function bq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const wq={inView:{Feature:vq},tap:{Feature:fq},focus:{Feature:hq},hover:{Feature:uq}},_q={layout:{ProjectionNode:IC,MeasureLayout:qC}},xq={...Wz,...wq,...cq,..._q},pn=Uz(xq,zz),e5=()=>y.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100%",minHeight:"300px"},children:y.jsx(pn.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360],borderRadius:["20%","20%","50%","50%","20%"]},transition:{duration:2,ease:"easeInOut",times:[0,.2,.5,.8,1],repeat:1/0,repeatDelay:1},style:{width:50,height:50,background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)"}})}),HC=$.createContext(),pd=()=>$.useContext(HC),Sq=({children:n})=>{const[e,t]=$.useState(null),[i,r]=$.useState(!0);$.useEffect(()=>{const f=NO(ip,p=>{t(p),r(!1)});return()=>f()},[]);const a=(f,p)=>SO(ip,f,p),l=(f,p)=>AO(ip,f,p),u=()=>CO(ip),h=()=>{const f=new hc;return KO(ip,f)};return y.jsx(HC.Provider,{value:{user:e,signup:a,login:l,logout:u,loginWithGoogle:h},children:i?y.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",style:{background:"#0f172a"},children:y.jsx(e5,{})}):n})},GC=$.createContext(),Er=()=>$.useContext(GC),Aq=({children:n})=>{const{user:e}=pd(),[t,i]=$.useState([]),[r,a]=$.useState([]),[l,u]=$.useState([]),[h,f]=$.useState([]),[p,v]=$.useState([]),[x,w]=$.useState([]),[N,L]=$.useState([]),[I,j]=$.useState([]),[X,Y]=$.useState([]),[Z,ae]=$.useState(!0),[ge,U]=$.useState({totalBalance:0,totalSpent:0,totalRemaining:0});$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"categories"),xl("uid","==",e.uid)),Ce=Sl(be,async je=>{if(je.empty){const Pe=[{id:"Food",label:"Food & Meals",icon:"",color:"#3b82f6",isDefault:!0},{id:"Groceries",label:"Groceries",icon:"",color:"#10b981",isDefault:!0},{id:"Travel",label:"Travel & Transport",icon:"",color:"#f59e0b",isDefault:!0},{id:"Medicine",label:"Health & Medicine",icon:"",color:"#ef4444",isDefault:!0},{id:"Stationery",label:"Education & Stationery",icon:"",color:"#8b5cf6",isDefault:!0},{id:"Other",label:"Miscellaneous",icon:"",color:"#64748b",isDefault:!0}];for(const H of Pe)await Bg(gi(mn,"categories",`${e.uid}_${H.id}`),{...H,uid:e.uid,createdAt:wl()})}else{const Pe=je.docs.map(H=>({dbId:H.id,...H.data()})).sort((H,qe)=>(H.createdAt?.seconds||0)-(qe.createdAt?.seconds||0));Y(Pe)}});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"wallets"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>(qe.createdAt?.seconds||0)-(H.createdAt?.seconds||0));i(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"budgets"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()}));j(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"incomes"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>new Date(qe.date)-new Date(H.date));f(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"transfers"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>new Date(qe.date)-new Date(H.date));v(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"goals"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>(qe.createdAt?.seconds||0)-(H.createdAt?.seconds||0));w(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"meals"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>new Date(qe.date)-new Date(H.date));a(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"purchases"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>new Date(qe.date)-new Date(H.date));u(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e)return;const be=_l(ws(mn,"goal_deposits"),xl("uid","==",e.uid)),Ce=Sl(be,je=>{const Pe=je.docs.map(H=>({id:H.id,...H.data()})).sort((H,qe)=>(qe.createdAt?.seconds||0)-(H.createdAt?.seconds||0));L(Pe)});return()=>Ce()},[e]),$.useEffect(()=>{if(!e){ae(!1);return}const be=t.filter(H=>H.type!=="liability").reduce((H,qe)=>H+Number(qe.balance),0),Ce=t.filter(H=>H.type==="liability").reduce((H,qe)=>H+Number(qe.balance),0),je=r.reduce((H,qe)=>H+Number(qe.amount),0)+l.reduce((H,qe)=>H+Number(qe.amount),0),Pe=be+Ce;U({totalBalance:Pe,totalSpent:je,totalRemaining:Pe-je}),ae(!1)},[t,r,l,h,e]);const M=()=>{const be={};return r.forEach(Ce=>be[Ce.walletId]=(be[Ce.walletId]||0)+Number(Ce.amount)),l.forEach(Ce=>be[Ce.walletId]=(be[Ce.walletId]||0)+Number(Ce.amount)),t.map(Ce=>{const je=be[Ce.id]||0,Pe=Number(Ce.balance);return{...Ce,spent:je,remaining:Ce.type==="liability"?je-Pe:Pe-je}})},k=async(be,Ce,je)=>{const Pe=be.replace(/\s+/g,"");await Bg(gi(mn,"categories",`${e.uid}_${Pe}`),{uid:e.uid,id:Pe,label:be,icon:Ce,color:je,isDefault:!1,createdAt:wl()})},W=async(be,Ce)=>{await Uo(gi(mn,"categories",be));const je=`${e.uid}_${Ce}`;await Uo(gi(mn,"budgets",je))},E=async(be,Ce,je="asset")=>{await lu(ws(mn,"wallets"),{uid:e.uid,name:be,balance:Number(Ce),type:je,createdAt:wl()})},R=async be=>{await Uo(gi(mn,"wallets",be))},B=async be=>{const Ce=Number(be.amount);await lu(ws(mn,"incomes"),{uid:e.uid,...be,amount:Ce,createdAt:wl()});const je=t.find(Pe=>Pe.id===be.walletId);je&&await Js(gi(mn,"wallets",be.walletId),{balance:Number(je.balance)+Ce})},ce=async(be,Ce,je)=>{await Uo(gi(mn,"incomes",be));const Pe=t.find(H=>H.id===Ce);Pe&&await Js(gi(mn,"wallets",Ce),{balance:Number(Pe.balance)-Number(je)})},Ae=async(be,Ce,je)=>{const Pe=Number(je),H=t.find(ot=>ot.id===be),qe=t.find(ot=>ot.id===Ce);H&&qe&&(await Js(gi(mn,"wallets",be),{balance:Number(H.balance)-Pe}),await Js(gi(mn,"wallets",Ce),{balance:Number(qe.balance)+Pe}),await lu(ws(mn,"transfers"),{uid:e.uid,sourceId:be,destId:Ce,sourceName:H.name,destName:qe.name,amount:Pe,date:new Date().toISOString().split("T")[0],createdAt:wl()}))},oe=async(be,Ce,je,Pe)=>{await Uo(gi(mn,"transfers",be));const H=t.find(lt=>lt.id===Ce),qe=t.find(lt=>lt.id===je),ot=Number(Pe);H&&await Js(gi(mn,"wallets",Ce),{balance:Number(H.balance)+ot}),qe&&await Js(gi(mn,"wallets",je),{balance:Number(qe.balance)-ot})},me=async be=>{await lu(ws(mn,"goals"),{uid:e.uid,...be,targetAmount:Number(be.targetAmount),savedAmount:Number(be.savedAmount),createdAt:wl()})},se=async(be,Ce)=>{await Js(gi(mn,"goals",be),{...Ce,targetAmount:Number(Ce.targetAmount),savedAmount:Number(Ce.savedAmount)})},Ne=async be=>{await Uo(gi(mn,"goals",be))},ue=async(be,Ce,je)=>{const Pe=Number(je),H=x.find(ot=>ot.id===be);await lu(ws(mn,"goal_deposits"),{uid:e.uid,goalId:be,walletId:Ce,goalName:H?H.name:"Unknown Goal",amount:Pe,date:new Date().toISOString().split("T")[0],createdAt:wl()}),H&&await Js(gi(mn,"goals",be),{savedAmount:Number(H.savedAmount)+Pe});const qe=t.find(ot=>ot.id===Ce);qe&&await Js(gi(mn,"wallets",Ce),{balance:Number(qe.balance)-Pe})},V=async(be,Ce,je,Pe)=>{await Uo(gi(mn,"goal_deposits",be));const H=t.find(lt=>lt.id===je),qe=x.find(lt=>lt.id===Ce),ot=Number(Pe);H&&await Js(gi(mn,"wallets",je),{balance:Number(H.balance)+ot}),qe&&await Js(gi(mn,"goals",Ce),{savedAmount:Number(qe.savedAmount)-ot})},P=async be=>{await lu(ws(mn,"meals"),{uid:e.uid,...be,amount:Number(be.amount),createdAt:wl()})},G=async be=>{await Uo(gi(mn,"meals",be))},K=async(be,Ce)=>{await Js(gi(mn,"meals",be),{...Ce,amount:Number(Ce.amount)})},re=async be=>{await lu(ws(mn,"purchases"),{uid:e.uid,...be,amount:Number(be.amount),createdAt:wl()})},de=async be=>{await Uo(gi(mn,"purchases",be))},pe=async(be,Ce)=>{await Js(gi(mn,"purchases",be),{...Ce,amount:Number(Ce.amount)})},xe=async(be,Ce)=>{const je=`${e.uid}_${be}`,Pe=gi(mn,"budgets",je),{getDoc:H}=await jg(async()=>{const{getDoc:ot}=await Promise.resolve().then(()=>AM);return{getDoc:ot}},void 0);(await H(Pe)).exists()?await Js(Pe,{limit:Number(Ce)}):await Bg(Pe,{uid:e.uid,id:be,limit:Number(Ce)})},Te=async be=>{await Uo(gi(mn,"budgets",be))},Ve=()=>{const be={};return[...r.map(je=>({label:je.item,amount:je.amount,type:"meal",cat:"Food",mType:je.mealType})),...l.map(je=>({label:je.item,amount:je.amount,type:"purchase",cat:je.category}))].forEach(je=>{const Pe=`${je.label}_${je.amount}`;be[Pe]||(be[Pe]={...je,count:0}),be[Pe].count++}),Object.values(be).sort((je,Pe)=>Pe.count-je.count).slice(0,10)};return y.jsx(GC.Provider,{value:{wallets:M(),meals:r,purchases:l,incomes:h,transfers:p,goals:x,goalDeposits:N,budgets:I,categories:X,globalStats:ge,loading:Z,getSmartRecents:Ve,addCategory:k,deleteCategory:W,addWallet:E,deleteWallet:R,addGoal:me,updateGoal:se,deleteGoal:Ne,depositToGoal:ue,addMeal:P,deleteMeal:G,updateMeal:K,addPurchase:re,deletePurchase:de,updatePurchase:pe,updateBudget:xe,deleteBudget:Te,addIncome:B,deleteIncome:ce,transferFunds:Ae,deleteTransfer:oe,deleteGoalDeposit:V},children:n})},WC=$.createContext(),Dh=()=>$.useContext(WC),Tq=({children:n})=>{const[e,t]=$.useState(()=>localStorage.getItem("theme")==="dark");$.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),e?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[e]);const i=()=>t(r=>!r);return y.jsx(WC.Provider,{value:{isDarkMode:e,toggleTheme:i},children:n})};var $C={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},GS=Ss.createContext&&Ss.createContext($C),Eq=["attr","size","title"];function Nq(n,e){if(n==null)return{};var t=Cq(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Cq(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function I1(){return I1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},I1.apply(this,arguments)}function WS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function L1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(t),!0).forEach(function(i){Rq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Rq(n,e,t){return e=Iq(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Iq(n){var e=Lq(n,"string");return typeof e=="symbol"?e:e+""}function Lq(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KC(n){return n&&n.map((e,t)=>Ss.createElement(e.tag,L1({key:t},e.attr),KC(e.child)))}function En(n){return e=>Ss.createElement(Dq,I1({attr:L1({},n.attr)},e),KC(n.child))}function Dq(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=Nq(n,Eq),u=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ss.createElement("svg",I1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:L1(L1({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Ss.createElement("title",null,a),n.children)};return GS!==void 0?Ss.createElement(GS.Consumer,null,t=>e(t)):e($C)}function jq(n){return En({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function YC(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function Pq(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function kq(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function Mq(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function Oq(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function XC(n){return En({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(n)}function Vq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function Bq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function QC(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Xb(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Fq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function Ep(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(n)}function JC(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function ZC(n){return En({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function eR(n){return En({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function Uq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(n)}function ym(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function zq(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function qq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(n)}function Qb(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(n)}function Gp(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"},child:[]}]})(n)}function Hq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(n)}function S0(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function Gq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function Wq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function tR(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(n)}function $q(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function Jb(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function Zb(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function Kq(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function Yq(n){return En({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function A0(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Xq(n){return En({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Qq(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function nR(n){return En({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(n)}function Pu(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}const yh=(n="pop")=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const t=new e,i=t.createOscillator(),r=t.createGain();i.connect(r),r.connect(t.destination);const a=t.currentTime;n==="pop"?(i.type="sine",i.frequency.setValueAtTime(440,a),i.frequency.exponentialRampToValueAtTime(880,a+.1),r.gain.setValueAtTime(.1,a),r.gain.exponentialRampToValueAtTime(.01,a+.1),i.start(a),i.stop(a+.1)):n==="success"?(i.type="triangle",i.frequency.setValueAtTime(523.25,a),i.frequency.setValueAtTime(659.25,a+.1),r.gain.setValueAtTime(.1,a),r.gain.linearRampToValueAtTime(0,a+.3),i.start(a),i.stop(a+.3)):n==="error"&&(i.type="sawtooth",i.frequency.setValueAtTime(150,a),r.gain.setValueAtTime(.1,a),r.gain.linearRampToValueAtTime(0,a+.2),i.start(a),i.stop(a+.2))}catch(e){console.error("Audio play failed",e)}},ew=({show:n,onHide:e,onConfirm:t,title:i,message:r,confirmText:a="Delete",variant:l="danger"})=>($.useEffect(()=>{n&&yh("error")},[n]),y.jsx($t,{show:n,onHide:e,centered:!0,contentClassName:"border-0 shadow-lg rounded-4",children:y.jsxs($t.Body,{className:"p-4 text-center",children:[y.jsx(pn.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:`bg-${l} bg-opacity-10 text-${l} rounded-circle d-inline-flex p-3 mb-3`,children:y.jsx(JC,{size:30})}),y.jsx("h5",{className:"fw-bold mb-2",children:i||"Are you sure?"}),y.jsx("p",{className:"text-muted mb-4",children:r||"This action cannot be undone."}),y.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[y.jsx(Mt,{variant:"light",className:"rounded-pill px-4 fw-medium",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:l,className:"rounded-pill px-4 fw-medium text-white shadow-sm",onClick:()=>{t(),e()},children:a})]})]})}));var tw={};(function n(e,t,i,r){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=(function(){if(!e.OffscreenCanvas)return!1;try{var ue=new OffscreenCanvas(1,1),V=ue.getContext("2d");V.fillRect(0,0,1,1);var P=ue.transferToImageBitmap();V.createPattern(P,"no-repeat")}catch{return!1}return!0})();function h(){}function f(ue){var V=t.exports.Promise,P=V!==void 0?V:e.Promise;return typeof P=="function"?new P(ue):(ue(h,h),null)}var p=(function(ue,V){return{transform:function(P){if(ue)return P;if(V.has(P))return V.get(P);var G=new OffscreenCanvas(P.width,P.height),K=G.getContext("2d");return K.drawImage(P,0,0),V.set(P,G),G},clear:function(){V.clear()}}})(u,new Map),v=(function(){var ue=Math.floor(16.666666666666668),V,P,G={},K=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(V=function(re){var de=Math.random();return G[de]=requestAnimationFrame(function pe(xe){K===xe||K+ue-1<xe?(K=xe,delete G[de],re()):G[de]=requestAnimationFrame(pe)}),de},P=function(re){G[re]&&cancelAnimationFrame(G[re])}):(V=function(re){return setTimeout(re,ue)},P=function(re){return clearTimeout(re)}),{frame:V,cancel:P}})(),x=(function(){var ue,V,P={};function G(K){function re(de,pe){K.postMessage({options:de||{},callback:pe})}K.init=function(pe){var xe=pe.transferControlToOffscreen();K.postMessage({canvas:xe},[xe])},K.fire=function(pe,xe,Te){if(V)return re(pe,null),V;var Ve=Math.random().toString(36).slice(2);return V=f(function(be){function Ce(je){je.data.callback===Ve&&(delete P[Ve],K.removeEventListener("message",Ce),V=null,p.clear(),Te(),be())}K.addEventListener("message",Ce),re(pe,Ve),P[Ve]=Ce.bind(null,{data:{callback:Ve}})}),V},K.reset=function(){K.postMessage({reset:!0});for(var pe in P)P[pe](),delete P[pe]}}return function(){if(ue)return ue;if(!i&&a){var K=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{ue=new Worker(URL.createObjectURL(new Blob([K])))}catch(re){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",re),null}G(ue)}return ue}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(ue,V){return V?V(ue):ue}function L(ue){return ue!=null}function I(ue,V,P){return N(ue&&L(ue[V])?ue[V]:w[V],P)}function j(ue){return ue<0?0:Math.floor(ue)}function X(ue,V){return Math.floor(Math.random()*(V-ue))+ue}function Y(ue){return parseInt(ue,16)}function Z(ue){return ue.map(ae)}function ae(ue){var V=String(ue).replace(/[^0-9a-f]/gi,"");return V.length<6&&(V=V[0]+V[0]+V[1]+V[1]+V[2]+V[2]),{r:Y(V.substring(0,2)),g:Y(V.substring(2,4)),b:Y(V.substring(4,6))}}function ge(ue){var V=I(ue,"origin",Object);return V.x=I(V,"x",Number),V.y=I(V,"y",Number),V}function U(ue){ue.width=document.documentElement.clientWidth,ue.height=document.documentElement.clientHeight}function M(ue){var V=ue.getBoundingClientRect();ue.width=V.width,ue.height=V.height}function k(ue){var V=document.createElement("canvas");return V.style.position="fixed",V.style.top="0px",V.style.left="0px",V.style.pointerEvents="none",V.style.zIndex=ue,V}function W(ue,V,P,G,K,re,de,pe,xe){ue.save(),ue.translate(V,P),ue.rotate(re),ue.scale(G,K),ue.arc(0,0,1,de,pe,xe),ue.restore()}function E(ue){var V=ue.angle*(Math.PI/180),P=ue.spread*(Math.PI/180);return{x:ue.x,y:ue.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:ue.startVelocity*.5+Math.random()*ue.startVelocity,angle2D:-V+(.5*P-Math.random()*P),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:ue.color,shape:ue.shape,tick:0,totalTicks:ue.ticks,decay:ue.decay,drift:ue.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:ue.gravity*3,ovalScalar:.6,scalar:ue.scalar,flat:ue.flat}}function R(ue,V){V.x+=Math.cos(V.angle2D)*V.velocity+V.drift,V.y+=Math.sin(V.angle2D)*V.velocity+V.gravity,V.velocity*=V.decay,V.flat?(V.wobble=0,V.wobbleX=V.x+10*V.scalar,V.wobbleY=V.y+10*V.scalar,V.tiltSin=0,V.tiltCos=0,V.random=1):(V.wobble+=V.wobbleSpeed,V.wobbleX=V.x+10*V.scalar*Math.cos(V.wobble),V.wobbleY=V.y+10*V.scalar*Math.sin(V.wobble),V.tiltAngle+=.1,V.tiltSin=Math.sin(V.tiltAngle),V.tiltCos=Math.cos(V.tiltAngle),V.random=Math.random()+2);var P=V.tick++/V.totalTicks,G=V.x+V.random*V.tiltCos,K=V.y+V.random*V.tiltSin,re=V.wobbleX+V.random*V.tiltCos,de=V.wobbleY+V.random*V.tiltSin;if(ue.fillStyle="rgba("+V.color.r+", "+V.color.g+", "+V.color.b+", "+(1-P)+")",ue.beginPath(),l&&V.shape.type==="path"&&typeof V.shape.path=="string"&&Array.isArray(V.shape.matrix))ue.fill(me(V.shape.path,V.shape.matrix,V.x,V.y,Math.abs(re-G)*.1,Math.abs(de-K)*.1,Math.PI/10*V.wobble));else if(V.shape.type==="bitmap"){var pe=Math.PI/10*V.wobble,xe=Math.abs(re-G)*.1,Te=Math.abs(de-K)*.1,Ve=V.shape.bitmap.width*V.scalar,be=V.shape.bitmap.height*V.scalar,Ce=new DOMMatrix([Math.cos(pe)*xe,Math.sin(pe)*xe,-Math.sin(pe)*Te,Math.cos(pe)*Te,V.x,V.y]);Ce.multiplySelf(new DOMMatrix(V.shape.matrix));var je=ue.createPattern(p.transform(V.shape.bitmap),"no-repeat");je.setTransform(Ce),ue.globalAlpha=1-P,ue.fillStyle=je,ue.fillRect(V.x-Ve/2,V.y-be/2,Ve,be),ue.globalAlpha=1}else if(V.shape==="circle")ue.ellipse?ue.ellipse(V.x,V.y,Math.abs(re-G)*V.ovalScalar,Math.abs(de-K)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI):W(ue,V.x,V.y,Math.abs(re-G)*V.ovalScalar,Math.abs(de-K)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI);else if(V.shape==="star")for(var Pe=Math.PI/2*3,H=4*V.scalar,qe=8*V.scalar,ot=V.x,lt=V.y,Ge=5,rt=Math.PI/Ge;Ge--;)ot=V.x+Math.cos(Pe)*qe,lt=V.y+Math.sin(Pe)*qe,ue.lineTo(ot,lt),Pe+=rt,ot=V.x+Math.cos(Pe)*H,lt=V.y+Math.sin(Pe)*H,ue.lineTo(ot,lt),Pe+=rt;else ue.moveTo(Math.floor(V.x),Math.floor(V.y)),ue.lineTo(Math.floor(V.wobbleX),Math.floor(K)),ue.lineTo(Math.floor(re),Math.floor(de)),ue.lineTo(Math.floor(G),Math.floor(V.wobbleY));return ue.closePath(),ue.fill(),V.tick<V.totalTicks}function B(ue,V,P,G,K){var re=V.slice(),de=ue.getContext("2d"),pe,xe,Te=f(function(Ve){function be(){pe=xe=null,de.clearRect(0,0,G.width,G.height),p.clear(),K(),Ve()}function Ce(){i&&!(G.width===r.width&&G.height===r.height)&&(G.width=ue.width=r.width,G.height=ue.height=r.height),!G.width&&!G.height&&(P(ue),G.width=ue.width,G.height=ue.height),de.clearRect(0,0,G.width,G.height),re=re.filter(function(je){return R(de,je)}),re.length?pe=v.frame(Ce):be()}pe=v.frame(Ce),xe=be});return{addFettis:function(Ve){return re=re.concat(Ve),Te},canvas:ue,promise:Te,reset:function(){pe&&v.cancel(pe),xe&&xe()}}}function ce(ue,V){var P=!ue,G=!!I(V||{},"resize"),K=!1,re=I(V,"disableForReducedMotion",Boolean),de=a&&!!I(V||{},"useWorker"),pe=de?x():null,xe=P?U:M,Te=ue&&pe?!!ue.__confetti_initialized:!1,Ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,be;function Ce(Pe,H,qe){for(var ot=I(Pe,"particleCount",j),lt=I(Pe,"angle",Number),Ge=I(Pe,"spread",Number),rt=I(Pe,"startVelocity",Number),ct=I(Pe,"decay",Number),Nt=I(Pe,"gravity",Number),St=I(Pe,"drift",Number),Ht=I(Pe,"colors",Z),en=I(Pe,"ticks",Number),st=I(Pe,"shapes"),Yt=I(Pe,"scalar"),Xt=!!I(Pe,"flat"),gt=ge(Pe),Qt=ot,yt=[],oi=ue.width*gt.x,nn=ue.height*gt.y;Qt--;)yt.push(E({x:oi,y:nn,angle:lt,spread:Ge,startVelocity:rt,color:Ht[Qt%Ht.length],shape:st[X(0,st.length)],ticks:en,decay:ct,gravity:Nt,drift:St,scalar:Yt,flat:Xt}));return be?be.addFettis(yt):(be=B(ue,yt,xe,H,qe),be.promise)}function je(Pe){var H=re||I(Pe,"disableForReducedMotion",Boolean),qe=I(Pe,"zIndex",Number);if(H&&Ve)return f(function(rt){rt()});P&&be?ue=be.canvas:P&&!ue&&(ue=k(qe),document.body.appendChild(ue)),G&&!Te&&xe(ue);var ot={width:ue.width,height:ue.height};pe&&!Te&&pe.init(ue),Te=!0,pe&&(ue.__confetti_initialized=!0);function lt(){if(pe){var rt={getBoundingClientRect:function(){if(!P)return ue.getBoundingClientRect()}};xe(rt),pe.postMessage({resize:{width:rt.width,height:rt.height}});return}ot.width=ot.height=null}function Ge(){be=null,G&&(K=!1,e.removeEventListener("resize",lt)),P&&ue&&(document.body.contains(ue)&&document.body.removeChild(ue),ue=null,Te=!1)}return G&&!K&&(K=!0,e.addEventListener("resize",lt,!1)),pe?pe.fire(Pe,ot,Ge):Ce(Pe,ot,Ge)}return je.reset=function(){pe&&pe.reset(),be&&be.reset()},je}var Ae;function oe(){return Ae||(Ae=ce(null,{useWorker:!0,resize:!0})),Ae}function me(ue,V,P,G,K,re,de){var pe=new Path2D(ue),xe=new Path2D;xe.addPath(pe,new DOMMatrix(V));var Te=new Path2D;return Te.addPath(xe,new DOMMatrix([Math.cos(de)*K,Math.sin(de)*K,-Math.sin(de)*re,Math.cos(de)*re,P,G])),Te}function se(ue){if(!l)throw new Error("path confetti are not supported in this browser");var V,P;typeof ue=="string"?V=ue:(V=ue.path,P=ue.matrix);var G=new Path2D(V),K=document.createElement("canvas"),re=K.getContext("2d");if(!P){for(var de=1e3,pe=de,xe=de,Te=0,Ve=0,be,Ce,je=0;je<de;je+=2)for(var Pe=0;Pe<de;Pe+=2)re.isPointInPath(G,je,Pe,"nonzero")&&(pe=Math.min(pe,je),xe=Math.min(xe,Pe),Te=Math.max(Te,je),Ve=Math.max(Ve,Pe));be=Te-pe,Ce=Ve-xe;var H=10,qe=Math.min(H/be,H/Ce);P=[qe,0,0,qe,-Math.round(be/2+pe)*qe,-Math.round(Ce/2+xe)*qe]}return{type:"path",path:V,matrix:P}}function Ne(ue){var V,P=1,G="#000000",K='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof ue=="string"?V=ue:(V=ue.text,P="scalar"in ue?ue.scalar:P,K="fontFamily"in ue?ue.fontFamily:K,G="color"in ue?ue.color:G);var re=10*P,de=""+re+"px "+K,pe=new OffscreenCanvas(re,re),xe=pe.getContext("2d");xe.font=de;var Te=xe.measureText(V),Ve=Math.ceil(Te.actualBoundingBoxRight+Te.actualBoundingBoxLeft),be=Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent),Ce=2,je=Te.actualBoundingBoxLeft+Ce,Pe=Te.actualBoundingBoxAscent+Ce;Ve+=Ce+Ce,be+=Ce+Ce,pe=new OffscreenCanvas(Ve,be),xe=pe.getContext("2d"),xe.font=de,xe.fillStyle=G,xe.fillText(V,je,Pe);var H=1/P;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[H,0,0,H,-Ve*H/2,-be*H/2]}}t.exports=function(){return oe().apply(this,arguments)},t.exports.reset=function(){oe().reset()},t.exports.create=ce,t.exports.shapeFromPath=se,t.exports.shapeFromText=Ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),tw,!1);const Jq=tw.exports;tw.exports.create;const md=({show:n,onHide:e,type:t="success",title:i,message:r,impactData:a})=>{const l=t==="success";$.useEffect(()=>{n&&(yh(l?"success":"error"),l&&a?.isGoal&&Jq({particleCount:150,spread:70,origin:{y:.6},colors:["#3b82f6","#10b981","#fbbf24"]}))},[n,l,a]);const u=h=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(h);return y.jsx($t,{show:n,onHide:e,centered:!0,size:a?"md":"sm",contentClassName:"border-0 shadow-lg rounded-4 text-center",children:y.jsxs($t.Body,{className:"p-4",children:[y.jsx(pn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:`text-${l?"success":"danger"} mb-3`,children:l?y.jsx(Vq,{size:60}):y.jsx(Kq,{size:60})}),y.jsx("h4",{className:"fw-bold mb-2",children:i||(l?"Awesome!":"Error")}),y.jsx("p",{className:"text-muted mb-4",children:r}),l&&a&&y.jsx(pn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:y.jsx(dn,{className:"bg-light border-0 rounded-4 mb-4 overflow-hidden",children:y.jsxs(dn.Body,{className:"p-3",children:[y.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2 text-primary",children:[y.jsx(Pu,{className:"me-2"}),y.jsx("span",{className:"small fw-bold text-uppercase tracking-wider",children:"Wallet Update"})]}),y.jsxs("div",{className:"d-flex justify-content-between align-items-center px-2",children:[y.jsxs("div",{className:"text-start",children:[y.jsx("div",{className:"small text-muted",children:a.walletName}),y.jsxs("div",{className:`fw-bold ${a.isIncome?"text-success":"text-danger"}`,children:[a.isIncome?"+":"-",u(a.amount)]})]}),y.jsxs("div",{className:"text-end",children:[y.jsx("div",{className:"small text-muted",children:"New Balance"}),y.jsx("div",{className:"fw-bold text-success",children:u(a.newBalance)})]})]}),a.isGoal&&y.jsx("div",{className:"mt-3 pt-2 border-top border-white",children:y.jsx("div",{className:"small fw-bold text-success uppercase",children:"Goal Progress Boosted! "})})]})})}),y.jsx(Mt,{variant:l?"primary":"danger",className:"rounded-pill px-5 py-2 fw-bold shadow-sm btn-primary-custom",onClick:e,children:l?"Got it!":"Try Again"})]})})},Zq=({show:n,onHide:e,wallet:t})=>{const{addIncome:i}=Er(),[r,a]=$.useState(""),[l,u]=$.useState({show:!1,message:""}),h=async p=>{p.preventDefault(),r&&(await i({walletId:t.id,amount:r,source:"Quick Deposit",date:new Date().toISOString().split("T")[0],walletName:t.name}),a(""),u({show:!0,type:"success",message:`Added funds to ${t.name}!`}))},f=()=>{u({...l,show:!1}),l.type==="success"&&e()};return t?y.jsxs(y.Fragment,{children:[y.jsxs($t,{show:n,onHide:e,centered:!0,contentClassName:"modal-custom",size:"sm",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0 pb-0",children:y.jsx($t.Title,{children:"Quick Deposit"})}),y.jsxs($t.Body,{className:"pt-2",children:[y.jsxs("p",{className:"text-muted small mb-3",children:["Add funds directly to ",y.jsx("strong",{children:t.name}),"."]}),y.jsxs(Ue,{onSubmit:h,children:[y.jsx(Ue.Group,{className:"mb-4",children:y.jsx(Ue.Control,{type:"number",placeholder:"Amount (0.00)",value:r,onChange:p=>a(p.target.value),autoFocus:!0,required:!0,className:"text-center fw-bold fs-4"})}),y.jsx(Mt,{variant:"primary",type:"submit",className:"w-100 btn-primary-custom",children:"Add Money"})]})]})]}),y.jsx(md,{show:l.show,onHide:f,type:l.type,message:l.message})]}):null},eH=({show:n,onHide:e})=>{const{wallets:t,transferFunds:i}=Er(),[r,a]=$.useState(""),[l,u]=$.useState(""),[h,f]=$.useState(""),[p,v]=$.useState({show:!1,message:""}),x=async N=>{if(N.preventDefault(),!(!r||!l||!h)){if(r===l){v({show:!0,type:"error",message:"Source and Destination cannot be the same."});return}await i(r,l,h),a(""),u(""),f(""),v({show:!0,type:"success",message:"Transfer successful!"})}},w=()=>{v({...p,show:!1}),p.type==="success"&&e()};return y.jsxs(y.Fragment,{children:[y.jsxs($t,{show:n,onHide:e,centered:!0,contentClassName:"modal-custom",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0 pb-0",children:y.jsx($t.Title,{children:"Transfer Funds"})}),y.jsxs($t.Body,{className:"pt-2",children:[y.jsx("p",{className:"text-muted small mb-4",children:"Move money instantly between your wallets."}),y.jsxs(Ue,{onSubmit:x,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"From (Source)"}),y.jsxs(Ue.Select,{value:r,onChange:N=>a(N.target.value),required:!0,children:[y.jsx("option",{value:"",children:"Select Source Wallet..."}),t.map(N=>y.jsxs("option",{value:N.id,children:[N.name," (",N.type==="liability"?`Debt: ${N.remaining}`:`Avail: ${N.remaining}`,")"]},N.id))]})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"To (Destination)"}),y.jsxs(Ue.Select,{value:l,onChange:N=>u(N.target.value),required:!0,children:[y.jsx("option",{value:"",children:"Select Destination Wallet..."}),t.map(N=>y.jsxs("option",{value:N.id,children:[N.name," (",N.type==="liability"?`Debt: ${N.remaining}`:`Avail: ${N.remaining}`,")"]},N.id))]})]}),y.jsxs(Ue.Group,{className:"mb-4",children:[y.jsx(Ue.Label,{children:"Amount"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",value:h,onChange:N=>f(N.target.value),required:!0})]}),y.jsxs("div",{className:"d-flex justify-content-end",children:[y.jsx(Mt,{variant:"secondary",className:"me-2",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:"primary",type:"submit",className:"btn-primary-custom",children:"Transfer Now"})]})]})]})]}),y.jsx(md,{show:p.show,onHide:w,type:p.type,message:p.message})]})},tH=({onOpenCreateModal:n})=>{const{globalStats:e,wallets:t,deleteWallet:i}=Er(),[r,a]=$.useState(null),[l,u]=$.useState(null),[h,f]=$.useState(!1),p=N=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(N),v=(N,L,I)=>{I.stopPropagation(),a({id:N,name:L})},x=()=>{r&&(i(r.id),a(null))},w={hidden:{opacity:0,y:20},visible:N=>({opacity:1,y:0,transition:{delay:N*.1}})};return y.jsxs(pn.div,{initial:{opacity:0},animate:{opacity:1},className:"pb-5",children:[y.jsx(pn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:y.jsx(dn,{className:"custom-card mb-5 border-0 premium-header text-white shadow-lg",children:y.jsxs(dn.Body,{className:"p-4 p-md-5",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"glass-pill mb-2 d-inline-block",children:"Total Net Worth"}),y.jsxs("div",{className:"balance-amount fw-bold mt-2",children:[y.jsx("span",{className:"opacity-50 me-2",style:{fontSize:"0.5em"},children:"BDT"}),e.totalBalance.toLocaleString("en-BD")]})]}),y.jsxs("div",{className:"text-end d-none d-md-block",children:[y.jsx("div",{className:"opacity-75 small",children:"Monthly Spend Health"}),y.jsx(bh,{bg:e.totalRemaining<0?"danger":"success",className:"mt-1 rounded-pill",children:e.totalRemaining<0?"Over Budget":"Stable"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"d-flex justify-content-between small mb-2 opacity-75",children:[y.jsx("span",{children:"Wallet Distribution"}),y.jsxs("span",{children:[t.length," active wallets"]})]}),y.jsx("div",{className:"distribution-bar",children:t.map((N,L)=>{const I=["#ffffff","#ffd700","#48bb78","#f56565","#ed64a6","#9f7aea"],j=N.balance/(e.totalBalance||1)*100;return y.jsx("div",{className:"distribution-segment",style:{width:`${j}%`,backgroundColor:I[L%I.length],opacity:.8},title:`${N.name}: ${N.balance}`},N.id)})})]}),y.jsxs(Bs,{className:"g-3",children:[y.jsx(kn,{xs:6,md:4,children:y.jsxs("div",{className:"p-3 rounded-4",style:{background:"rgba(255,255,255,0.1)"},children:[y.jsx("div",{className:"opacity-75 small mb-1",children:"Total Spent"}),y.jsx("h4",{className:"fw-bold mb-0",children:p(e.totalSpent)})]})}),y.jsx(kn,{xs:6,md:4,children:y.jsxs("div",{className:"p-3 rounded-4",style:{background:"rgba(255,255,255,0.1)"},children:[y.jsx("div",{className:"opacity-75 small mb-1",children:"Remaining"}),y.jsx("h4",{className:"fw-bold mb-0",children:p(e.totalRemaining)})]})})]})]})})}),y.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[y.jsx("h4",{className:"fw-bold mb-0",children:"My Wallets"}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsxs(Mt,{variant:"outline-primary",onClick:()=>f(!0),className:"rounded-pill d-flex align-items-center border-0 shadow-sm bg-white",children:[y.jsx(Ep,{className:"me-2"})," Transfer"]}),y.jsx(pn.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsx(Mt,{variant:"primary",onClick:n,className:"btn-primary-custom shadow-sm",children:"+ New Wallet"})})]})]}),y.jsx(Bs,{children:t.map((N,L)=>y.jsx(kn,{md:6,xl:4,className:"mb-4",children:y.jsx(pn.div,{custom:L,initial:"hidden",animate:"visible",variants:w,whileHover:{y:-5},children:y.jsxs(dn,{className:"custom-card h-100 position-relative",children:[y.jsxs(dn.Body,{className:"p-4",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-light rounded-circle p-3 me-3 text-primary shadow-sm",children:y.jsx(Pu,{size:24})}),y.jsxs("div",{children:[y.jsx("h5",{className:"fw-bold mb-0",children:N.name}),y.jsxs("small",{className:"text-muted",children:["Created: ",N.createdAt?new Date(N.createdAt.toDate()).toLocaleDateString():"Just now"]})]})]}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsx(Mt,{variant:"light",className:"text-success rounded-circle p-0 d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},title:"Quick Deposit",onClick:I=>{I.stopPropagation(),u(N)},children:y.jsx(Hq,{size:16})}),y.jsx(Mt,{variant:"light",className:"text-danger rounded-circle p-0 d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},title:"Delete",onClick:I=>v(N.id,N.name,I),children:y.jsx(A0,{size:14})})]})]}),y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[y.jsx("span",{className:"text-secondary small fw-medium",children:N.type==="liability"?"Initial / Limit":"Balance"}),y.jsx("span",{className:"fw-bold",children:p(N.balance)})]}),y.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[y.jsx("span",{className:"text-secondary small fw-medium",children:"Spent"}),y.jsx("span",{className:"text-danger fw-bold",children:p(N.spent)})]})]}),y.jsxs("div",{className:"border-top pt-3 d-flex justify-content-between align-items-center",children:[y.jsx("span",{className:"text-secondary fw-bold small",children:N.type==="liability"?"CURRENT DEBT":"AVAILABLE"}),y.jsx(bh,{bg:N.type==="liability"?N.remaining>0?"warning":"success":N.remaining<0?"danger":"success",className:"px-3 py-2 rounded-pill fw-medium",style:{fontSize:"0.9rem"},children:p(N.remaining)})]}),N.type==="liability"&&N.remaining>0&&y.jsxs(Mt,{variant:"outline-primary",size:"sm",className:"w-100 mt-3 rounded-pill",onClick:()=>f(!0),children:[y.jsx(Ep,{className:"me-2"})," Settle Bill"]})]}),y.jsx("div",{className:"position-absolute bottom-0 start-0 w-100",style:{height:"4px",background:"#f0f0f0"},children:y.jsx("div",{style:{width:`${Math.min(N.spent/(N.balance||1)*100,100)}%`,height:"100%",background:N.type==="liability"?"var(--warning-gradient, #f59e0b)":N.remaining<0?"var(--danger-gradient)":"var(--primary-gradient)"}})})]})})},N.id))}),y.jsx(ew,{show:!!r,onHide:()=>a(null),onConfirm:x,title:"Delete Wallet",message:`Are you sure you want to delete "${r?.name}"? All transaction records for this wallet will remain in history but the wallet will be removed.`}),y.jsx(Zq,{show:!!l,onHide:()=>u(null),wallet:l}),y.jsx(eH,{show:h,onHide:()=>f(!1)})]})},nH=({show:n,onHide:e,goal:t})=>{const{updateGoal:i}=Er(),[r,a]=$.useState({name:"",targetAmount:"",savedAmount:""});$.useEffect(()=>{t&&a({name:t.name,targetAmount:t.targetAmount,savedAmount:t.savedAmount})},[t]);const l=async u=>{u.preventDefault(),await i(t.id,r),e()};return y.jsxs($t,{show:n,onHide:e,centered:!0,children:[y.jsx($t.Header,{closeButton:!0,children:y.jsx($t.Title,{children:"Update Goal"})}),y.jsx($t.Body,{children:y.jsxs(Ue,{onSubmit:l,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Goal Name"}),y.jsx(Ue.Control,{type:"text",value:r.name,onChange:u=>a({...r,name:u.target.value}),required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Target Amount"}),y.jsx(Ue.Control,{type:"number",value:r.targetAmount,onChange:u=>a({...r,targetAmount:u.target.value}),required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Saved Amount"}),y.jsx(Ue.Control,{type:"number",value:r.savedAmount,onChange:u=>a({...r,savedAmount:u.target.value}),required:!0})]}),y.jsxs("div",{className:"d-flex justify-content-end",children:[y.jsx(Mt,{variant:"secondary",className:"me-2",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:"primary",type:"submit",className:"btn-primary-custom",children:"Save Changes"})]})]})})]})},iH=({show:n,onHide:e,goal:t})=>{const{wallets:i,depositToGoal:r}=Er(),[a,l]=$.useState(""),[u,h]=$.useState(""),[f,p]=$.useState({show:!1,message:""}),[v,x]=$.useState(null);$.useEffect(()=>{n&&yh("pop")},[n]);const w=async L=>{if(L.preventDefault(),!a||!u)return;const I=i.find(X=>X.id===u),j=Number(a);x({walletName:I?.name||"Wallet",amount:j,newBalance:(I?.remaining||0)-j,isGoal:!0}),await r(t.id,u,a),l(""),h(""),p({show:!0,type:"success",message:`Successfully saved for ${t.name}!`})},N=()=>{p({...f,show:!1}),e()};return t?y.jsxs(y.Fragment,{children:[y.jsxs($t,{show:n,onHide:e,centered:!0,contentClassName:"modal-custom",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0 pb-0",children:y.jsxs($t.Title,{children:["Deposit to ",t.name]})}),y.jsxs($t.Body,{className:"pt-2",children:[y.jsx("p",{className:"text-muted small mb-4",children:"Move money from a wallet to your savings goal."}),y.jsxs(Ue,{onSubmit:w,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Source Wallet"}),y.jsxs(Ue.Select,{value:u,onChange:L=>h(L.target.value),required:!0,children:[y.jsx("option",{value:"",children:"Select Wallet..."}),i.map(L=>y.jsxs("option",{value:L.id,children:[L.name," (Avail: ",L.remaining,")"]},L.id))]})]}),y.jsxs(Ue.Group,{className:"mb-4",children:[y.jsx(Ue.Label,{children:"Amount to Save"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",value:a,onChange:L=>l(L.target.value),required:!0})]}),y.jsxs("div",{className:"d-flex justify-content-end",children:[y.jsx(Mt,{variant:"secondary",className:"me-2",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:"success",type:"submit",className:"text-white",children:"Confirm Deposit"})]})]})]})]}),y.jsx(md,{show:f.show,onHide:N,type:f.type,message:f.message,impactData:v})]}):null},rH=({show:n,onHide:e,goal:t})=>{const{goalDeposits:i,wallets:r}=Er(),a=$.useMemo(()=>t?i.filter(h=>h.goalId===t.id):[],[t,i]),l=h=>{const f=r.find(p=>p.id===h);return f?f.name:"Unknown"},u=h=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(h);return y.jsxs($t,{show:n,onHide:e,centered:!0,contentClassName:"modal-custom",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0 pb-0",children:y.jsxs($t.Title,{children:["History: ",t?.name]})}),y.jsx($t.Body,{className:"pt-2",children:a.length===0?y.jsx("p",{className:"text-muted text-center py-4",children:"No deposits yet."}):y.jsx("div",{className:"table-responsive",children:y.jsxs(TT,{hover:!0,className:"align-middle mb-0",children:[y.jsx("thead",{className:"bg-light",children:y.jsxs("tr",{children:[y.jsx("th",{className:"border-0 text-secondary small",children:"Date"}),y.jsx("th",{className:"border-0 text-secondary small",children:"Source"}),y.jsx("th",{className:"border-0 text-secondary small text-end",children:"Amount"})]})}),y.jsx("tbody",{children:a.map(h=>y.jsxs("tr",{children:[y.jsx("td",{className:"border-bottom-0",children:h.date}),y.jsx("td",{className:"border-bottom-0 small",children:l(h.walletId)}),y.jsxs("td",{className:"border-bottom-0 text-end fw-bold text-success",children:["+",u(h.amount)]})]},h.id))})]})})})]})},sH=({onOpenCreateModal:n})=>{const e=Er(),t=e?.goals||[],i=e?.deleteGoal,[r,a]=$.useState(null),[l,u]=$.useState(null),[h,f]=$.useState(null),[p,v]=$.useState(null),x=j=>{try{return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(Number(j)||0)}catch{return(Number(j)||0)+" BDT"}},w=(j,X)=>{v({id:j,name:X})},N=()=>{p&&i&&(i(p.id),v(null))};if(!e)return y.jsx("div",{className:"p-5 text-center text-danger",children:"Error: App Context not found."});const L={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return y.jsxs(pn.div,{initial:"hidden",animate:"visible",variants:L,className:"pb-5",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[y.jsx("h4",{className:"fw-bold mb-0",children:"Savings Goals"}),y.jsx(pn.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsxs(Mt,{variant:"primary",onClick:n,className:"btn-primary-custom shadow-sm d-flex align-items-center",children:[y.jsx(S0,{className:"me-2"})," New Goal"]})})]}),y.jsxs(Bs,{children:[t.map(j=>{if(!j)return null;const X=Number(j.savedAmount||0),Y=Number(j.targetAmount||1),Z=Math.min(X/Y*100,100);return y.jsx(kn,{md:6,xl:4,className:"mb-4",children:y.jsx(pn.div,{variants:I,whileHover:{y:-5},children:y.jsx(dn,{className:"custom-card border-0 h-100",children:y.jsxs(dn.Body,{className:"p-4 d-flex flex-column",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-2 me-2 text-success",children:y.jsx(Uq,{})}),y.jsx("h5",{className:"fw-bold mb-0",children:j.name||"Unnamed Goal"})]}),y.jsxs("div",{className:"d-flex gap-1",children:[y.jsx(Mt,{variant:"link",className:"text-secondary p-1",onClick:()=>f(j),children:y.jsx(ym,{})}),y.jsx(Mt,{variant:"link",className:"text-primary p-1",onClick:()=>a(j),children:y.jsx(Xb,{})}),y.jsx(Mt,{variant:"link",className:"text-danger p-1",onClick:()=>w(j.id,j.name),children:y.jsx(A0,{})})]})]}),y.jsxs("div",{className:"d-flex justify-content-between small mb-1",children:[y.jsxs("span",{className:"text-muted",children:["Saved: ",x(X)]}),y.jsx("span",{className:"fw-bold",children:x(Y)})]}),y.jsx(mu,{now:Z||0,variant:"success",className:"rounded-pill mb-4",style:{height:"8px"}}),y.jsxs("div",{className:"mt-auto d-flex justify-content-between align-items-center",children:[y.jsxs("small",{className:"text-muted fw-medium",children:[Math.round(Z||0),"% Reached"]}),y.jsxs(Mt,{size:"sm",variant:"success",className:"rounded-pill px-3 d-flex align-items-center text-white border-0 shadow-sm",onClick:()=>u(j),style:{background:"var(--success-gradient)"},children:[y.jsx(Gp,{className:"me-2"})," Deposit"]})]})]})})})},j.id||Math.random())}),t.length===0&&y.jsx(kn,{xs:12,children:y.jsxs("div",{className:"text-center p-5 bg-light rounded-4 border border-dashed",children:[y.jsx(Gp,{size:48,className:"text-muted mb-3 opacity-50"}),y.jsx("h5",{className:"text-muted mb-2",children:"No savings goals yet"}),y.jsx("p",{className:"text-muted small mb-0",children:"Create a goal to start saving!"})]})})]}),r&&y.jsx(nH,{show:!!r,onHide:()=>a(null),goal:r}),l&&y.jsx(iH,{show:!!l,onHide:()=>u(null),goal:l}),h&&y.jsx(rH,{show:!!h,onHide:()=>f(null),goal:h}),y.jsx(ew,{show:!!p,onHide:()=>v(null),onConfirm:N,title:"Delete Savings Goal",message:`Are you sure you want to delete "${p?.name}"?`})]})},aH=()=>{const{budgets:n,meals:e,purchases:t,updateBudget:i,incomes:r,categories:a,addCategory:l,deleteCategory:u}=Er(),{isDarkMode:h}=Dh(),[f,p]=$.useState(null),[v,x]=$.useState(!1),[w,N]=$.useState(!1),[L,I]=$.useState(""),[j,X]=$.useState(""),[Y,Z]=$.useState(""),[ae,ge]=$.useState("#64748b"),U=new Date,M=U.toISOString().slice(0,7),k=new Date(U.getFullYear(),U.getMonth()+1,0).getDate(),W=U.getDate(),E=k-W+1,R=W/k*100,B=$.useMemo(()=>{const se={};let Ne=0,ue=0;a.forEach(K=>{se[K.id]={spent:0,limit:0,...K}}),e.filter(K=>K.month===M).forEach(K=>{se.Food&&(se.Food.spent+=Number(K.amount))}),t.filter(K=>K.month===M).forEach(K=>{const re=K.category;se[re]&&(se[re].spent+=Number(K.amount))}),n.forEach(K=>{se[K.id]&&(se[K.id].limit=Number(K.limit),Ne+=Number(K.limit))}),Object.values(se).forEach(K=>ue+=K.spent);const V=r.filter(K=>K.date?.startsWith(M)).reduce((K,re)=>K+Number(re.amount),0),P=W>0?ue/W*k:0,G=Ne>0&&P>Ne;return{categories:se,totalLimit:Ne,totalSpent:ue,monthlyIncome:V,projectedSpend:P,isProjectedOver:G}},[n,e,t,r,a,M,W,k]),ce=se=>{p(se),I(B.categories[se.id].limit||""),x(!0)},Ae=async()=>{await i(f.id,L),x(!1)},oe=async se=>{se.preventDefault(),j&&(await l(j,Y,ae),X(""),N(!1))},me=se=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(se);return y.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"pb-5 px-2 px-md-0",children:[y.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4 gap-3",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"fw-bold mb-1",children:"Budget Planner"}),y.jsx("p",{className:"text-muted small mb-0",children:"Track and plan your monthly spending"})]}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsxs(Mt,{variant:"primary",className:"btn-primary-custom d-flex align-items-center gap-2",onClick:()=>N(!0),children:[y.jsx(S0,{size:12})," Add Category"]}),y.jsx("div",{className:"glass-pill text-primary border-primary bg-primary bg-opacity-10 py-2 px-4 shadow-sm",children:y.jsx("span",{className:"fw-bold",children:U.toLocaleString("default",{month:"long",year:"numeric"})})})]})]}),y.jsx(dn,{className:"custom-card border-0 mb-4 shadow-sm overflow-hidden",style:{background:h?"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)":"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)"},children:y.jsx(dn.Body,{className:"p-4",children:y.jsxs(Bs,{className:"align-items-center",children:[y.jsxs(kn,{md:4,className:`mb-3 mb-md-0 ${h?"":"border-end-md"}`,style:{borderRight:h?"1px solid rgba(255,255,255,0.05)":""},children:[y.jsx("div",{className:"text-muted small fw-bold text-uppercase mb-1",children:"Total Budget Progress"}),y.jsxs("h3",{className:"fw-bold mb-2",children:[me(B.totalSpent),y.jsxs("span",{className:"text-muted fs-6 fw-normal",children:[" / ",me(B.totalLimit)]})]}),y.jsx(mu,{now:B.totalLimit>0?B.totalSpent/B.totalLimit*100:0,variant:B.totalSpent>B.totalLimit?"danger":"primary",className:"rounded-pill",style:{height:"8px",backgroundColor:h?"#334155":"#e9ecef"}})]}),y.jsxs(kn,{md:4,className:`mb-3 mb-md-0 text-center ${h?"":"border-end-md"}`,style:{borderRight:h?"1px solid rgba(255,255,255,0.05)":""},children:[y.jsx("div",{className:"text-muted small fw-bold text-uppercase mb-1",children:"Projected Spend"}),y.jsx("div",{className:`fs-4 fw-bold ${B.isProjectedOver?"text-danger":"text-success"}`,children:me(B.projectedSpend)}),y.jsx("small",{className:"text-muted",children:B.isProjectedOver?" Likely to exceed":" On track"})]}),y.jsxs(kn,{md:4,className:"text-md-end text-center",children:[y.jsx("div",{className:"text-muted small fw-bold text-uppercase mb-1",children:"Budget Allocation"}),y.jsx("div",{className:"fs-5 fw-bold text-primary",children:B.monthlyIncome>0?`${Math.round(B.totalLimit/B.monthlyIncome*100)}%`:"0%"}),y.jsx("small",{className:"text-muted",children:"of income assigned"})]})]})})}),y.jsx(Bs,{children:Object.values(B.categories).map(se=>{const Ne=se.limit>0?se.spent/se.limit*100:0,ue=se.limit-se.spent,V=ue<0,P=ue>0?ue/E:0,G=Ne>R&&se.limit>0;return y.jsx(kn,{lg:6,className:"mb-4",children:y.jsx(dn,{className:"custom-card border-0 h-100 overflow-hidden shadow-sm",children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:`fs-3 me-3 d-flex align-items-center justify-content-center rounded-circle ${h?"bg-white bg-opacity-10":"bg-light"}`,style:{width:"50px",height:"50px",color:se.color},children:se.icon}),y.jsxs("div",{children:[y.jsx("h5",{className:"fw-bold mb-0",children:se.label}),V?y.jsx(bh,{bg:"danger",className:"small rounded-pill",children:"Over Budget "}):G&&y.jsx(bh,{bg:"warning",text:"dark",className:"small rounded-pill",children:"Spending Fast "})]})]}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsx(Mt,{variant:"light",size:"sm",className:"rounded-circle",onClick:()=>ce(se),children:y.jsx(Xb,{size:14,className:"text-primary"})}),y.jsx(Mt,{variant:"light",size:"sm",className:"rounded-circle",onClick:()=>u(se.dbId,se.id),children:y.jsx(A0,{size:12,className:"text-danger"})})]})]}),y.jsxs("div",{className:"d-flex justify-content-between align-items-end mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-muted small",children:"Spent"}),y.jsx("span",{className:"fw-bold fs-4",children:me(se.spent)})]}),y.jsxs("div",{className:"text-end",children:[y.jsx("div",{className:"text-muted small",children:"Budget Limit"}),y.jsx("span",{className:"fw-medium",children:se.limit>0?me(se.limit):"Not Set"})]})]}),y.jsx(mu,{now:Math.min(Ne,100),variant:V?"danger":Ne>80?"warning":"success",className:"rounded-pill mb-4",style:{height:"10px",backgroundColor:h?"#334155":"#e9ecef"}}),y.jsxs(Bs,{className:"g-2",children:[y.jsx(kn,{xs:6,children:y.jsxs("div",{className:`p-3 rounded-4 h-100 ${V?"bg-danger bg-opacity-10 text-danger":h?"bg-white bg-opacity-5 text-secondary":"bg-light text-secondary"}`,children:[y.jsx("div",{className:"small fw-bold text-uppercase opacity-75 mb-1",style:{fontSize:"0.65rem"},children:V?"Deficit":"Remaining"}),y.jsx("div",{className:"fw-bold text-primary",children:me(Math.abs(ue))})]})}),y.jsx(kn,{xs:6,children:y.jsxs("div",{className:`p-3 rounded-4 h-100 border border-opacity-10 ${P>0?"bg-primary bg-opacity-10 text-primary border-primary":"bg-secondary bg-opacity-10 text-secondary border-secondary"}`,children:[y.jsx("div",{className:"small fw-bold text-uppercase opacity-75 mb-1",style:{fontSize:"0.65rem"},children:"Daily Safe Spend"}),y.jsx("div",{className:"fw-bold",children:me(P)})]})})]})]})})},se.id)})}),y.jsxs($t,{show:w,onHide:()=>N(!1),centered:!0,children:[y.jsx($t.Header,{closeButton:!0,className:"border-0",children:y.jsx($t.Title,{className:"fw-bold",children:"Add Custom Category"})}),y.jsx($t.Body,{className:"p-4 pt-0",children:y.jsxs(Ue,{onSubmit:oe,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{className:"small fw-bold",children:"CATEGORY NAME"}),y.jsx(Ue.Control,{type:"text",placeholder:"e.g. Subscriptions",value:j,onChange:se=>X(se.target.value),required:!0})]}),y.jsxs(Bs,{children:[y.jsx(kn,{xs:4,children:y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{className:"small fw-bold",children:"ICON"}),y.jsx(Ue.Control,{type:"text",value:Y,onChange:se=>Z(se.target.value)})]})}),y.jsx(kn,{xs:8,children:y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{className:"small fw-bold",children:"COLOR"}),y.jsx(Ue.Control,{type:"color",className:"w-100 p-1",style:{height:"45px"},value:ae,onChange:se=>ge(se.target.value)})]})})]}),y.jsx(Mt,{variant:"primary",type:"submit",className:"w-100 btn-primary-custom py-2 mt-2",children:"Create Category"})]})})]}),y.jsxs($t,{show:v,onHide:()=>x(!1),centered:!0,children:[y.jsx($t.Header,{closeButton:!0,className:"border-0",children:y.jsx($t.Title,{className:"fw-bold",children:"Update Limit"})}),y.jsxs($t.Body,{className:"p-4 pt-0",children:[y.jsxs("p",{className:"text-muted small",children:["Set your monthly goal for ",y.jsx("strong",{children:f?.label})]}),y.jsx(Ue.Group,{className:"mb-4",children:y.jsx(Ue.Control,{type:"number",size:"lg",className:`fw-bold border-0 ${h?"bg-dark text-white":"bg-light"}`,value:L,onChange:se=>I(se.target.value),autoFocus:!0})}),y.jsx(Mt,{variant:"primary",className:"w-100 btn-primary-custom py-2",onClick:Ae,children:"Update Budget Limit"})]})]})]})};function ai(n){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(n)}var Ko=Uint8Array,qa=Uint16Array,nw=Int32Array,iw=new Ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rw=new Ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$S=new Ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iR=function(n,e){for(var t=new qa(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new nw(t[30]),i=1;i<30;++i)for(var a=t[i];a<t[i+1];++a)r[a]=a-t[i]<<5|i;return{b:t,r}},rR=iR(iw,2),oH=rR.b,t5=rR.r;oH[28]=258,t5[258]=28;var lH=iR(rw,0),KS=lH.r,n5=new qa(32768);for(var Ri=0;Ri<32768;++Ri){var au=(Ri&43690)>>1|(Ri&21845)<<1;au=(au&52428)>>2|(au&13107)<<2,au=(au&61680)>>4|(au&3855)<<4,n5[Ri]=((au&65280)>>8|(au&255)<<8)>>1}var Np=(function(n,e,t){for(var i=n.length,r=0,a=new qa(e);r<i;++r)n[r]&&++a[n[r]-1];var l=new qa(e);for(r=1;r<e;++r)l[r]=l[r-1]+a[r-1]<<1;var u;if(t){u=new qa(1<<e);var h=15-e;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=e-n[r],v=l[n[r]-1]++<<p,x=v|(1<<p)-1;v<=x;++v)u[n5[v]>>h]=f}else for(u=new qa(i),r=0;r<i;++r)n[r]&&(u[r]=n5[l[n[r]-1]++]>>15-n[r]);return u}),Nh=new Ko(288);for(var Ri=0;Ri<144;++Ri)Nh[Ri]=8;for(var Ri=144;Ri<256;++Ri)Nh[Ri]=9;for(var Ri=256;Ri<280;++Ri)Nh[Ri]=7;for(var Ri=280;Ri<288;++Ri)Nh[Ri]=8;var D1=new Ko(32);for(var Ri=0;Ri<32;++Ri)D1[Ri]=5;var cH=Np(Nh,9,0),uH=Np(D1,5,0),sR=function(n){return(n+7)/8|0},hH=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ko(n.subarray(e,t))},ac=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},sp=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},Cy=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,a=t.slice();if(!r)return{t:oR,l:0};if(r==1){var l=new Ko(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ae,ge){return ae.f-ge.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],f=0,p=1,v=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};p!=r-1;)u=t[t[f].f<t[v].f?f++:v++],h=t[f!=p&&t[f].f<t[v].f?f++:v++],t[p++]={s:-1,f:u.f+h.f,l:u,r:h};for(var x=a[0].s,i=1;i<r;++i)a[i].s>x&&(x=a[i].s);var w=new qa(x+1),N=i5(t[p-1],w,0);if(N>e){var i=0,L=0,I=N-e,j=1<<I;for(a.sort(function(ge,U){return w[U.s]-w[ge.s]||ge.f-U.f});i<r;++i){var X=a[i].s;if(w[X]>e)L+=j-(1<<N-w[X]),w[X]=e;else break}for(L>>=I;L>0;){var Y=a[i].s;w[Y]<e?L-=1<<e-w[Y]++-1:++i}for(;i>=0&&L;--i){var Z=a[i].s;w[Z]==e&&(--w[Z],++L)}N=e}return{t:new Ko(w),l:N}},i5=function(n,e,t){return n.s==-1?Math.max(i5(n.l,e,t+1),i5(n.r,e,t+1)):e[n.s]=t},YS=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new qa(++e),i=0,r=n[0],a=1,l=function(h){t[i++]=h},u=1;u<=e;++u)if(n[u]==r&&u!=e)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=n[u]}return{c:t.subarray(0,i),n:e}},ap=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},aR=function(n,e,t){var i=t.length,r=sR(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var a=0;a<i;++a)n[r+a+4]=t[a];return(r+4+i)*8},XS=function(n,e,t,i,r,a,l,u,h,f,p){ac(e,p++,t),++r[256];for(var v=Cy(r,15),x=v.t,w=v.l,N=Cy(a,15),L=N.t,I=N.l,j=YS(x),X=j.c,Y=j.n,Z=YS(L),ae=Z.c,ge=Z.n,U=new qa(19),M=0;M<X.length;++M)++U[X[M]&31];for(var M=0;M<ae.length;++M)++U[ae[M]&31];for(var k=Cy(U,7),W=k.t,E=k.l,R=19;R>4&&!W[$S[R-1]];--R);var B=f+5<<3,ce=ap(r,Nh)+ap(a,D1)+l,Ae=ap(r,x)+ap(a,L)+l+14+3*R+ap(U,W)+2*U[16]+3*U[17]+7*U[18];if(h>=0&&B<=ce&&B<=Ae)return aR(e,p,n.subarray(h,h+f));var oe,me,se,Ne;if(ac(e,p,1+(Ae<ce)),p+=2,Ae<ce){oe=Np(x,w,0),me=x,se=Np(L,I,0),Ne=L;var ue=Np(W,E,0);ac(e,p,Y-257),ac(e,p+5,ge-1),ac(e,p+10,R-4),p+=14;for(var M=0;M<R;++M)ac(e,p+3*M,W[$S[M]]);p+=3*R;for(var V=[X,ae],P=0;P<2;++P)for(var G=V[P],M=0;M<G.length;++M){var K=G[M]&31;ac(e,p,ue[K]),p+=W[K],K>15&&(ac(e,p,G[M]>>5&127),p+=G[M]>>12)}}else oe=cH,me=Nh,se=uH,Ne=D1;for(var M=0;M<u;++M){var re=i[M];if(re>255){var K=re>>18&31;sp(e,p,oe[K+257]),p+=me[K+257],K>7&&(ac(e,p,re>>23&31),p+=iw[K]);var de=re&31;sp(e,p,se[de]),p+=Ne[de],de>3&&(sp(e,p,re>>5&8191),p+=rw[de])}else sp(e,p,oe[re]),p+=me[re]}return sp(e,p,oe[256]),p+me[256]},fH=new nw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oR=new Ko(0),dH=function(n,e,t,i,r,a){var l=a.z||n.length,u=new Ko(i+l+5*(1+Math.ceil(l/7e3))+r),h=u.subarray(i,u.length-r),f=a.l,p=(a.r||0)&7;if(e){p&&(h[0]=a.r>>3);for(var v=fH[e-1],x=v>>13,w=v&8191,N=(1<<t)-1,L=a.p||new qa(32768),I=a.h||new qa(N+1),j=Math.ceil(t/3),X=2*j,Y=function(Pe){return(n[Pe]^n[Pe+1]<<j^n[Pe+2]<<X)&N},Z=new nw(25e3),ae=new qa(288),ge=new qa(32),U=0,M=0,k=a.i||0,W=0,E=a.w||0,R=0;k+2<l;++k){var B=Y(k),ce=k&32767,Ae=I[B];if(L[ce]=Ae,I[B]=ce,E<=k){var oe=l-k;if((U>7e3||W>24576)&&(oe>423||!f)){p=XS(n,h,0,Z,ae,ge,M,W,R,k-R,p),W=U=M=0,R=k;for(var me=0;me<286;++me)ae[me]=0;for(var me=0;me<30;++me)ge[me]=0}var se=2,Ne=0,ue=w,V=ce-Ae&32767;if(oe>2&&B==Y(k-V))for(var P=Math.min(x,oe)-1,G=Math.min(32767,k),K=Math.min(258,oe);V<=G&&--ue&&ce!=Ae;){if(n[k+se]==n[k+se-V]){for(var re=0;re<K&&n[k+re]==n[k+re-V];++re);if(re>se){if(se=re,Ne=V,re>P)break;for(var de=Math.min(V,re-2),pe=0,me=0;me<de;++me){var xe=k-V+me&32767,Te=L[xe],Ve=xe-Te&32767;Ve>pe&&(pe=Ve,Ae=xe)}}}ce=Ae,Ae=L[ce],V+=ce-Ae&32767}if(Ne){Z[W++]=268435456|t5[se]<<18|KS[Ne];var be=t5[se]&31,Ce=KS[Ne]&31;M+=iw[be]+rw[Ce],++ae[257+be],++ge[Ce],E=k+se,++U}else Z[W++]=n[k],++ae[n[k]]}}for(k=Math.max(k,E);k<l;++k)Z[W++]=n[k],++ae[n[k]];p=XS(n,h,f,Z,ae,ge,M,W,R,k-R,p),f||(a.r=p&7|h[p/8|0]<<3,p-=7,a.h=I,a.p=L,a.i=k,a.w=E)}else{for(var k=a.w||0;k<l+f;k+=65535){var je=k+65535;je>=l&&(h[p/8|0]=f,je=l),p=aR(h,p+1,n.subarray(k,je))}a.i=l}return hH(u,0,i+sR(p)+r)},lR=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,a=t.length|0,l=0;l!=a;){for(var u=Math.min(l+2655,a);l<u;++l)r+=i+=t[l];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},pH=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new Ko(a.length+n.length);l.set(a),l.set(n,a.length),n=l,r.w=a.length}return dH(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},cR=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},mH=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=lR();r.p(e.dictionary),cR(n,2,r.d())}};function r5(n,e){e||(e={});var t=lR();t.p(n);var i=pH(n,e,e.dictionary?6:2,4);return mH(i,e),cR(i,i.length-4,t.d()),i}var gH=typeof TextDecoder<"u"&&new TextDecoder,yH=0;try{gH.decode(oR,{stream:!0}),yH=1}catch{}function vH(n){if(Array.isArray(n))return n}function bH(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,a,l,u=[],h=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(h=(i=a.call(t)).done)&&(u.push(i.value),u.length!==e);h=!0);}catch(p){f=!0,r=p}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw r}}return u}}function QS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function wH(n,e){if(n){if(typeof n=="string")return QS(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?QS(n,e):void 0}}function _H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JS(n,e){return vH(n)||bH(n,e)||wH(n,e)||_H()}function ZS(n,e="utf8"){return new TextDecoder(e).decode(n)}const xH=new TextEncoder;function SH(n){return xH.encode(n)}const AH=1024*8,TH=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Ry={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sw{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=AH,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,a=e.byteLength-r;let l=r;(ArrayBuffer.isView(e)||e instanceof sw)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=Ry[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+i);if(this.littleEndian===TH&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(r,r+i));u.reverse();const h=new Ry[t](u.buffer);return this.offset+=i,h.reverse(),h}const l=new Ry[t](a);return this.offset+=i,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return ZS(this.readBytes(e))}decodeText(e=1,t="utf8"){return ZS(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(SH(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gd(n){let e=n.length;for(;--e>=0;)n[e]=0}const EH=3,NH=258,uR=29,CH=256,RH=CH+1+uR,hR=30,IH=512,LH=new Array((RH+2)*2);gd(LH);const DH=new Array(hR*2);gd(DH);const jH=new Array(IH);gd(jH);const PH=new Array(NH-EH+1);gd(PH);const kH=new Array(uR);gd(kH);const MH=new Array(hR);gd(MH);const OH=(n,e,t,i)=>{let r=n&65535|0,a=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do r=r+e[i++]|0,a=a+r|0;while(--l);r%=65521,a%=65521}return r|a<<16|0};var s5=OH;const VH=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},BH=new Uint32Array(VH()),FH=(n,e,t,i)=>{const r=BH,a=i+t;n^=-1;for(let l=i;l<a;l++)n=n>>>8^r[(n^e[l])&255];return n^-1};var bl=FH,a5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const UH=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var zH=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)UH(t,i)&&(n[i]=t[i])}}return n},qH=n=>{let e=0;for(let i=0,r=n.length;i<r;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,r=0,a=n.length;i<a;i++){let l=n[i];t.set(l,r),r+=l.length}return t},dR={assign:zH,flattenChunks:qH};let pR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pR=!1}const Wp=new Uint8Array(256);for(let n=0;n<256;n++)Wp[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Wp[254]=Wp[254]=1;var HH=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,r,a,l=n.length,u=0;for(r=0;r<l;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<l&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),a=0,r=0;a<u;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<l&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const GH=(n,e)=>{if(e<65534&&n.subarray&&pR)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var WH=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,r;const a=new Array(t*2);for(r=0,i=0;i<t;){let l=n[i++];if(l<128){a[r++]=l;continue}let u=Wp[l];if(u>4){a[r++]=65533,i+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&i<t;)l=l<<6|n[i++]&63,u--;if(u>1){a[r++]=65533;continue}l<65536?a[r++]=l:(l-=65536,a[r++]=55296|l>>10&1023,a[r++]=56320|l&1023)}return GH(a,r)},$H=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Wp[n[t]]>e?t:e},o5={string2buf:HH,buf2string:WH,utf8border:$H};function KH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YH=KH;const Sg=16209,XH=16191;var QH=function(e,t){let i,r,a,l,u,h,f,p,v,x,w,N,L,I,j,X,Y,Z,ae,ge,U,M,k,W;const E=e.state;i=e.next_in,k=e.input,r=i+(e.avail_in-5),a=e.next_out,W=e.output,l=a-(t-e.avail_out),u=a+(e.avail_out-257),h=E.dmax,f=E.wsize,p=E.whave,v=E.wnext,x=E.window,w=E.hold,N=E.bits,L=E.lencode,I=E.distcode,j=(1<<E.lenbits)-1,X=(1<<E.distbits)-1;e:do{N<15&&(w+=k[i++]<<N,N+=8,w+=k[i++]<<N,N+=8),Y=L[w&j];t:for(;;){if(Z=Y>>>24,w>>>=Z,N-=Z,Z=Y>>>16&255,Z===0)W[a++]=Y&65535;else if(Z&16){ae=Y&65535,Z&=15,Z&&(N<Z&&(w+=k[i++]<<N,N+=8),ae+=w&(1<<Z)-1,w>>>=Z,N-=Z),N<15&&(w+=k[i++]<<N,N+=8,w+=k[i++]<<N,N+=8),Y=I[w&X];n:for(;;){if(Z=Y>>>24,w>>>=Z,N-=Z,Z=Y>>>16&255,Z&16){if(ge=Y&65535,Z&=15,N<Z&&(w+=k[i++]<<N,N+=8,N<Z&&(w+=k[i++]<<N,N+=8)),ge+=w&(1<<Z)-1,ge>h){e.msg="invalid distance too far back",E.mode=Sg;break e}if(w>>>=Z,N-=Z,Z=a-l,ge>Z){if(Z=ge-Z,Z>p&&E.sane){e.msg="invalid distance too far back",E.mode=Sg;break e}if(U=0,M=x,v===0){if(U+=f-Z,Z<ae){ae-=Z;do W[a++]=x[U++];while(--Z);U=a-ge,M=W}}else if(v<Z){if(U+=f+v-Z,Z-=v,Z<ae){ae-=Z;do W[a++]=x[U++];while(--Z);if(U=0,v<ae){Z=v,ae-=Z;do W[a++]=x[U++];while(--Z);U=a-ge,M=W}}}else if(U+=v-Z,Z<ae){ae-=Z;do W[a++]=x[U++];while(--Z);U=a-ge,M=W}for(;ae>2;)W[a++]=M[U++],W[a++]=M[U++],W[a++]=M[U++],ae-=3;ae&&(W[a++]=M[U++],ae>1&&(W[a++]=M[U++]))}else{U=a-ge;do W[a++]=W[U++],W[a++]=W[U++],W[a++]=W[U++],ae-=3;while(ae>2);ae&&(W[a++]=W[U++],ae>1&&(W[a++]=W[U++]))}}else if((Z&64)===0){Y=I[(Y&65535)+(w&(1<<Z)-1)];continue n}else{e.msg="invalid distance code",E.mode=Sg;break e}break}}else if((Z&64)===0){Y=L[(Y&65535)+(w&(1<<Z)-1)];continue t}else if(Z&32){E.mode=XH;break e}else{e.msg="invalid literal/length code",E.mode=Sg;break e}break}}while(i<r&&a<u);ae=N>>3,i-=ae,N-=ae<<3,w&=(1<<N)-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=a<u?257+(u-a):257-(a-u),E.hold=w,E.bits=N};const vf=15,e6=852,t6=592,n6=0,Iy=1,i6=2,JH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ZH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eG=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nG=(n,e,t,i,r,a,l,u)=>{const h=u.bits;let f=0,p=0,v=0,x=0,w=0,N=0,L=0,I=0,j=0,X=0,Y,Z,ae,ge,U,M=null,k;const W=new Uint16Array(vf+1),E=new Uint16Array(vf+1);let R=null,B,ce,Ae;for(f=0;f<=vf;f++)W[f]=0;for(p=0;p<i;p++)W[e[t+p]]++;for(w=h,x=vf;x>=1&&W[x]===0;x--);if(w>x&&(w=x),x===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,u.bits=1,0;for(v=1;v<x&&W[v]===0;v++);for(w<v&&(w=v),I=1,f=1;f<=vf;f++)if(I<<=1,I-=W[f],I<0)return-1;if(I>0&&(n===n6||x!==1))return-1;for(E[1]=0,f=1;f<vf;f++)E[f+1]=E[f]+W[f];for(p=0;p<i;p++)e[t+p]!==0&&(l[E[e[t+p]]++]=p);if(n===n6?(M=R=l,k=20):n===Iy?(M=JH,R=ZH,k=257):(M=eG,R=tG,k=0),X=0,p=0,f=v,U=a,N=w,L=0,ae=-1,j=1<<w,ge=j-1,n===Iy&&j>e6||n===i6&&j>t6)return 1;for(;;){B=f-L,l[p]+1<k?(ce=0,Ae=l[p]):l[p]>=k?(ce=R[l[p]-k],Ae=M[l[p]-k]):(ce=96,Ae=0),Y=1<<f-L,Z=1<<N,v=Z;do Z-=Y,r[U+(X>>L)+Z]=B<<24|ce<<16|Ae|0;while(Z!==0);for(Y=1<<f-1;X&Y;)Y>>=1;if(Y!==0?(X&=Y-1,X+=Y):X=0,p++,--W[f]===0){if(f===x)break;f=e[t+l[p]]}if(f>w&&(X&ge)!==ae){for(L===0&&(L=w),U+=v,N=f-L,I=1<<N;N+L<x&&(I-=W[N+L],!(I<=0));)N++,I<<=1;if(j+=1<<N,n===Iy&&j>e6||n===i6&&j>t6)return 1;ae=X&ge,r[ae]=w<<24|N<<16|U-a|0}}return X!==0&&(r[U+X]=f-L<<24|64<<16|0),u.bits=w,0};var Cp=nG;const iG=0,mR=1,gR=2,{Z_FINISH:r6,Z_BLOCK:rG,Z_TREES:Ag,Z_OK:Ch,Z_STREAM_END:sG,Z_NEED_DICT:aG,Z_STREAM_ERROR:yo,Z_DATA_ERROR:yR,Z_MEM_ERROR:vR,Z_BUF_ERROR:oG,Z_DEFLATED:s6}=fR,T0=16180,a6=16181,o6=16182,l6=16183,c6=16184,u6=16185,h6=16186,f6=16187,d6=16188,p6=16189,j1=16190,oc=16191,Ly=16192,m6=16193,Dy=16194,g6=16195,y6=16196,v6=16197,b6=16198,Tg=16199,Eg=16200,w6=16201,_6=16202,x6=16203,S6=16204,A6=16205,jy=16206,T6=16207,E6=16208,Oi=16209,bR=16210,wR=16211,lG=852,cG=592,uG=15,hG=uG,N6=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function fG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<T0||e.mode>wR?1:0},_R=n=>{if(jh(n))return yo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=T0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(lG),e.distcode=e.distdyn=new Int32Array(cG),e.sane=1,e.back=-1,Ch},xR=n=>{if(jh(n))return yo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,_R(n)},SR=(n,e)=>{let t;if(jh(n))return yo;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?yo:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,xR(n))},AR=(n,e)=>{if(!n)return yo;const t=new fG;n.state=t,t.strm=n,t.window=null,t.mode=T0;const i=SR(n,e);return i!==Ch&&(n.state=null),i},dG=n=>AR(n,hG);let C6=!0,Py,ky;const pG=n=>{if(C6){Py=new Int32Array(512),ky=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Cp(mR,n.lens,0,288,Py,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Cp(gR,n.lens,0,32,ky,0,n.work,{bits:5}),C6=!1}n.lencode=Py,n.lenbits=9,n.distcode=ky,n.distbits=5},TR=(n,e,t,i)=>{let r;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(e.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(e.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},mG=(n,e)=>{let t,i,r,a,l,u,h,f,p,v,x,w,N,L,I=0,j,X,Y,Z,ae,ge,U,M;const k=new Uint8Array(4);let W,E;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jh(n)||!n.output||!n.input&&n.avail_in!==0)return yo;t=n.state,t.mode===oc&&(t.mode=Ly),l=n.next_out,r=n.output,h=n.avail_out,a=n.next_in,i=n.input,u=n.avail_in,f=t.hold,p=t.bits,v=u,x=h,M=Ch;e:for(;;)switch(t.mode){case T0:if(t.wrap===0){t.mode=Ly;break}for(;p<16;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=f&255,k[1]=f>>>8&255,t.check=bl(t.check,k,2,0),f=0,p=0,t.mode=a6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Oi;break}if((f&15)!==s6){n.msg="unknown compression method",t.mode=Oi;break}if(f>>>=4,p-=4,U=(f&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){n.msg="invalid window size",t.mode=Oi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?p6:oc,f=0,p=0;break;case a6:for(;p<16;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(t.flags=f,(t.flags&255)!==s6){n.msg="unknown compression method",t.mode=Oi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Oi;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=bl(t.check,k,2,0)),f=0,p=0,t.mode=o6;case o6:for(;p<32;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,k[2]=f>>>16&255,k[3]=f>>>24&255,t.check=bl(t.check,k,4,0)),f=0,p=0,t.mode=l6;case l6:for(;p<16;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=bl(t.check,k,2,0)),f=0,p=0,t.mode=c6;case c6:if(t.flags&1024){for(;p<16;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=bl(t.check,k,2,0)),f=0,p=0}else t.head&&(t.head.extra=null);t.mode=u6;case u6:if(t.flags&1024&&(w=t.length,w>u&&(w=u),w&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+w),U)),t.flags&512&&t.wrap&4&&(t.check=bl(t.check,i,w,a)),u-=w,a+=w,t.length-=w),t.length))break e;t.length=0,t.mode=h6;case h6:if(t.flags&2048){if(u===0)break e;w=0;do U=i[a+w++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=bl(t.check,i,w,a)),u-=w,a+=w,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=f6;case f6:if(t.flags&4096){if(u===0)break e;w=0;do U=i[a+w++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&w<u);if(t.flags&512&&t.wrap&4&&(t.check=bl(t.check,i,w,a)),u-=w,a+=w,U)break e}else t.head&&(t.head.comment=null);t.mode=d6;case d6:if(t.flags&512){for(;p<16;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Oi;break}f=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=oc;break;case p6:for(;p<32;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}n.adler=t.check=N6(f),f=0,p=0,t.mode=j1;case j1:if(t.havedict===0)return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=u,t.hold=f,t.bits=p,aG;n.adler=t.check=1,t.mode=oc;case oc:if(e===rG||e===Ag)break e;case Ly:if(t.last){f>>>=p&7,p-=p&7,t.mode=jy;break}for(;p<3;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}switch(t.last=f&1,f>>>=1,p-=1,f&3){case 0:t.mode=m6;break;case 1:if(pG(t),t.mode=Tg,e===Ag){f>>>=2,p-=2;break e}break;case 2:t.mode=y6;break;case 3:n.msg="invalid block type",t.mode=Oi}f>>>=2,p-=2;break;case m6:for(f>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Oi;break}if(t.length=f&65535,f=0,p=0,t.mode=Dy,e===Ag)break e;case Dy:t.mode=g6;case g6:if(w=t.length,w){if(w>u&&(w=u),w>h&&(w=h),w===0)break e;r.set(i.subarray(a,a+w),l),u-=w,a+=w,h-=w,l+=w,t.length-=w;break}t.mode=oc;break;case y6:for(;p<14;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(t.nlen=(f&31)+257,f>>>=5,p-=5,t.ndist=(f&31)+1,f>>>=5,p-=5,t.ncode=(f&15)+4,f>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Oi;break}t.have=0,t.mode=v6;case v6:for(;t.have<t.ncode;){for(;p<3;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}t.lens[R[t.have++]]=f&7,f>>>=3,p-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,W={bits:t.lenbits},M=Cp(iG,t.lens,0,19,t.lencode,0,t.work,W),t.lenbits=W.bits,M){n.msg="invalid code lengths set",t.mode=Oi;break}t.have=0,t.mode=b6;case b6:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[f&(1<<t.lenbits)-1],j=I>>>24,X=I>>>16&255,Y=I&65535,!(j<=p);){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(Y<16)f>>>=j,p-=j,t.lens[t.have++]=Y;else{if(Y===16){for(E=j+2;p<E;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(f>>>=j,p-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=Oi;break}U=t.lens[t.have-1],w=3+(f&3),f>>>=2,p-=2}else if(Y===17){for(E=j+3;p<E;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}f>>>=j,p-=j,U=0,w=3+(f&7),f>>>=3,p-=3}else{for(E=j+7;p<E;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}f>>>=j,p-=j,U=0,w=11+(f&127),f>>>=7,p-=7}if(t.have+w>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Oi;break}for(;w--;)t.lens[t.have++]=U}}if(t.mode===Oi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Oi;break}if(t.lenbits=9,W={bits:t.lenbits},M=Cp(mR,t.lens,0,t.nlen,t.lencode,0,t.work,W),t.lenbits=W.bits,M){n.msg="invalid literal/lengths set",t.mode=Oi;break}if(t.distbits=6,t.distcode=t.distdyn,W={bits:t.distbits},M=Cp(gR,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,W),t.distbits=W.bits,M){n.msg="invalid distances set",t.mode=Oi;break}if(t.mode=Tg,e===Ag)break e;case Tg:t.mode=Eg;case Eg:if(u>=6&&h>=258){n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=u,t.hold=f,t.bits=p,QH(n,x),l=n.next_out,r=n.output,h=n.avail_out,a=n.next_in,i=n.input,u=n.avail_in,f=t.hold,p=t.bits,t.mode===oc&&(t.back=-1);break}for(t.back=0;I=t.lencode[f&(1<<t.lenbits)-1],j=I>>>24,X=I>>>16&255,Y=I&65535,!(j<=p);){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(X&&(X&240)===0){for(Z=j,ae=X,ge=Y;I=t.lencode[ge+((f&(1<<Z+ae)-1)>>Z)],j=I>>>24,X=I>>>16&255,Y=I&65535,!(Z+j<=p);){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}f>>>=Z,p-=Z,t.back+=Z}if(f>>>=j,p-=j,t.back+=j,t.length=Y,X===0){t.mode=A6;break}if(X&32){t.back=-1,t.mode=oc;break}if(X&64){n.msg="invalid literal/length code",t.mode=Oi;break}t.extra=X&15,t.mode=w6;case w6:if(t.extra){for(E=t.extra;p<E;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=_6;case _6:for(;I=t.distcode[f&(1<<t.distbits)-1],j=I>>>24,X=I>>>16&255,Y=I&65535,!(j<=p);){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if((X&240)===0){for(Z=j,ae=X,ge=Y;I=t.distcode[ge+((f&(1<<Z+ae)-1)>>Z)],j=I>>>24,X=I>>>16&255,Y=I&65535,!(Z+j<=p);){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}f>>>=Z,p-=Z,t.back+=Z}if(f>>>=j,p-=j,t.back+=j,X&64){n.msg="invalid distance code",t.mode=Oi;break}t.offset=Y,t.extra=X&15,t.mode=x6;case x6:if(t.extra){for(E=t.extra;p<E;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Oi;break}t.mode=S6;case S6:if(h===0)break e;if(w=x-h,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Oi;break}w>t.wnext?(w-=t.wnext,N=t.wsize-w):N=t.wnext-w,w>t.length&&(w=t.length),L=t.window}else L=r,N=l-t.offset,w=t.length;w>h&&(w=h),h-=w,t.length-=w;do r[l++]=L[N++];while(--w);t.length===0&&(t.mode=Eg);break;case A6:if(h===0)break e;r[l++]=t.length,h--,t.mode=Eg;break;case jy:if(t.wrap){for(;p<32;){if(u===0)break e;u--,f|=i[a++]<<p,p+=8}if(x-=h,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?bl(t.check,r,x,l-x):s5(t.check,r,x,l-x)),x=h,t.wrap&4&&(t.flags?f:N6(f))!==t.check){n.msg="incorrect data check",t.mode=Oi;break}f=0,p=0}t.mode=T6;case T6:if(t.wrap&&t.flags){for(;p<32;){if(u===0)break e;u--,f+=i[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Oi;break}f=0,p=0}t.mode=E6;case E6:M=sG;break e;case Oi:M=yR;break e;case bR:return vR;case wR:default:return yo}return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=u,t.hold=f,t.bits=p,(t.wsize||x!==n.avail_out&&t.mode<Oi&&(t.mode<jy||e!==r6))&&TR(n,n.output,n.next_out,x-n.avail_out),v-=n.avail_in,x-=n.avail_out,n.total_in+=v,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?bl(t.check,r,x,n.next_out-x):s5(t.check,r,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===oc?128:0)+(t.mode===Tg||t.mode===Dy?256:0),(v===0&&x===0||e===r6)&&M===Ch&&(M=oG),M},gG=n=>{if(jh(n))return yo;let e=n.state;return e.window&&(e.window=null),n.state=null,Ch},yG=(n,e)=>{if(jh(n))return yo;const t=n.state;return(t.wrap&2)===0?yo:(t.head=e,e.done=!1,Ch)},vG=(n,e)=>{const t=e.length;let i,r,a;return jh(n)||(i=n.state,i.wrap!==0&&i.mode!==j1)?yo:i.mode===j1&&(r=1,r=s5(r,e,t,0),r!==i.check)?yR:(a=TR(n,e,t,t),a?(i.mode=bR,vR):(i.havedict=1,Ch))};var bG=xR,wG=SR,_G=_R,xG=dG,SG=AR,AG=mG,TG=gG,EG=yG,NG=vG,CG="pako inflate (from Nodeca project)",lc={inflateReset:bG,inflateReset2:wG,inflateResetKeep:_G,inflateInit:xG,inflateInit2:SG,inflate:AG,inflateEnd:TG,inflateGetHeader:EG,inflateSetDictionary:NG,inflateInfo:CG};function RG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var IG=RG;const ER=Object.prototype.toString,{Z_NO_FLUSH:LG,Z_FINISH:DG,Z_OK:$p,Z_STREAM_END:My,Z_NEED_DICT:Oy,Z_STREAM_ERROR:jG,Z_DATA_ERROR:R6,Z_MEM_ERROR:PG}=fR;function vm(n){this.options=dR.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YH,this.strm.avail_out=0;let t=lc.inflateInit2(this.strm,e.windowBits);if(t!==$p)throw new Error(a5[t]);if(this.header=new IG,lc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=o5.string2buf(e.dictionary):ER.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=lc.inflateSetDictionary(this.strm,e.dictionary),t!==$p)))throw new Error(a5[t])}vm.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?DG:LG,ER.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=lc.inflate(t,l),a===Oy&&r&&(a=lc.inflateSetDictionary(t,r),a===$p?a=lc.inflate(t,l):a===R6&&(a=Oy));t.avail_in>0&&a===My&&t.state.wrap>0&&n[t.next_in]!==0;)lc.inflateReset(t),a=lc.inflate(t,l);switch(a){case jG:case R6:case Oy:case PG:return this.onEnd(a),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||a===My))if(this.options.to==="string"){let h=o5.utf8border(t.output,t.next_out),f=t.next_out-h,p=o5.buf2string(t.output,h);t.next_out=f,t.avail_out=i-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===$p&&u===0)){if(a===My)return a=lc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};vm.prototype.onData=function(n){this.chunks.push(n)};vm.prototype.onEnd=function(n){n===$p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dR.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function kG(n,e){const t=new vm(e);if(t.push(n),t.err)throw t.msg||a5[t.err];return t.result}var MG=vm,OG=kG,VG={Inflate:MG,inflate:OG};const{Inflate:BG,inflate:FG}=VG;var I6=BG,UG=FG;const NR=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;NR[n]=e}const L6=4294967295;function zG(n,e,t){let i=n;for(let r=0;r<t;r++)i=NR[(i^e[r])&255]^i>>>8;return i}function qG(n,e){return(zG(L6,n,e)^L6)>>>0}function D6(n,e,t){const i=n.readUint32(),r=qG(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${r}`)}function CR(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function RR(n,e,t,i){let r=0;for(;r<i;r++)e[r]=n[r];for(;r<t;r++)e[r]=n[r]+e[r-i]&255}function IR(n,e,t,i){let r=0;if(t.length===0)for(;r<i;r++)e[r]=n[r];else for(;r<i;r++)e[r]=n[r]+t[r]&255}function LR(n,e,t,i,r){let a=0;if(t.length===0){for(;a<r;a++)e[a]=n[a];for(;a<i;a++)e[a]=n[a]+(e[a-r]>>1)&255}else{for(;a<r;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<i;a++)e[a]=n[a]+(e[a-r]+t[a]>>1)&255}}function DR(n,e,t,i,r){let a=0;if(t.length===0){for(;a<r;a++)e[a]=n[a];for(;a<i;a++)e[a]=n[a]+e[a-r]&255}else{for(;a<r;a++)e[a]=n[a]+t[a]&255;for(;a<i;a++)e[a]=n[a]+HG(e[a-r],t[a],t[a-r])&255}}function HG(n,e,t){const i=n+e-t,r=Math.abs(i-n),a=Math.abs(i-e),l=Math.abs(i-t);return r<=a&&r<=l?n:a<=l?e:t}function GG(n,e,t,i,r,a){switch(n){case 0:CR(e,t,r);break;case 1:RR(e,t,r,a);break;case 2:IR(e,t,i,r);break;case 3:LR(e,t,i,r,a);break;case 4:DR(e,t,i,r,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const WG=new Uint16Array([255]),$G=new Uint8Array(WG.buffer),KG=$G[0]===255;function YG(n){const{data:e,width:t,height:i,channels:r,depth:a}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(a/8)*r,h=new Uint8Array(i*t*u);let f=0;for(let p=0;p<7;p++){const v=l[p],x=Math.ceil((t-v.x)/v.xStep),w=Math.ceil((i-v.y)/v.yStep);if(x<=0||w<=0)continue;const N=x*u,L=new Uint8Array(N);for(let I=0;I<w;I++){const j=e[f++],X=e.subarray(f,f+N);f+=N;const Y=new Uint8Array(N);GG(j,X,Y,L,N,u),L.set(Y);for(let Z=0;Z<x;Z++){const ae=v.x+Z*v.xStep,ge=v.y+I*v.yStep;if(!(ae>=t||ge>=i))for(let U=0;U<u;U++)h[(ge*t+ae)*u+U]=Y[Z*u+U]}}}if(a===16){const p=new Uint16Array(h.buffer);if(KG)for(let v=0;v<p.length;v++)p[v]=XG(p[v]);return p}else return h}function XG(n){return(n&255)<<8|n>>8&255}const QG=new Uint16Array([255]),JG=new Uint8Array(QG.buffer),ZG=JG[0]===255,eW=new Uint8Array(0);function j6(n){const{data:e,width:t,height:i,channels:r,depth:a}=n,l=Math.ceil(a/8)*r,u=Math.ceil(a/8*r*t),h=new Uint8Array(i*u);let f=eW,p=0,v,x;for(let w=0;w<i;w++){switch(v=e.subarray(p+1,p+1+u),x=h.subarray(w*u,(w+1)*u),e[p]){case 0:CR(v,x,u);break;case 1:RR(v,x,u,l);break;case 2:IR(v,x,f,u);break;case 3:LR(v,x,f,u,l);break;case 4:DR(v,x,f,u,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=x,p+=u+1}if(a===16){const w=new Uint16Array(h.buffer);if(ZG)for(let N=0;N<w.length;N++)w[N]=tW(w[N]);return w}else return h}function tW(n){return(n&255)<<8|n>>8&255}const Kg=Uint8Array.of(137,80,78,71,13,10,26,10);function P6(n){if(!nW(n.readBytes(Kg.length)))throw new Error("wrong PNG signature")}function nW(n){if(n.length<Kg.length)return!1;for(let e=0;e<Kg.length;e++)if(n[e]!==Kg[e])return!1;return!0}const iW="tEXt",rW=0,jR=new TextDecoder("latin1");function sW(n){if(oW(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const aW=/^[\u0000-\u00FF]*$/;function oW(n){if(!aW.test(n))throw new Error("invalid latin1 text")}function lW(n,e,t){const i=PR(e);n[i]=cW(e,t-i.length-1)}function PR(n){for(n.mark();n.readByte()!==rW;);const e=n.offset;n.reset();const t=jR.decode(n.readBytes(e-n.offset-1));return n.skip(1),sW(t),t}function cW(n,e){return jR.decode(n.readBytes(e))}const Ba={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Vy={UNKNOWN:-1,DEFLATE:0},k6={UNKNOWN:-1,ADAPTIVE:0},By={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ng={NONE:0,BACKGROUND:1,PREVIOUS:2},Fy={SOURCE:0,OVER:1};class uW extends sw{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new I6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Vy.UNKNOWN,this._filterMethod=k6.UNKNOWN,this._interlaceMethod=By.UNKNOWN,this._colorType=Ba.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(P6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(P6(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case iW:lW(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?D6(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?D6(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=hW(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Ba.GREYSCALE:i=1;break;case Ba.TRUECOLOUR:i=3;break;case Ba.INDEXED_COLOUR:i=1;break;case Ba.GREYSCALE_ALPHA:i=2;break;case Ba.TRUECOLOUR_ALPHA:i=4;break;case Ba.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Vy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let r=0;r<t;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ba.GREYSCALE:case Ba.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ba.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ba.UNKNOWN:case Ba.GREYSCALE_ALPHA:case Ba.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=PR(this),i=this.readUint8();if(i!==Vy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:UG(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=j6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(i,r,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case Ng.NONE:break;case Ng.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let a=0;a<this._png.width;a++){const l=(r*e.width+a)*this._png.channels;for(let u=0;u<this._png.channels;u++)i.data[l+u]=0}break;case Ng.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,r=(a,l)=>{const u=((a+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,h=(a*t.width+l)*this._png.channels;return{index:u,frameIndex:h}};switch(t.blendOp){case Fy.SOURCE:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:u,frameIndex:h}=r(a,l);for(let f=0;f<this._png.channels;f++)e.data[u+f]=t.data[h+f]}break;case Fy.OVER:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:u,frameIndex:h}=r(a,l);for(let f=0;f<this._png.channels;f++){const p=t.data[h+this._png.channels-1]/i,v=f%(this._png.channels-1)===0?1:t.data[h+f],x=Math.floor(p*v+(1-p)*e.data[u+f]);e.data[u+f]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==k6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===By.NO_INTERLACE)this._png.data=j6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===By.ADAM7)this._png.data=YG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ng.NONE,blendOp:Fy.SOURCE,data:e}),this._inflator=new I6,this._writingDataChunks=!1}}function hW(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var M6;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(M6||(M6={}));function fW(n,e){return new uW(n,e).decode()}var sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Uy(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var _i={log:Uy,warn:function(n){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):Uy.call(null,arguments))},error:function(n){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):Uy(n))}};function zy(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){ch(i.response,e,t)},i.onerror=function(){_i.error("could not download file")},i.send()}function O6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ch=sn.saveAs||((typeof window>"u"?"undefined":ai(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=sn.URL||sn.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?O6(r.href)?zy(n,e,t):Cg(r,r.target="_blank"):Cg(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Cg(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(O6(n))zy(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Cg(i)})}else navigator.msSaveOrOpenBlob((function(r,a){return a===void 0?a={autoBom:!1}:ai(a)!=="object"&&(_i.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return zy(n,e,t);var r=n.type==="application/octet-stream",a=/constructor/i.test(sn.HTMLElement)||sn.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":ai(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},u.readAsDataURL(n)}else{var h=sn.URL||sn.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function kR(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,a=t[i].process,l=r.exec(n);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+u+h+f}}var Yg=sn.atob.bind(sn),V6=sn.btoa.bind(sn);function qy(n,e){var t=n[0],i=n[1],r=n[2],a=n[3];t=js(t,i,r,a,e[0],7,-680876936),a=js(a,t,i,r,e[1],12,-389564586),r=js(r,a,t,i,e[2],17,606105819),i=js(i,r,a,t,e[3],22,-1044525330),t=js(t,i,r,a,e[4],7,-176418897),a=js(a,t,i,r,e[5],12,1200080426),r=js(r,a,t,i,e[6],17,-1473231341),i=js(i,r,a,t,e[7],22,-45705983),t=js(t,i,r,a,e[8],7,1770035416),a=js(a,t,i,r,e[9],12,-1958414417),r=js(r,a,t,i,e[10],17,-42063),i=js(i,r,a,t,e[11],22,-1990404162),t=js(t,i,r,a,e[12],7,1804603682),a=js(a,t,i,r,e[13],12,-40341101),r=js(r,a,t,i,e[14],17,-1502002290),t=Ps(t,i=js(i,r,a,t,e[15],22,1236535329),r,a,e[1],5,-165796510),a=Ps(a,t,i,r,e[6],9,-1069501632),r=Ps(r,a,t,i,e[11],14,643717713),i=Ps(i,r,a,t,e[0],20,-373897302),t=Ps(t,i,r,a,e[5],5,-701558691),a=Ps(a,t,i,r,e[10],9,38016083),r=Ps(r,a,t,i,e[15],14,-660478335),i=Ps(i,r,a,t,e[4],20,-405537848),t=Ps(t,i,r,a,e[9],5,568446438),a=Ps(a,t,i,r,e[14],9,-1019803690),r=Ps(r,a,t,i,e[3],14,-187363961),i=Ps(i,r,a,t,e[8],20,1163531501),t=Ps(t,i,r,a,e[13],5,-1444681467),a=Ps(a,t,i,r,e[2],9,-51403784),r=Ps(r,a,t,i,e[7],14,1735328473),t=ks(t,i=Ps(i,r,a,t,e[12],20,-1926607734),r,a,e[5],4,-378558),a=ks(a,t,i,r,e[8],11,-2022574463),r=ks(r,a,t,i,e[11],16,1839030562),i=ks(i,r,a,t,e[14],23,-35309556),t=ks(t,i,r,a,e[1],4,-1530992060),a=ks(a,t,i,r,e[4],11,1272893353),r=ks(r,a,t,i,e[7],16,-155497632),i=ks(i,r,a,t,e[10],23,-1094730640),t=ks(t,i,r,a,e[13],4,681279174),a=ks(a,t,i,r,e[0],11,-358537222),r=ks(r,a,t,i,e[3],16,-722521979),i=ks(i,r,a,t,e[6],23,76029189),t=ks(t,i,r,a,e[9],4,-640364487),a=ks(a,t,i,r,e[12],11,-421815835),r=ks(r,a,t,i,e[15],16,530742520),t=Ms(t,i=ks(i,r,a,t,e[2],23,-995338651),r,a,e[0],6,-198630844),a=Ms(a,t,i,r,e[7],10,1126891415),r=Ms(r,a,t,i,e[14],15,-1416354905),i=Ms(i,r,a,t,e[5],21,-57434055),t=Ms(t,i,r,a,e[12],6,1700485571),a=Ms(a,t,i,r,e[3],10,-1894986606),r=Ms(r,a,t,i,e[10],15,-1051523),i=Ms(i,r,a,t,e[1],21,-2054922799),t=Ms(t,i,r,a,e[8],6,1873313359),a=Ms(a,t,i,r,e[15],10,-30611744),r=Ms(r,a,t,i,e[6],15,-1560198380),i=Ms(i,r,a,t,e[13],21,1309151649),t=Ms(t,i,r,a,e[4],6,-145523070),a=Ms(a,t,i,r,e[11],10,-1120210379),r=Ms(r,a,t,i,e[2],15,718787259),i=Ms(i,r,a,t,e[9],21,-343485551),n[0]=vu(t,n[0]),n[1]=vu(i,n[1]),n[2]=vu(r,n[2]),n[3]=vu(a,n[3])}function E0(n,e,t,i,r,a){return e=vu(vu(e,n),vu(i,a)),vu(e<<r|e>>>32-r,t)}function js(n,e,t,i,r,a,l){return E0(e&t|~e&i,n,e,r,a,l)}function Ps(n,e,t,i,r,a,l){return E0(e&i|t&~i,n,e,r,a,l)}function ks(n,e,t,i,r,a,l){return E0(e^t^i,n,e,r,a,l)}function Ms(n,e,t,i,r,a,l){return E0(t^(e|~i),n,e,r,a,l)}function MR(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)qy(i,dW(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(qy(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,qy(i,r),i}function dW(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var B6="0123456789abcdef".split("");function pW(n){for(var e="",t=0;t<4;t++)e+=B6[n>>8*t+4&15]+B6[n>>8*t&15];return e}function mW(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function l5(n){return MR(n).map(mW).join("")}var gW=(function(n){for(var e=0;e<n.length;e++)n[e]=pW(n[e]);return n.join("")})(MR("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(n,e){if(gW){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function c5(n,e){var t,i,r,a;if(n!==t){for(var l=(r=n,a=1+(256/n.length|0),new Array(a+1).join(r)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var p=u[h];f=(f+p+l.charCodeAt(h))%256,u[h]=u[f],u[f]=p}t=n,i=u}else u=i;var v=e.length,x=0,w=0,N="";for(h=0;h<v;h++)w=(w+(p=u[x=(x+1)%256]))%256,u[x]=u[w],u[w]=p,l=u[(u[x]+u[w])%256],N+=String.fromCharCode(e.charCodeAt(h)^l);return N}var F6={print:4,modify:8,copy:16,"annot-forms":32};function Tf(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(F6.perm!==void 0)throw new Error("Invalid permission: "+u);r+=F6[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=l5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=c5(this.encryptionKey,this.padding)}function Ef(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return e}function U6(n){if(ai(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[i,!!r],a},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(n,i)}catch(u){sn.console&&_i.error("jsPDF PubSub Error",u.message,u)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function P1(n){if(!(this instanceof P1))return new P1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function OR(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function uh(n,e,t,i,r){if(!(this instanceof uh))return new uh(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,OR.call(this,i,r)}function jf(n,e,t,i,r){if(!(this instanceof jf))return new jf(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,OR.call(this,i,r)}function Dt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],l=[],u=1,h=16,f="S",p=null;ai(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,x={},w={internal:{},__private__:{}};w.__private__.PubSub=U6;var N="1.3",L=w.__private__.getPdfVersion=function(){return N};w.__private__.setPdfVersion=function(A){N=A};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return I};var j=w.__private__.getPageFormat=function(A){return I[A]};r=r||"a4";var X="compat",Y="advanced",Z=X;function ae(){this.saveGraphicsState(),H(new It(Qt,0,0,-Qt,0,Ws()*Qt).toString()+" cm"),this.setFontSize(this.getFontSize()/Qt),f="n",Z=Y}function ge(){this.restoreGraphicsState(),f="S",Z=X}var U=w.__private__.combineFontStyleAndFontWeight=function(A,z){if(A=="bold"&&z=="normal"||A=="bold"&&z==400||A=="normal"&&z=="italic"||A=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(A=z==400||z==="normal"?A==="italic"?"italic":"normal":z!=700&&z!=="bold"||A!=="normal"?(z==700?"bold":z)+""+A:"bold"),A};w.advancedAPI=function(A){var z=Z===X;return z&&ae.call(this),typeof A!="function"||(A(this),z&&ge.call(this)),this},w.compatAPI=function(A){var z=Z===Y;return z&&ge.call(this),typeof A!="function"||(A(this),z&&ae.call(this)),this},w.isAdvancedAPI=function(){return Z===Y};var M,k=function(A){if(Z!==Y)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=w.roundToPrecision=w.__private__.roundToPrecision=function(A,z){var he=e||z;if(isNaN(A)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(he).replace(/0+$/,"")};M=w.hpf=w.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,16)};var E=w.f2=w.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return W(A,2)},R=w.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return W(A,3)},B=w.scale=w.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return Z===X?A*Qt:Z===Y?A:void 0},ce=function(A){return B((function(z){return Z===X?Ws()-z:Z===Y?z:void 0})(A))};w.__private__.setPrecision=w.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Ae,oe="00000000000000000000000000000000",me=w.__private__.getFileId=function(){return oe},se=w.__private__.setFileId=function(A){return oe=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(yi=new Tf(p.userPermissions,p.userPassword,p.ownerPassword,oe)),oe};w.setFileId=function(A){return se(A),this},w.getFileId=function(){return me()};var Ne=w.__private__.convertDateToPDFDate=function(A){var z=A.getTimezoneOffset(),he=z<0?"+":"-",ve=Math.floor(Math.abs(z/60)),Ee=Math.abs(z%60),$e=[he,K(ve),"'",K(Ee),"'"].join("");return["D:",A.getFullYear(),K(A.getMonth()+1),K(A.getDate()),K(A.getHours()),K(A.getMinutes()),K(A.getSeconds()),$e].join("")},ue=w.__private__.convertPDFDateToDate=function(A){var z=parseInt(A.substr(2,4),10),he=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),Ee=parseInt(A.substr(10,2),10),$e=parseInt(A.substr(12,2),10),et=parseInt(A.substr(14,2),10);return new Date(z,he,ve,Ee,$e,et,0)},V=w.__private__.setCreationDate=function(A){var z;if(A===void 0&&(A=new Date),A instanceof Date)z=Ne(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=A}return Ae=z},P=w.__private__.getCreationDate=function(A){var z=Ae;return A==="jsDate"&&(z=ue(Ae)),z};w.setCreationDate=function(A){return V(A),this},w.getCreationDate=function(A){return P(A)};var G,K=w.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},re=w.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},de=0,pe=[],xe=[],Te=0,Ve=[],be=[],Ce=!1,je=xe;w.__private__.setCustomOutputDestination=function(A){Ce=!0,je=A};var Pe=function(A){Ce||(je=A)};w.__private__.resetCustomOutputDestination=function(){Ce=!1,je=xe};var H=w.__private__.out=function(A){return A=A.toString(),Te+=A.length+1,je.push(A),je},qe=w.__private__.write=function(A){return H(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ot=w.__private__.getArrayBuffer=function(A){for(var z=A.length,he=new ArrayBuffer(z),ve=new Uint8Array(he);z--;)ve[z]=A.charCodeAt(z);return he},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return lt};var Ge=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(A){return Ge=Z===Y?A/Qt:A,this};var rt,ct=w.__private__.getFontSize=w.getFontSize=function(){return Z===X?Ge:Ge*Qt},Nt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(A){return Nt=A,this},w.__private__.getR2L=w.getR2L=function(){return Nt};var St,Ht=w.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))rt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');rt=A}else rt=parseInt(A,10)};w.__private__.getZoomMode=function(){return rt};var en,st=w.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');St=A};w.__private__.getPageMode=function(){return St};var Yt=w.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');en=A};w.__private__.getLayoutMode=function(){return en},w.__private__.setDisplayMode=w.setDisplayMode=function(A,z,he){return Ht(A),Yt(z),st(he),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(A){if(Object.keys(Xt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[A]},w.__private__.getDocumentProperties=function(){return Xt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(A){for(var z in Xt)Xt.hasOwnProperty(z)&&A[z]&&(Xt[z]=A[z]);return this},w.__private__.setDocumentProperty=function(A,z){if(Object.keys(Xt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[A]=z};var gt,Qt,yt,oi,nn,jt={},Gt={},an=[],Rt={},Fn={},Ut={},zt={},qn=null,Ct=0,Tt=[],gn=new U6(w),Nr=n.hotfixes||[],pr={},ta={},rr=[],It=function A(z,he,ve,Ee,$e,et){if(!(this instanceof A))return new A(z,he,ve,Ee,$e,et);isNaN(z)&&(z=1),isNaN(he)&&(he=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN($e)&&($e=0),isNaN(et)&&(et=0),this._matrix=[z,he,ve,Ee,$e,et]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(A)},It.prototype.multiply=function(A){var z=A.sx*this.sx+A.shy*this.shx,he=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,Ee=A.shx*this.shy+A.sy*this.sy,$e=A.tx*this.sx+A.ty*this.shx+this.tx,et=A.tx*this.shy+A.ty*this.sy+this.ty;return new It(z,he,ve,Ee,$e,et)},It.prototype.decompose=function(){var A=this.sx,z=this.shy,he=this.shx,ve=this.sy,Ee=this.tx,$e=this.ty,et=Math.sqrt(A*A+z*z),dt=(A/=et)*he+(z/=et)*ve;he-=A*dt,ve-=z*dt;var wt=Math.sqrt(he*he+ve*ve);return dt/=wt,A*(ve/=wt)<z*(he/=wt)&&(A=-A,z=-z,dt=-dt,et=-et),{scale:new It(et,0,0,wt,0,0),translate:new It(1,0,0,1,Ee,$e),rotate:new It(A,z,-z,A,0,0),skew:new It(1,0,dt,1,0,0)}},It.prototype.toString=function(A){return this.join(" ")},It.prototype.inversed=function(){var A=this.sx,z=this.shy,he=this.shx,ve=this.sy,Ee=this.tx,$e=this.ty,et=1/(A*ve-z*he),dt=ve*et,wt=-z*et,Vt=-he*et,Lt=A*et;return new It(dt,wt,Vt,Lt,-dt*Ee-Vt*$e,-wt*Ee-Lt*$e)},It.prototype.applyToPoint=function(A){var z=A.x*this.sx+A.y*this.shx+this.tx,he=A.x*this.shy+A.y*this.sy+this.ty;return new yr(z,he)},It.prototype.applyToRectangle=function(A){var z=this.applyToPoint(A),he=this.applyToPoint(new yr(A.x+A.w,A.y+A.h));return new ia(z.x,z.y,he.x-z.x,he.y-z.y)},It.prototype.clone=function(){var A=this.sx,z=this.shy,he=this.shx,ve=this.sy,Ee=this.tx,$e=this.ty;return new It(A,z,he,ve,Ee,$e)},w.Matrix=It;var Ta=w.matrixMult=function(A,z){return z.multiply(A)},as=new It(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=as;var qr=function(A,z){if(!Fn[A]){var he=(z instanceof uh?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);z.id=he,Fn[A]=he,Rt[he]=z,gn.publish("addPattern",z)}};w.ShadingPattern=uh,w.TilingPattern=jf,w.addShadingPattern=function(A,z){return k("addShadingPattern()"),qr(A,z),this},w.beginTilingPattern=function(A){k("beginTilingPattern()"),ra(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},w.endTilingPattern=function(A,z){k("endTilingPattern()"),z.stream=be[G].join(`
`),qr(A,z),gn.publish("endTilingPattern",z),rr.pop().restore()};var Hr,Jn=w.__private__.newObject=function(){var A=li();return $i(A,!0),A},li=w.__private__.newObjectDeferred=function(){return de++,pe[de]=function(){return Te},de},$i=function(A,z){return z=typeof z=="boolean"&&z,pe[A]=Te,z&&H(A+" 0 obj"),A},Cr=w.__private__.newAdditionalObject=function(){var A={objId:li(),content:""};return Ve.push(A),A},mr=li(),Hn=li(),ti=w.__private__.decodeColorString=function(A){var z=A.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var he=parseFloat(z[0]);z=[he,he,he,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(z[Ee])).toString(16)).slice(-2);return ve},Ki=w.__private__.encodeColorString=function(A){var z;typeof A=="string"&&(A={ch1:A});var he=A.ch1,ve=A.ch2,Ee=A.ch3,$e=A.ch4,et=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var dt=new kR(he);if(dt.ok)he=dt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var wt=parseInt(he.substr(1),16);he=wt>>16&255,ve=wt>>8&255,Ee=255&wt}if(ve===void 0||$e===void 0&&he===ve&&ve===Ee)z=typeof he=="string"?he+" "+et[0]:A.precision===2?E(he/255)+" "+et[0]:R(he/255)+" "+et[0];else if($e===void 0||ai($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",et[1]].join(" ");z=typeof he=="string"?[he,ve,Ee,et[1]].join(" "):A.precision===2?[E(he/255),E(ve/255),E(Ee/255),et[1]].join(" "):[R(he/255),R(ve/255),R(Ee/255),et[1]].join(" ")}else z=typeof he=="string"?[he,ve,Ee,$e,et[2]].join(" "):A.precision===2?[E(he),E(ve),E(Ee),E($e),et[2]].join(" "):[R(he),R(ve),R(Ee),R($e),et[2]].join(" ");return z},Gr=w.__private__.getFilters=function(){return l},As=w.__private__.putStream=function(A){var z=(A=A||{}).data||"",he=A.filters||Gr(),ve=A.alreadyAppliedFilters||[],Ee=A.addLength1||!1,$e=z.length,et=A.objectId,dt=function(C){return C};if(p!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(dt=yi.encryptor(et,0));var wt={};he===!0&&(he=["FlateEncode"]);var Vt=A.additionalKeyValues||[],Lt=(wt=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(z,he):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(wt.data.length!==0&&(Vt.push({key:"Length",value:wt.data.length}),Ee===!0&&Vt.push({key:"Length1",value:$e})),Lt.length!=0)if(Lt.split("/").length-1==1)Vt.push({key:"Filter",value:Lt});else{Vt.push({key:"Filter",value:"["+Lt+"]"});for(var _n=0;_n<Vt.length;_n+=1)if(Vt[_n].key==="DecodeParms"){for(var ci=[],Zn=0;Zn<wt.reverseChain.split("/").length-1;Zn+=1)ci.push("null");ci.push(Vt[_n].value),Vt[_n].value="["+ci.join(" ")+"]"}}H("<<");for(var g=0;g<Vt.length;g++)H("/"+Vt[g].key+" "+Vt[g].value);H(">>"),wt.data.length!==0&&(H("stream"),H(dt(wt.data)),H("endstream"))},Ga=w.__private__.putPage=function(A){var z=A.number,he=A.data,ve=A.objId,Ee=A.contentsObjId;$i(ve,!0),H("<</Type /Page"),H("/Parent "+A.rootDictionaryObjId+" 0 R"),H("/Resources "+A.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(M(A.mediaBox.bottomLeftX))+" "+parseFloat(M(A.mediaBox.bottomLeftY))+" "+M(A.mediaBox.topRightX)+" "+M(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&H("/CropBox ["+M(A.cropBox.bottomLeftX)+" "+M(A.cropBox.bottomLeftY)+" "+M(A.cropBox.topRightX)+" "+M(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&H("/BleedBox ["+M(A.bleedBox.bottomLeftX)+" "+M(A.bleedBox.bottomLeftY)+" "+M(A.bleedBox.topRightX)+" "+M(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&H("/TrimBox ["+M(A.trimBox.bottomLeftX)+" "+M(A.trimBox.bottomLeftY)+" "+M(A.trimBox.topRightX)+" "+M(A.trimBox.topRightY)+"]"),A.artBox!==null&&H("/ArtBox ["+M(A.artBox.bottomLeftX)+" "+M(A.artBox.bottomLeftY)+" "+M(A.artBox.topRightX)+" "+M(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&H("/UserUnit "+A.userUnit),gn.publish("putPage",{objId:ve,pageContext:Tt[z],pageNumber:z,page:he}),H("/Contents "+Ee+" 0 R"),H(">>"),H("endobj");var $e=he.join(`
`);return Z===Y&&($e+=`
Q`),$i(Ee,!0),As({data:$e,filters:Gr(),objectId:Ee}),H("endobj"),ve},zs=w.__private__.putPages=function(){var A,z,he=[];for(A=1;A<=Ct;A++)Tt[A].objId=li(),Tt[A].contentsObjId=li();for(A=1;A<=Ct;A++)he.push(Ga({number:A,data:be[A],objId:Tt[A].objId,contentsObjId:Tt[A].contentsObjId,mediaBox:Tt[A].mediaBox,cropBox:Tt[A].cropBox,bleedBox:Tt[A].bleedBox,trimBox:Tt[A].trimBox,artBox:Tt[A].artBox,userUnit:Tt[A].userUnit,rootDictionaryObjId:mr,resourceDictionaryObjId:Hn}));$i(mr,!0),H("<</Type /Pages");var ve="/Kids [";for(z=0;z<Ct;z++)ve+=he[z]+" 0 R ";H(ve+"]"),H("/Count "+Ct),H(">>"),H("endobj"),gn.publish("postPutPages")},Wr=function(A){gn.publish("putFont",{font:A,out:H,newObject:Jn,putStream:As}),A.isAlreadyPutted!==!0&&(A.objectNumber=Jn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Ef(A.postScriptName)),H("/Subtype /Type1"),typeof A.encoding=="string"&&H("/Encoding /"+A.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Ea=function(A){A.objectNumber=Jn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[M(A.x),M(A.y),M(A.x+A.width),M(A.y+A.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var he=A.pages[1].join(`
`);As({data:he,additionalKeyValues:z,objectId:A.objectNumber}),H("endobj")},os=function(A,z){z||(z=21);var he=Jn(),ve=(function(et,dt){var wt,Vt=[],Lt=1/(dt-1);for(wt=0;wt<1;wt+=Lt)Vt.push(wt);if(Vt.push(1),et[0].offset!=0){var _n={offset:0,color:et[0].color};et.unshift(_n)}if(et[et.length-1].offset!=1){var ci={offset:1,color:et[et.length-1].color};et.push(ci)}for(var Zn="",g=0,C=0;C<Vt.length;C++){for(wt=Vt[C];wt>et[g+1].offset;)g++;var F=et[g].offset,ne=(wt-F)/(et[g+1].offset-F),Ie=et[g].color,Be=et[g+1].color;Zn+=re(Math.round((1-ne)*Ie[0]+ne*Be[0]).toString(16))+re(Math.round((1-ne)*Ie[1]+ne*Be[1]).toString(16))+re(Math.round((1-ne)*Ie[2]+ne*Be[2]).toString(16))}return Zn.trim()})(A.colors,z),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+z+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),As({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),H("endobj"),A.objectNumber=Jn(),H("<< /ShadingType "+A.type),H("/ColorSpace /DeviceRGB");var $e="/Coords ["+M(parseFloat(A.coords[0]))+" "+M(parseFloat(A.coords[1]))+" ";A.type===2?$e+=M(parseFloat(A.coords[2]))+" "+M(parseFloat(A.coords[3])):$e+=M(parseFloat(A.coords[2]))+" "+M(parseFloat(A.coords[3]))+" "+M(parseFloat(A.coords[4]))+" "+M(parseFloat(A.coords[5])),H($e+="]"),A.matrix&&H("/Matrix ["+A.matrix.toString()+"]"),H("/Function "+he+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Rr=function(A,z){var he=li(),ve=Jn();z.push({resourcesOid:he,objectOid:ve}),A.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+A.boundingBox.map(M).join(" ")+"]"}),Ee.push({key:"XStep",value:M(A.xStep)}),Ee.push({key:"YStep",value:M(A.yStep)}),Ee.push({key:"Resources",value:he+" 0 R"}),A.matrix&&Ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),As({data:A.stream,additionalKeyValues:Ee,objectId:A.objectNumber}),H("endobj")},ls=function(A){for(var z in A.objectNumber=Jn(),H("<<"),A)switch(z){case"opacity":H("/ca "+E(A[z]));break;case"stroke-opacity":H("/CA "+E(A[z]))}H(">>"),H("endobj")},Ts=function(A){$i(A.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in H("/Font <<"),jt)jt.hasOwnProperty(z)&&(v===!1||v===!0&&x.hasOwnProperty(z))&&H("/"+z+" "+jt[z].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var z in H("/Shading <<"),Rt)Rt.hasOwnProperty(z)&&Rt[z]instanceof uh&&Rt[z].objectNumber>=0&&H("/"+z+" "+Rt[z].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),H(">>")}})(),(function(z){if(Object.keys(Rt).length>0){for(var he in H("/Pattern <<"),Rt)Rt.hasOwnProperty(he)&&Rt[he]instanceof w.TilingPattern&&Rt[he].objectNumber>=0&&Rt[he].objectNumber<z&&H("/"+he+" "+Rt[he].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),H(">>")}})(A.objectOid),(function(){if(Object.keys(Ut).length>0){var z;for(z in H("/ExtGState <<"),Ut)Ut.hasOwnProperty(z)&&Ut[z].objectNumber>=0&&H("/"+z+" "+Ut[z].objectNumber+" 0 R");gn.publish("putGStateDict"),H(">>")}})(),(function(){for(var z in H("/XObject <<"),pr)pr.hasOwnProperty(z)&&pr[z].objectNumber>=0&&H("/"+z+" "+pr[z].objectNumber+" 0 R");gn.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},Ai=function(A){Gt[A.fontName]=Gt[A.fontName]||{},Gt[A.fontName][A.fontStyle]=A.id},Qo=function(A,z,he,ve,Ee){var $e={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:A,fontName:z,fontStyle:he,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return gn.publish("addFont",{font:$e,instance:this}),jt[$e.id]=$e,Ai($e),$e.id},$r=w.__private__.pdfEscape=w.pdfEscape=function(A,z){return(function(he,ve){var Ee,$e,et,dt,wt,Vt,Lt,_n,ci;if(et=(ve=ve||{}).sourceEncoding||"Unicode",wt=ve.outputEncoding,(ve.autoencode||wt)&&jt[gt].metadata&&jt[gt].metadata[et]&&jt[gt].metadata[et].encoding&&(dt=jt[gt].metadata[et].encoding,!wt&&jt[gt].encoding&&(wt=jt[gt].encoding),!wt&&dt.codePages&&(wt=dt.codePages[0]),typeof wt=="string"&&(wt=dt[wt]),wt)){for(Lt=!1,Vt=[],Ee=0,$e=he.length;Ee<$e;Ee++)(_n=wt[he.charCodeAt(Ee)])?Vt.push(String.fromCharCode(_n)):Vt.push(he[Ee]),Vt[Ee].charCodeAt(0)>>8&&(Lt=!0);he=Vt.join("")}for(Ee=he.length;Lt===void 0&&Ee!==0;)he.charCodeAt(Ee-1)>>8&&(Lt=!0),Ee--;if(!Lt)return he;for(Vt=ve.noBOM?[]:[254,255],Ee=0,$e=he.length;Ee<$e;Ee++){if((ci=(_n=he.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(ci),Vt.push(_n-(ci<<8))}return String.fromCharCode.apply(void 0,Vt)})(A,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Es=w.__private__.beginPage=function(A){be[++Ct]=[],Tt[Ct]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Jo(Ct),Pe(be[G])},qs=function(A,z){var he,ve,Ee;switch(t=z||t,typeof A=="string"&&(he=j(A.toLowerCase()),Array.isArray(he)&&(ve=he[0],Ee=he[1])),Array.isArray(A)&&(ve=A[0]*Qt,Ee=A[1]*Qt),isNaN(ve)&&(ve=r[0],Ee=r[1]),(ve>14400||Ee>14400)&&(_i.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),r=[ve,Ee],t.substr(0,1)){case"l":Ee>ve&&(r=[Ee,ve]);break;case"p":ve>Ee&&(r=[Ee,ve])}Es(r),Pt(Yr),H(us),fs!==0&&H(fs+" J"),Bi!==0&&H(Bi+" j"),gn.publish("addPage",{pageNumber:Ct})},vo=function(A){A>0&&A<=Ct&&(be.splice(A,1),Tt.splice(A,1),Ct--,G>Ct&&(G=Ct),this.setPage(G))},Jo=function(A){A>0&&A<=Ct&&(G=A)},Zo=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return be.length-1},Pl=function(A,z,he){var ve,Ee=void 0;return he=he||{},A=A!==void 0?A:jt[gt].fontName,z=z!==void 0?z:jt[gt].fontStyle,ve=A.toLowerCase(),Gt[ve]!==void 0&&Gt[ve][z]!==void 0?Ee=Gt[ve][z]:Gt[A]!==void 0&&Gt[A][z]!==void 0?Ee=Gt[A][z]:he.disableWarning===!1&&_i.warn("Unable to look up font label for font '"+A+"', '"+z+"'. Refer to getFontList() for available fonts."),Ee||he.noFallback||(Ee=Gt.times[z])==null&&(Ee=Gt.times.normal),Ee},cs=w.__private__.putInfo=function(){var A=Jn(),z=function(ve){return ve};for(var he in p!==null&&(z=yi.encryptor(A,0)),H("<<"),H("/Producer ("+$r(z("jsPDF "+Dt.version))+")"),Xt)Xt.hasOwnProperty(he)&&Xt[he]&&H("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+$r(z(Xt[he]))+")");H("/CreationDate ("+$r(z(Ae))+")"),H(">>"),H("endobj")},gr=w.__private__.putCatalog=function(A){var z=(A=A||{}).rootDictionaryObjId||mr;switch(Jn(),H("<<"),H("/Type /Catalog"),H("/Pages "+z+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+rt;he.substr(he.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&H("/OpenAction [3 0 R /XYZ null null "+E(rt)+"]")}switch(en||(en="continuous"),en){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}St&&H("/PageMode /"+St),gn.publish("putCatalog"),H(">>"),H("endobj")},Li=w.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(de+1)),H("/Root "+de+" 0 R"),H("/Info "+(de-1)+" 0 R"),p!==null&&H("/Encrypt "+yi.oid+" 0 R"),H("/ID [ <"+oe+"> <"+oe+"> ]"),H(">>")},wn=w.__private__.putHeader=function(){H("%PDF-"+N),H("%")},Na=w.__private__.putXRef=function(){var A="0000000000";H("xref"),H("0 "+(de+1)),H("0000000000 65535 f ");for(var z=1;z<=de;z++)typeof pe[z]=="function"?H((A+pe[z]()).slice(-10)+" 00000 n "):pe[z]!==void 0?H((A+pe[z]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ns=w.__private__.buildDocument=function(){var A;de=0,Te=0,xe=[],pe=[],Ve=[],mr=li(),Hn=li(),Pe(xe),gn.publish("buildDocument"),wn(),zs(),(function(){gn.publish("putAdditionalObjects");for(var he=0;he<Ve.length;he++){var ve=Ve[he];$i(ve.objId,!0),H(ve.content),H("endobj")}gn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var he in jt)jt.hasOwnProperty(he)&&(v===!1||v===!0&&x.hasOwnProperty(he))&&Wr(jt[he])})(),(function(){var he;for(he in Ut)Ut.hasOwnProperty(he)&&ls(Ut[he])})(),(function(){for(var he in pr)pr.hasOwnProperty(he)&&Ea(pr[he])})(),(function(he){var ve;for(ve in Rt)Rt.hasOwnProperty(ve)&&(Rt[ve]instanceof uh?os(Rt[ve]):Rt[ve]instanceof jf&&Rr(Rt[ve],he))})(A),gn.publish("putResources"),A.forEach(Ts),Ts({resourcesOid:Hn,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources"),p!==null&&(yi.oid=Jn(),H("<<"),H("/Filter /Standard"),H("/V "+yi.v),H("/R "+yi.r),H("/U <"+yi.toHexString(yi.U)+">"),H("/O <"+yi.toHexString(yi.O)+">"),H("/P "+yi.P),H(">>"),H("endobj")),cs(),gr();var z=Te;return Na(),Li(),H("startxref"),H(""+z),H("%%EOF"),Pe(be[G]),xe.join(`
`)},Nn=w.__private__.getBlob=function(A){return new Blob([ot(A)],{type:"application/pdf"})},Wa=w.output=w.__private__.output=(Hr=function(A,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",A){case void 0:return Ns();case"save":w.save(z.filename);break;case"arraybuffer":return ot(Ns());case"blob":return Nn(Ns());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(Nn(Ns()))||void 0;_i.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ve=Ns();try{he=V6(ve)}catch{he=V6(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+z.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Ee=z.pdfObjectUrl,$e="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",dt=sn.open();return dt!==null&&dt.document.write(et),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Vt=sn.open();if(Vt!==null){Vt.document.write(wt);var Lt=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=z.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',ci=sn.open();if(ci!==null&&(ci.document.write(_n),ci.document.title=z.filename),ci||typeof safari>"u")return ci;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",z);default:return null}},Hr.foo=function(){try{return Hr.apply(this,arguments)}catch(he){var A=he.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var z="Error in function "+A.split(`
`)[0].split("<")[0]+": "+he.message;if(!sn.console)throw new Error(z);sn.console.error(z,he),sn.alert&&alert(z)}},Hr.foo.bar=Hr,Hr.foo),Vi=function(A){return Array.isArray(Nr)===!0&&Nr.indexOf(A)>-1};switch(i){case"pt":Qt=1;break;case"mm":Qt=72/25.4;break;case"cm":Qt=72/2.54;break;case"in":Qt=72;break;case"px":Qt=Vi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qt=12;break;case"ex":Qt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Qt=i}var yi=null;V(),se();var Di=w.__private__.getPageInfo=w.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[A].objId,pageNumber:A,pageContext:Tt[A]}},bo=w.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Tt)if(Tt[z].objId===A)break;return Di(z)},Ic=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Tt[G].objId,pageNumber:G,pageContext:Tt[G]}};w.addPage=function(){return qs.apply(this,arguments),this},w.setPage=function(){return Jo.apply(this,arguments),Pe.call(this,be[G]),this},w.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},w.movePage=function(A,z){var he,ve;if(A>z){he=be[A],ve=Tt[A];for(var Ee=A;Ee>z;Ee--)be[Ee]=be[Ee-1],Tt[Ee]=Tt[Ee-1];be[z]=he,Tt[z]=ve,this.setPage(z)}else if(A<z){he=be[A],ve=Tt[A];for(var $e=A;$e<z;$e++)be[$e]=be[$e+1],Tt[$e]=Tt[$e+1];be[z]=he,Tt[z]=ve,this.setPage(z)}return this},w.deletePage=function(){return vo.apply(this,arguments),this},w.__private__.text=w.text=function(A,z,he,ve,Ee){var $e,et,dt,wt,Vt,Lt,_n,ci,Zn,g=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof z=="number"&&(typeof he=="string"||Array.isArray(he))){var C=he;he=z,z=A,A=C}if(arguments[3]instanceof It==0?(dt=arguments[4],wt=arguments[5],ai(_n=arguments[3])==="object"&&_n!==null||(typeof dt=="string"&&(wt=dt,dt=null),typeof _n=="string"&&(wt=_n,_n=null),typeof _n=="number"&&(dt=_n,_n=null),ve={flags:_n,angle:dt,align:wt})):(k("The transform parameter of text() with a Matrix value"),Zn=Ee),isNaN(z)||isNaN(he)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return g;var F,ne="",Ie=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Ia,Be=g.internal.scaleFactor;function it(Un){return Un=Un.split("	").join(Array(ve.TabLen||9).join(" ")),$r(Un,_n)}function tn(Un){for(var jn,hi=Un.concat(),Ui=[],ro=hi.length;ro--;)typeof(jn=hi.shift())=="string"?Ui.push(jn):Array.isArray(Un)&&(jn.length===1||jn[1]===void 0&&jn[2]===void 0)?Ui.push(jn[0]):Ui.push([jn[0],jn[1],jn[2]]);return Ui}function ui(Un,jn){var hi;if(typeof Un=="string")hi=jn(Un)[0];else if(Array.isArray(Un)){for(var Ui,ro,Pa=Un.concat(),zl=[],Hu=Pa.length;Hu--;)typeof(Ui=Pa.shift())=="string"?zl.push(jn(Ui)[0]):Array.isArray(Ui)&&typeof Ui[0]=="string"&&(ro=jn(Ui[0],Ui[1],Ui[2]),zl.push([ro[0],ro[1],ro[2]]));hi=zl}return hi}var vn=!1,Wn=!0;if(typeof A=="string")vn=!0;else if(Array.isArray(A)){var vr=A.concat();et=[];for(var Lr,ni=vr.length;ni--;)(typeof(Lr=vr.shift())!="string"||Array.isArray(Lr)&&typeof Lr[0]!="string")&&(Wn=!1);vn=Wn}if(vn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Dr=Ge/g.internal.scaleFactor,$s=Dr*(Ie-1);switch(ve.baseline){case"bottom":he-=$s;break;case"top":he+=Dr-$s;break;case"hanging":he+=Dr-2*$s;break;case"middle":he+=Dr/2-$s}if((Lt=ve.maxWidth||0)>0&&(typeof A=="string"?A=g.splitTextToSize(A,Lt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Un,jn){return Un.concat(g.splitTextToSize(jn,Lt))},[]))),$e={text:A,x:z,y:he,options:ve,mutex:{pdfEscape:$r,activeFontKey:gt,fonts:jt,activeFontSize:Ge}},gn.publish("preProcessText",$e),A=$e.text,dt=(ve=$e.options).angle,Zn instanceof It==0&&dt&&typeof dt=="number"){dt*=Math.PI/180,ve.rotationDirection===0&&(dt=-dt),Z===Y&&(dt=-dt);var Qa=Math.cos(dt),Ja=Math.sin(dt);Zn=new It(Qa,Ja,-Ja,Qa,0,0)}else dt&&dt instanceof It&&(Zn=dt);Z!==Y||Zn||(Zn=as),(Vt=ve.charSpace||hs)!==void 0&&(ne+=M(B(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ci=ve.horizontalScale)!==void 0&&(ne+=M(100*ci)+` Tz
`),ve.lang;var ps=-1,Ao=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Lc=g.internal.getCurrentPageInfo().pageContext;switch(Ao){case 0:case!1:case"fill":ps=0;break;case 1:case!0:case"stroke":ps=1;break;case 2:case"fillThenStroke":ps=2;break;case 3:case"invisible":ps=3;break;case 4:case"fillAndAddForClipping":ps=4;break;case 5:case"strokeAndAddPathForClipping":ps=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ps=6;break;case 7:case"addToPathForClipping":ps=7}var zu=Lc.usedRenderingMode!==void 0?Lc.usedRenderingMode:-1;ps!==-1?ne+=ps+` Tr
`:zu!==-1&&(ne+=`0 Tr
`),ps!==-1&&(Lc.usedRenderingMode=ps),wt=ve.align||"left";var Ks,Da=Ge*Ie,To=g.internal.pageSize.getWidth(),qu=jt[gt];Vt=ve.charSpace||hs,Lt=ve.maxWidth||0,_n=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var ja=[],sl=function(Un){return g.getStringUnitWidth(Un,{font:qu,charSpace:Vt,fontSize:Ge,doKerning:!1})*Ge/Be};if(Object.prototype.toString.call(A)==="[object Array]"){var Rs;et=tn(A),wt!=="left"&&(Ks=et.map(sl));var ms,Za=0;if(wt==="right"){z-=Ks[0],A=[],ni=et.length;for(var eo=0;eo<ni;eo++)eo===0?(ms=ar(z),Rs=Yi(he)):(ms=B(Za-Ks[eo]),Rs=-Da),A.push([et[eo],ms,Rs]),Za=Ks[eo]}else if(wt==="center"){z-=Ks[0]/2,A=[],ni=et.length;for(var Eo=0;Eo<ni;Eo++)Eo===0?(ms=ar(z),Rs=Yi(he)):(ms=B((Za-Ks[Eo])/2),Rs=-Da),A.push([et[Eo],ms,Rs]),Za=Ks[Eo]}else if(wt==="left"){A=[],ni=et.length;for(var Dc=0;Dc<ni;Dc++)A.push(et[Dc])}else if(wt==="justify"&&qu.encoding==="Identity-H"){A=[],ni=et.length,Lt=Lt!==0?Lt:To;for(var jc=0,Fi=0;Fi<ni;Fi++)if(Rs=Fi===0?Yi(he):-Da,ms=Fi===0?ar(z):jc,Fi<ni-1){var kh=B((Lt-Ks[Fi])/(et[Fi].split(" ").length-1)),to=et[Fi].split(" ");A.push([to[0]+" ",ms,Rs]),jc=0;for(var no=1;no<to.length;no++){var jr=(sl(to[no-1]+" "+to[no])-sl(to[no]))*Be+kh;no==to.length-1?A.push([to[no],jr,0]):A.push([to[no]+" ",jr,0]),jc-=jr}}else A.push([et[Fi],ms,Rs]);A.push(["",jc,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ni=et.length,Lt=Lt!==0?Lt:To,Fi=0;Fi<ni;Fi++){Rs=Fi===0?Yi(he):-Da,ms=Fi===0?ar(z):0;var No=et[Fi].split(" ").length-1,Pc=No>0?(Lt-Ks[Fi])/No:0;Fi<ni-1?ja.push(M(B(Pc))):ja.push(0),A.push([et[Fi],ms,Rs])}}}(typeof ve.R2L=="boolean"?ve.R2L:Nt)===!0&&(A=ui(A,function(Un,jn,hi){return[Un.split("").reverse().join(""),jn,hi]})),$e={text:A,x:z,y:he,options:ve,mutex:{pdfEscape:$r,activeFontKey:gt,fonts:jt,activeFontSize:Ge}},gn.publish("postProcessText",$e),A=$e.text,F=$e.mutex.isHex||!1;var kc=jt[gt].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(A=ui(A,function(Un,jn,hi){return[it(Un),jn,hi]})),et=tn(A),A=[];for(var Co,Ro,io,Ul=Array.isArray(et[0])?1:0,Ys="",Io=function(Un,jn,hi){var Ui="";return hi instanceof It?(hi=typeof ve.angle=="number"?Ta(hi,new It(1,0,0,1,Un,jn)):Ta(new It(1,0,0,1,Un,jn),hi),Z===Y&&(hi=Ta(new It(1,0,0,-1,0,0),hi)),Ui=hi.join(" ")+` Tm
`):Ui=M(Un)+" "+M(jn)+` Td
`,Ui},Xr=0;Xr<et.length;Xr++){switch(Ys="",Ul){case 1:io=(F?"<":"(")+et[Xr][0]+(F?">":")"),Co=parseFloat(et[Xr][1]),Ro=parseFloat(et[Xr][2]);break;case 0:io=(F?"<":"(")+et[Xr]+(F?">":")"),Co=ar(z),Ro=Yi(he)}ja!==void 0&&ja[Xr]!==void 0&&(Ys=ja[Xr]+` Tw
`),Xr===0?A.push(Ys+Io(Co,Ro,Zn)+io):Ul===0?A.push(Ys+io):Ul===1&&A.push(Ys+Io(Co,Ro,Zn)+io)}A=Ul===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var oa=`BT
/`;return oa+=gt+" "+Ge+` Tf
`,oa+=M(Ge*Ie)+` TL
`,oa+=Gs+`
`,oa+=ne,oa+=A,H(oa+="ET"),x[gt]=!0,g};var kl=w.__private__.clip=w.clip=function(A){return H(A==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return kl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return H("n"),this};var Ir=w.__private__.isValidStyle=function(A){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(z=!0),z};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(A){return Ir(A)&&(f=A),this};var Ml=w.__private__.getStyle=w.getStyle=function(A){var z=f;switch(A){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=A}return z},Ca=w.close=function(){return H("h"),this};w.stroke=function(){return H("S"),this},w.fill=function(A){return sr("f",A),this},w.fillEvenOdd=function(A){return sr("f*",A),this},w.fillStroke=function(A){return sr("B",A),this},w.fillStrokeEvenOdd=function(A){return sr("B*",A),this};var sr=function(A,z){ai(z)==="object"?Vl(z,A):H(A)},$a=function(A){A===null||Z===Y&&A===void 0||(A=Ml(A),H(A))};function Ol(A,z,he,ve,Ee){var $e=new jf(z||this.boundingBox,he||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);$e.stream=this.stream;var et=A+"$$"+this.cloneIndex+++"$$";return qr(et,$e),$e}var Vl=function(A,z){var he=Fn[A.key],ve=Rt[he];if(ve instanceof uh)H("q"),H(el(z)),ve.gState&&w.setGState(ve.gState),H(A.matrix.toString()+" cm"),H("/"+he+" sh"),H("Q");else if(ve instanceof jf){var Ee=new It(1,0,0,-1,0,Ws());A.matrix&&(Ee=Ee.multiply(A.matrix||as),he=Ol.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,Ee).id),H("q"),H("/Pattern cs"),H("/"+he+" scn"),ve.gState&&w.setGState(ve.gState),H(z),H("Q")}},el=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},tl=w.moveTo=function(A,z){return H(M(B(A))+" "+M(ce(z))+" m"),this},Ra=w.lineTo=function(A,z){return H(M(B(A))+" "+M(ce(z))+" l"),this},Kr=w.curveTo=function(A,z,he,ve,Ee,$e){return H([M(B(A)),M(ce(z)),M(B(he)),M(ce(ve)),M(B(Ee)),M(ce($e)),"c"].join(" ")),this};w.__private__.line=w.line=function(A,z,he,ve,Ee){if(isNaN(A)||isNaN(z)||isNaN(he)||isNaN(ve)||!Ir(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return Z===X?this.lines([[he-A,ve-z]],A,z,[1,1],Ee||"S"):this.lines([[he-A,ve-z]],A,z,[1,1]).stroke()},w.__private__.lines=w.lines=function(A,z,he,ve,Ee,$e){var et,dt,wt,Vt,Lt,_n,ci,Zn,g,C,F,ne;if(typeof A=="number"&&(ne=he,he=z,z=A,A=ne),ve=ve||[1,1],$e=$e||!1,isNaN(z)||isNaN(he)||!Array.isArray(A)||!Array.isArray(ve)||!Ir(Ee)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(tl(z,he),et=ve[0],dt=ve[1],Vt=A.length,C=z,F=he,wt=0;wt<Vt;wt++)(Lt=A[wt]).length===2?(C=Lt[0]*et+C,F=Lt[1]*dt+F,Ra(C,F)):(_n=Lt[0]*et+C,ci=Lt[1]*dt+F,Zn=Lt[2]*et+C,g=Lt[3]*dt+F,C=Lt[4]*et+C,F=Lt[5]*dt+F,Kr(_n,ci,Zn,g,C,F));return $e&&Ca(),$a(Ee),this},w.path=function(A){for(var z=0;z<A.length;z++){var he=A[z],ve=he.c;switch(he.op){case"m":tl(ve[0],ve[1]);break;case"l":Ra(ve[0],ve[1]);break;case"c":Kr.apply(this,ve);break;case"h":Ca()}}return this},w.__private__.rect=w.rect=function(A,z,he,ve,Ee){if(isNaN(A)||isNaN(z)||isNaN(he)||isNaN(ve)||!Ir(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===X&&(ve=-ve),H([M(B(A)),M(ce(z)),M(B(he)),M(B(ve)),"re"].join(" ")),$a(Ee),this},w.__private__.triangle=w.triangle=function(A,z,he,ve,Ee,$e,et){if(isNaN(A)||isNaN(z)||isNaN(he)||isNaN(ve)||isNaN(Ee)||isNaN($e)||!Ir(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-A,ve-z],[Ee-he,$e-ve],[A-Ee,z-$e]],A,z,[1,1],et,!0),this},w.__private__.roundedRect=w.roundedRect=function(A,z,he,ve,Ee,$e,et){if(isNaN(A)||isNaN(z)||isNaN(he)||isNaN(ve)||isNaN(Ee)||isNaN($e)||!Ir(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*he),$e=Math.min($e,.5*ve),this.lines([[he-2*Ee,0],[Ee*dt,0,Ee,$e-$e*dt,Ee,$e],[0,ve-2*$e],[0,$e*dt,-Ee*dt,$e,-Ee,$e],[2*Ee-he,0],[-Ee*dt,0,-Ee,-$e*dt,-Ee,-$e],[0,2*$e-ve],[0,-$e*dt,Ee*dt,-$e,Ee,-$e]],A+Ee,z,[1,1],et,!0),this},w.__private__.ellipse=w.ellipse=function(A,z,he,ve,Ee){if(isNaN(A)||isNaN(z)||isNaN(he)||isNaN(ve)||!Ir(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*he,et=4/3*(Math.SQRT2-1)*ve;return tl(A+he,z),Kr(A+he,z-et,A+$e,z-ve,A,z-ve),Kr(A-$e,z-ve,A-he,z-et,A-he,z),Kr(A-he,z+et,A-$e,z+ve,A,z+ve),Kr(A+$e,z+ve,A+he,z+et,A+he,z),$a(Ee),this},w.__private__.circle=w.circle=function(A,z,he,ve){if(isNaN(A)||isNaN(z)||isNaN(he)||!Ir(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,z,he,he,ve)},w.setFont=function(A,z,he){return he&&(z=U(z,he)),gt=Pl(A,z,{disableWarning:!1}),this};var Hs=w.__private__.getFont=w.getFont=function(){return jt[Pl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var A,z,he={};for(A in Gt)if(Gt.hasOwnProperty(A))for(z in he[A]=[],Gt[A])Gt[A].hasOwnProperty(z)&&he[A].push(z);return he},w.addFont=function(A,z,he,ve,Ee){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(he=U(he,ve)),Qo.call(this,A,z,he,Ee=Ee||"Identity-H")};var Ia,Yr=n.lineWidth||.200025,Ka=w.__private__.getLineWidth=w.getLineWidth=function(){return Yr},Pt=w.__private__.setLineWidth=w.setLineWidth=function(A){return Yr=A,H(M(B(A))+" w"),this};w.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(A,z){if(A=A||[],z=z||0,isNaN(z)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(he){return M(B(he))}).join(" "),z=M(B(z)),H("["+A+"] "+z+" d"),this};var wo=w.__private__.getLineHeight=w.getLineHeight=function(){return Ge*Ia};w.__private__.getLineHeight=w.getLineHeight=function(){return Ge*Ia};var nl=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Ia=A),this},Ya=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Ia};nl(n.lineHeight);var ar=w.__private__.getHorizontalCoordinate=function(A){return B(A)},Yi=w.__private__.getVerticalCoordinate=function(A){return Z===Y?A:Tt[G].mediaBox.topRightY-Tt[G].mediaBox.bottomLeftY-B(A)},_o=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(A){return M(ar(A))},Gn=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(A){return M(Yi(A))},us=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return ti(us)},w.__private__.setStrokeColor=w.setDrawColor=function(A,z,he,ve){return us=Ki({ch1:A,ch2:z,ch3:he,ch4:ve,pdfColorType:"draw",precision:2}),H(us),this};var xo=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return ti(xo)},w.__private__.setFillColor=w.setFillColor=function(A,z,he,ve){return xo=Ki({ch1:A,ch2:z,ch3:he,ch4:ve,pdfColorType:"fill",precision:2}),H(xo),this};var Gs=n.textColor||"0 g",Bl=w.__private__.getTextColor=w.getTextColor=function(){return ti(Gs)};w.__private__.setTextColor=w.setTextColor=function(A,z,he,ve){return Gs=Ki({ch1:A,ch2:z,ch3:he,ch4:ve,pdfColorType:"text",precision:3}),this};var hs=n.charSpace,La=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(hs||0)};w.__private__.setCharSpace=w.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hs=A,this};var fs=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(A){var z=w.CapJoinStyles[A];if(z===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fs=z,H(z+" J"),this};var Bi=0;w.__private__.setLineJoin=w.setLineJoin=function(A){var z=w.CapJoinStyles[A];if(z===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bi=z,H(z+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(M(B(A))+" M"),this},w.GState=P1,w.setGState=function(A){(A=typeof A=="string"?Ut[zt[A]]:na(null,A)).equals(qn)||(H("/"+A.id+" gs"),qn=A)};var na=function(A,z){if(!A||!zt[A]){var he=!1;for(var ve in Ut)if(Ut.hasOwnProperty(ve)&&Ut[ve].equals(z)){he=!0;break}if(he)z=Ut[ve];else{var Ee="GS"+(Object.keys(Ut).length+1).toString(10);Ut[Ee]=z,z.id=Ee}return A&&(zt[A]=z.id),gn.publish("addGState",z),z}};w.addGState=function(A,z){return na(A,z),this},w.saveGraphicsState=function(){return H("q"),an.push({key:gt,size:Ge,color:Gs}),this},w.restoreGraphicsState=function(){H("Q");var A=an.pop();return gt=A.key,Ge=A.size,Gs=A.color,qn=null,this},w.setCurrentTransformationMatrix=function(A){return H(A.toString()+" cm"),this},w.comment=function(A){return H("#"+A),this};var yr=function(A,z){var he=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function($e){isNaN($e)||(he=parseFloat($e))}});var ve=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function($e){isNaN($e)||(ve=parseFloat($e))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function($e){Ee=$e.toString()}}),this},ia=function(A,z,he,ve){yr.call(this,A,z),this.type="rect";var Ee=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var $e=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(et){isNaN(et)||($e=parseFloat(et))}}),this},Xa=function(){this.page=Ct,this.currentPage=G,this.pages=be.slice(0),this.pagesContext=Tt.slice(0),this.x=yt,this.y=oi,this.matrix=nn,this.width=Cs(G),this.height=il(G),this.outputDestination=je,this.id="",this.objectNumber=-1};Xa.prototype.restore=function(){Ct=this.page,G=this.currentPage,Tt=this.pagesContext,be=this.pages,yt=this.x,oi=this.y,nn=this.matrix,So(G,this.width),ds(G,this.height),je=this.outputDestination};var ra=function(A,z,he,ve,Ee){rr.push(new Xa),Ct=G=0,be=[],yt=A,oi=z,nn=Ee,Es([he,ve])};for(var sa in w.beginFormObject=function(A,z,he,ve,Ee){return ra(A,z,he,ve,Ee),this},w.endFormObject=function(A){return(function(z){if(ta[z])rr.pop().restore();else{var he=new Xa,ve="Xo"+(Object.keys(pr).length+1).toString(10);he.id=ve,ta[z]=ve,pr[ve]=he,gn.publish("addFormObject",he),rr.pop().restore()}})(A),this},w.doFormObject=function(A,z){var he=pr[ta[A]];return H("q"),H(z.toString()+" cm"),H("/"+he.id+" Do"),H("Q"),this},w.getFormObject=function(A){var z=pr[ta[A]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},w.save=function(A,z){return A=A||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(ch(Nn(Ns()),A),typeof ch.unload=="function"&&sn.setTimeout&&setTimeout(ch.unload,911),this):new Promise(function(he,ve){try{var Ee=ch(Nn(Ns()),A);typeof ch.unload=="function"&&sn.setTimeout&&setTimeout(ch.unload,911),he(Ee)}catch($e){ve($e.message)}})},Dt.API)Dt.API.hasOwnProperty(sa)&&(sa==="events"&&Dt.API.events.length?(function(A,z){var he,ve,Ee;for(Ee=z.length-1;Ee!==-1;Ee--)he=z[Ee][0],ve=z[Ee][1],A.subscribe.apply(A,[he].concat(typeof ve=="function"?[ve]:ve))})(gn,Dt.API.events):w[sa]=Dt.API[sa]);function Cs(A){return Tt[A].mediaBox.topRightX-Tt[A].mediaBox.bottomLeftX}function So(A,z){Tt[A].mediaBox.topRightX=z+Tt[A].mediaBox.bottomLeftX}function il(A){return Tt[A].mediaBox.topRightY-Tt[A].mediaBox.bottomLeftY}function ds(A,z){Tt[A].mediaBox.topRightY=z+Tt[A].mediaBox.bottomLeftY}var aa=w.getPageWidth=function(A){return Cs(A=A||G)/Qt},Fl=w.setPageWidth=function(A,z){So(A,z*Qt)},Ws=w.getPageHeight=function(A){return il(A=A||G)/Qt},rl=w.setPageHeight=function(A,z){ds(A,z*Qt)};return w.internal={pdfEscape:$r,getStyle:Ml,getFont:Hs,getFontSize:ct,getCharSpace:La,getTextColor:Bl,getLineHeight:wo,getLineHeightFactor:Ya,getLineWidth:Ka,write:qe,getHorizontalCoordinate:ar,getVerticalCoordinate:Yi,getCoordinateString:_o,getVerticalCoordinateString:Gn,collections:{},newObject:Jn,newAdditionalObject:Cr,newObjectDeferred:li,newObjectDeferredBegin:$i,getFilters:Gr,putStream:As,events:gn,scaleFactor:Qt,pageSize:{getWidth:function(){return aa(G)},setWidth:function(A){Fl(G,A)},getHeight:function(){return Ws(G)},setHeight:function(A){rl(G,A)}},encryptionOptions:p,encryption:yi,getEncryptor:function(A){return p!==null?yi.encryptor(A,0):function(z){return z}},output:Wa,getNumberOfPages:Zo,get pages(){return be},out:H,f2:E,f3:R,getPageInfo:Di,getPageInfoByObjId:bo,getCurrentPageInfo:Ic,getPDFVersion:L,Point:yr,Rectangle:ia,Matrix:It,hasHotfix:Vi},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return aa(G)},set:function(A){Fl(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Ws(G)},set:function(A){rl(G,A)},enumerable:!0,configurable:!0}),(function(A){for(var z=0,he=lt.length;z<he;z++){var ve=Qo.call(this,A[z][0],A[z][1],A[z][2],lt[z][3],!0);v===!1&&(x[ve]=!0);var Ee=A[z][0].split("-");Ai({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}gn.publish("addFonts",{fonts:jt,dictionary:Gt})}).call(w,lt),gt="F1",qs(r,t),gn.publish("initialized"),w}Tf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Tf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Tf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Tf.prototype.processOwnerPassword=function(n,e){return c5(l5(e).substr(0,5),n)},Tf.prototype.encryptor=function(n,e){var t=l5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return c5(t,i)}},P1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ai(n)!==ai(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Dt.API={events:[]},Dt.version="4.0.0";var nr=Dt.API,aw=1,Ph=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(n){return n.toFixed(2)},ou=function(n){return n.toFixed(5)};nr.__acroform__={};var Aa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},z6=function(n){return n*aw},Al=function(n){var e=new BR,t=xt.internal.getHeight(n)||0,i=xt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(un(i)),Number(un(t))],e},yW=nr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},vW=nr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},bW=nr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},hr=nr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bW(n,e-1)},fr=nr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yW(n,e-1)},dr=nr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vW(n,e-1)},wW=nr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],a=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=t(r)||0,h.lowerLeft_Y=i(a+u)||0,h.upperRight_X=t(r+l)||0,h.upperRight_Y=i(a)||0,[Number(un(h.lowerLeft_X)),Number(un(h.lowerLeft_Y)),Number(un(h.upperRight_X)),Number(un(h.upperRight_Y))]},_W=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=u5(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+un(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Al(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},u5=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(E){return E.split(`
`)}):r.map(function(E){return[E]});var a=t,l=xt.internal.getHeight(n)||0;l=l<0?-l:l;var u=xt.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(E,R,B){if(E+1<r.length){var ce=R+" "+r[E+1][0];return Rg(ce,n,B).width<=u-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=Rg("3",n,a).height,x=n.multiline?l-a:(l-v)/2,w=x+=2,N=0,L=0,I=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Rg(e,n,a=12).width+", FieldWidth:"+u+`
`;break}for(var j="",X=0,Y=0;Y<r.length;Y++)if(r.hasOwnProperty(Y)){var Z=!1;if(r[Y].length!==1&&I!==r[Y].length-1){if((v+2)*(X+2)+2>l)continue e;j+=r[Y][I],Z=!0,L=Y,Y--}else{j=(j+=r[Y][I]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var ae=parseInt(Y),ge=h(ae,j,a),U=Y>=r.length-1;if(ge&&!U){j+=" ",I=0;continue}if(ge||U){if(U)L=ae;else if(n.multiline&&(v+2)*(X+2)+2>l)continue e}else{if(!n.multiline||(v+2)*(X+2)+2>l)continue e;L=ae}}for(var M="",k=N;k<=L;k++){var W=r[k];if(n.multiline){if(k===L){M+=W[I]+" ",I=(I+1)%W.length;continue}if(k===N){M+=W[W.length-1]+" ";continue}}M+=W[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,p=Rg(M,n,a).width,n.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;default:f=2}e+=un(f)+" "+un(w)+` Td
`,e+="("+Ph(M)+`) Tj
`,e+=-un(f)+` 0 Td
`,w=-(a+2),p=0,N=Z?L:L+1,X++,j=""}break}return i.text=e,i.fontSize=a,i},Rg=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},xW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},SW=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},AW=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Yo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(xW)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");aw=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new FR,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&SW(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var a=!i;for(var l in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var u=i[l],h=[],f=u.Rect;if(u.Rect&&(u.Rect=wW(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=xt.createDefaultAppearanceStream(u),ai(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=_W(u);h.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var v="";for(var x in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(x)){var w=u.appearanceStreamContent[x];if(v+="/"+x+" ",v+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var l in w)if(w.hasOwnProperty(l)){var N=w[l];typeof N=="function"&&(N=N.call(r,u)),v+="/"+l+" "+N+" ",r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N)}}else typeof(N=w)=="function"&&(N=N.call(r,u)),v+="/"+l+" "+N,r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N);v+=">>"}h.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:u.objId}),r.internal.out("endobj")}a&&(function(L,I){for(var j in L)if(L.hasOwnProperty(j)){var X=j,Y=L[j];I.internal.newObjectDeferredBegin(Y.objId,!0),ai(Y)==="object"&&typeof Y.putStream=="function"&&Y.putStream(),delete L[X]}})(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},VR=nr.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(l){return l};if(Array.isArray(n)){for(var r="[",a=0;a<n.length;a++)switch(a!==0&&(r+=" "),ai(n[a])){case"boolean":case"number":case"object":r+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Ph(i(n[a].toString()))+")"):r+=n[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hy=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Ph(i(n))+")"},El=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};El.prototype.toString=function(){return this.objId+" 0 R"},El.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},El.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:VR(r,this.objId,this.scope)}):r instanceof El?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var BR=function(){El.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Aa(BR,El);var FR=function(){El.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ph(t(n))+")"}},set:function(t){n=t}})};Aa(FR,El);var Yo=function n(){El.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(e,3)},set:function(j){j?this.F=fr(e,3):this.F=dr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(j){i=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(j){i[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(j){i[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(j){i[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(j){i[3]=j}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof k1)return;a="FieldObject"+n.FieldNum++}var j=function(X){return X};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Ph(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/aw:f},set:function(j){f=j}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(j){p=j}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof k1||this instanceof vh))return Hy(v,this.objId,this.scope)},set:function(j){j=j.toString(),v=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof is==0?Hy(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof is==0?j.substr(0,1)==="("?bf(j.substr(1,j.length-2)):bf(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof is==1?bf(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof is==1?"/"+j:j}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof is==0?Hy(w,this.objId,this.scope):w},set:function(j){j=j.toString(),w=this instanceof is==0?j.substr(0,1)==="("?bf(j.substr(1,j.length-2)):bf(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof is==1?bf(w.substr(1,w.length-1)):w},set:function(j){j=j.toString(),w=this instanceof is==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(j){j=!!j,L=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(j){N=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(j){j?this.Ff=fr(this.Ff,1):this.Ff=dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(j){j?this.Ff=fr(this.Ff,2):this.Ff=dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(j){j?this.Ff=fr(this.Ff,3):this.Ff=dr(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');I=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(I){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Aa(Yo,El);var Ff=function(){Yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return VR(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=(function(a,l,u){u||(u=1);for(var h,f=[];h=l.exec(a);)f.push(h[u]);return f})(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(t){t?this.Ff=fr(this.Ff,18):this.Ff=dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=fr(this.Ff,19):this.Ff=dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(t){t?(this.Ff=fr(this.Ff,20),e.sort()):this.Ff=dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(t){t?this.Ff=fr(this.Ff,22):this.Ff=dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(t){t?this.Ff=fr(this.Ff,23):this.Ff=dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(t){t?this.Ff=fr(this.Ff,27):this.Ff=dr(this.Ff,27)}}),this.hasAppearanceStream=!1};Aa(Ff,Yo);var Uf=function(){Ff.call(this),this.fontName="helvetica",this.combo=!1};Aa(Uf,Ff);var zf=function(){Uf.call(this),this.combo=!0};Aa(zf,Uf);var Xg=function(){zf.call(this),this.edit=!0};Aa(Xg,zf);var is=function(){Yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(t){t?this.Ff=fr(this.Ff,15):this.Ff=dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(t){t?this.Ff=fr(this.Ff,16):this.Ff=dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(t){t?this.Ff=fr(this.Ff,17):this.Ff=dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(t){t?this.Ff=fr(this.Ff,26):this.Ff=dr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Ph(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){ai(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Aa(is,Yo);var Qg=function(){is.call(this),this.pushButton=!0};Aa(Qg,is);var qf=function(){is.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Aa(qf,is);var k1=function(){var n,e;Yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+Ph(r(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){ai(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Aa(k1,Yo),qf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},qf.prototype.createOption=function(n){var e=new k1;return e.Parent=this,e.optionName=n,this.Kids.push(e),TW.call(this.scope,e),e};var Jg=function(){is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};Aa(Jg,is);var vh=function(){Yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(e){e?this.Ff=fr(this.Ff,13):this.Ff=dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(e){e?this.Ff=fr(this.Ff,21):this.Ff=dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(e){e?this.Ff=fr(this.Ff,23):this.Ff=dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(e){e?this.Ff=fr(this.Ff,24):this.Ff=dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(e){e?this.Ff=fr(this.Ff,25):this.Ff=dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(e){e?this.Ff=fr(this.Ff,26):this.Ff=dr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Aa(vh,Yo);var Zg=function(){vh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(n){n?this.Ff=fr(this.Ff,14):this.Ff=dr(this.Ff,14)}}),this.password=!0};Aa(Zg,vh);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Al(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=u5(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+un(xt.internal.getWidth(n))+" "+un(xt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+un(a.fontSize)+" Tf "+r),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Al(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],a=xt.internal.getHeight(n),l=xt.internal.getWidth(n),u=u5(n,n.caption);return r.push("1 g"),r.push("0 0 "+un(l)+" "+un(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+un(l-1)+" "+un(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+un(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Al(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(xt.internal.getWidth(n))+" "+un(xt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=xt.RadioButton.Circle.YesNormal,e.D[n]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Al(n);e.scope=n.scope;var t=[],i=xt.internal.getWidth(n)<=xt.internal.getHeight(n)?xt.internal.getWidth(n)/4:xt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=xt.internal.Bezier_C,a=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ou(xt.internal.getWidth(n)/2)+" "+ou(xt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Al(n);e.scope=n.scope;var t=[],i=xt.internal.getWidth(n)<=xt.internal.getHeight(n)?xt.internal.getWidth(n)/4:xt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*xt.internal.Bezier_C).toFixed(5)),l=Number((i*xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ou(xt.internal.getWidth(n)/2)+" "+ou(xt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ou(xt.internal.getWidth(n)/2)+" "+ou(xt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),t.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),t.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),t.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Al(n);e.scope=n.scope;var t=[],i=xt.internal.getWidth(n)<=xt.internal.getHeight(n)?xt.internal.getWidth(n)/4:xt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ou(xt.internal.getWidth(n)/2)+" "+ou(xt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=xt.RadioButton.Cross.YesNormal,e.D[n]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Al(n);e.scope=n.scope;var t=[],i=xt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+un(xt.internal.getWidth(n)-2)+" "+un(xt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(un(i.x1.x)+" "+un(i.x1.y)+" m"),t.push(un(i.x2.x)+" "+un(i.x2.y)+" l"),t.push(un(i.x4.x)+" "+un(i.x4.y)+" m"),t.push(un(i.x3.x)+" "+un(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Al(n);e.scope=n.scope;var t=xt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+un(xt.internal.getWidth(n))+" "+un(xt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+un(xt.internal.getWidth(n)-2)+" "+un(xt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(un(t.x1.x)+" "+un(t.x1.y)+" m"),i.push(un(t.x2.x)+" "+un(t.x2.y)+" l"),i.push(un(t.x4.x)+" "+un(t.x4.y)+" m"),i.push(un(t.x3.x)+" "+un(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Al(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(xt.internal.getWidth(n))+" "+un(xt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};xt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=xt.internal.getWidth(n),t=xt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},xt.internal.getWidth=function(n){var e=0;return ai(n)==="object"&&(e=z6(n.Rect[2])),e},xt.internal.getHeight=function(n){var e=0;return ai(n)==="object"&&(e=z6(n.Rect[3])),e};var TW=nr.addField=function(n){if(AW(this,n),!(n instanceof Yo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};nr.AcroFormChoiceField=Ff,nr.AcroFormListBox=Uf,nr.AcroFormComboBox=zf,nr.AcroFormEditBox=Xg,nr.AcroFormButton=is,nr.AcroFormPushButton=Qg,nr.AcroFormRadioButton=qf,nr.AcroFormCheckBox=Jg,nr.AcroFormTextField=vh,nr.AcroFormPasswordField=Zg,nr.AcroFormAppearance=xt,nr.AcroForm={ChoiceField:Ff,ListBox:Uf,ComboBox:zf,EditBox:Xg,Button:is,PushButton:Qg,RadioButton:qf,CheckBox:Jg,TextField:vh,PasswordField:Zg,Appearance:xt},Dt.AcroForm={ChoiceField:Ff,ListBox:Uf,ComboBox:zf,EditBox:Xg,Button:is,PushButton:Qg,RadioButton:qf,CheckBox:Jg,TextField:vh,PasswordField:Zg,Appearance:xt};Dt.AcroForm;function UR(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(E,R){var B,ce,Ae,oe,me,se=t;if((R=R||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(ge(E))for(me in i)for(Ae=i[me],B=0;B<Ae.length;B+=1){for(oe=!0,ce=0;ce<Ae[B].length;ce+=1)if(Ae[B][ce]!==void 0&&Ae[B][ce]!==E[ce]){oe=!1;break}if(oe===!0){se=me;break}}else for(me in i)for(Ae=i[me],B=0;B<Ae.length;B+=1){for(oe=!0,ce=0;ce<Ae[B].length;ce+=1)if(Ae[B][ce]!==void 0&&Ae[B][ce]!==E.charCodeAt(ce)){oe=!1;break}if(oe===!0){se=me;break}}return se===t&&R!==t&&(se=R),se},a=function E(R){for(var B=this.internal.write,ce=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:R.width}),oe.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var me="",se=0,Ne=R.transparency.length;se<Ne;se++)me+=R.transparency[se]+" "+R.transparency[se]+" ";oe.push({key:"Mask",value:"["+me+"]"})}R.sMask!==void 0&&oe.push({key:"SMask",value:R.objectId+1+" 0 R"});var ue=R.filter!==void 0?["/"+R.filter]:void 0;if(ce({data:R.data,additionalKeyValues:oe,alreadyAppliedFilters:ue,objectId:R.objectId}),B("endobj"),"sMask"in R&&R.sMask!==void 0){var V,P=(V=R.sMaskBitsPerComponent)!==null&&V!==void 0?V:R.bitsPerComponent,G={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:R.sMask};"filter"in R&&(G.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(R.width),G.filter=R.filter),E.call(this,G)}if(R.colorSpace===j.INDEXED){var K=this.internal.newObject();ce({data:M(new Uint8Array(R.palette)),objectId:K}),B("endobj")}},l=function(){var E=this.internal.collections[e+"images"];for(var R in E)a.call(this,E[R])},u=function(){var E,R=this.internal.collections[e+"images"],B=this.internal.write;for(var ce in R)B("/I"+(E=R[ce]).index,E.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var E=this.internal.collections[e+"images"];return h.call(this),E},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(E){return typeof n["process"+E.toUpperCase()]=="function"},x=function(E){return ai(E)==="object"&&E.nodeType===1},w=function(E,R){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var B=""+E.getAttribute("src");if(B.indexOf("data:image/")===0)return Yg(unescape(B).split("base64,").pop());var ce=n.loadFile(B,!0);if(ce!==void 0)return ce}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Ae;switch(R){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;default:Ae="image/jpeg"}return Yg(E.toDataURL(Ae,1).split("base64,").pop())}},N=function(E){var R=this.internal.collections[e+"images"];if(R){for(var B in R)if(E===R[B].alias)return R[B]}},L=function(E,R,B){return E||R||(E=-96,R=-96),E<0&&(E=-1*B.width*72/E/this.internal.scaleFactor),R<0&&(R=-1*B.height*72/R/this.internal.scaleFactor),E===0&&(E=R*B.width/B.height),R===0&&(R=E*B.height/B.width),[E,R]},I=function(E,R,B,ce,Ae,oe){var me=L.call(this,B,ce,Ae),se=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,ue=f.call(this);if(B=me[0],ce=me[1],ue[Ae.index]=Ae,oe){oe*=Math.PI/180;var V=Math.cos(oe),P=Math.sin(oe),G=function(re){return re.toFixed(4)},K=[G(V),G(P),G(-1*P),G(V),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,se(E),Ne(R+ce),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([se(B),"0","0",se(ce),"0","0","cm"].join(" "))):this.internal.write([se(B),"0","0",se(ce),se(E),Ne(R+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var X=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Y=n.__addimage__.sHashCode=function(E){var R,B,ce=0;if(typeof E=="string")for(B=E.length,R=0;R<B;R++)ce=(ce<<5)-ce+E.charCodeAt(R),ce|=0;else if(ge(E))for(B=E.byteLength/2,R=0;R<B;R++)ce=(ce<<5)-ce+E[R],ce|=0;return ce},Z=n.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var R=!0;return E.length===0&&(R=!1),E.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(R=!1),R},ae=n.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var R=E.indexOf(",");return R<0?null:E.substring(0,R).trim().endsWith("base64")?E.substring(R+1):null};n.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var ge=n.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},U=n.__addimage__.binaryStringToUint8Array=function(E){for(var R=E.length,B=new Uint8Array(R),ce=0;ce<R;ce++)B[ce]=E.charCodeAt(ce);return B},M=n.__addimage__.arrayBufferToBinaryString=function(E){for(var R="",B=ge(E)?E:new Uint8Array(E),ce=0;ce<B.length;ce+=8192)R+=String.fromCharCode.apply(null,B.subarray(ce,ce+8192));return R};n.addImage=function(){var E,R,B,ce,Ae,oe,me,se,Ne;if(typeof arguments[1]=="number"?(R=t,B=arguments[1],ce=arguments[2],Ae=arguments[3],oe=arguments[4],me=arguments[5],se=arguments[6],Ne=arguments[7]):(R=arguments[1],B=arguments[2],ce=arguments[3],Ae=arguments[4],oe=arguments[5],me=arguments[6],se=arguments[7],Ne=arguments[8]),ai(E=arguments[0])==="object"&&!x(E)&&"imageData"in E){var ue=E;E=ue.imageData,R=ue.format||R||t,B=ue.x||B||0,ce=ue.y||ce||0,Ae=ue.w||ue.width||Ae,oe=ue.h||ue.height||oe,me=ue.alias||me,se=ue.compression||se,Ne=ue.rotation||ue.angle||Ne}var V=this.internal.getFilters();if(se===void 0&&V.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(B)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var P=k.call(this,E,R,me,se);return I.call(this,B,ce,Ae,oe,P,Ne),this};var k=function(E,R,B,ce){var Ae,oe,me;if(typeof E=="string"&&r(E)===t){E=unescape(E);var se=W(E,!1);(se!==""||(se=n.loadFile(E,!0))!==void 0)&&(E=se)}if(x(E)&&(E=w(E,R)),R=r(E,R),!v(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((me=B)==null||me.length===0)&&(B=(function(Ne){return typeof Ne=="string"||ge(Ne)?Y(Ne):ge(Ne.data)?Y(Ne.data):null})(E)),(Ae=N.call(this,B))||(E instanceof Uint8Array||R==="RGBA"||(oe=E,E=U(E)),Ae=this["process"+R.toUpperCase()](E,p.call(this),B,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in n.image_compression?Ne:X.NONE})(ce),oe)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},W=n.__addimage__.convertBase64ToBinaryString=function(E,R){R=typeof R!="boolean"||R;var B,ce="";if(typeof E=="string"){var Ae;B=(Ae=ae(E))!==null&&Ae!==void 0?Ae:E;try{ce=Yg(B)}catch(oe){if(R)throw Z(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};n.getImageProperties=function(E){var R,B,ce="";if(x(E)&&(E=w(E)),typeof E=="string"&&r(E)===t&&((ce=W(E,!1))===""&&(ce=n.loadFile(E)||""),E=ce),B=r(E),!v(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(E instanceof Uint8Array||(E=U(E)),!(R=this["process"+B.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=B,R}})(Dt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Dt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,a,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((i=f[v]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){i=f[x];var w=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(L.objId),X=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+w(j(i.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+w(j(X))+") >>",L.content=a;var Y=L.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+Y,i.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(L.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+l(i.bounds.x)+" "+u(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var Z=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+w(N(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var ae=this.annotations._nameMap[i.options.name];i.options.pageNumber=ae.page,i.options.top=ae.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+w(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var ge=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+ge+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,a,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:f(i),w:h(t+r),h:f(i+a)},options:l,type:"link"})},n.textWithLink=function(t,i,r,a){var l,u,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var p=this.splitTextToSize(t,u).length;l=Math.ceil(f*p)}else u=h,l=f;return this.text(t,i,r,a),r+=.2*f,a.align==="center"&&(i-=h/2),a.align==="right"&&(i-=h),this.link(i,r-f,u,l,a),h},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Dt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},u=n.__arabicParser__.isArabicEndLetter=function(L){return l(L)&&a(L)&&e[L.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(L){return l(L)&&r.indexOf(L.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return l(L)&&a(L)&&e[L.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(L){return l(L)&&a(L)&&e[L.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(L){return l(L)&&a(L)&&e[L.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(L){return l(L)&&a(L)&&e[L.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(L){var I=0,j=t,X="",Y=0;for(I=0;I<L.length;I+=1)j[L.charCodeAt(I)]!==void 0?(Y++,typeof(j=j[L.charCodeAt(I)])=="number"&&(X+=String.fromCharCode(j),j=t,Y=0),I===L.length-1&&(j=t,X+=L.charAt(I-(Y-1)),I-=Y-1,Y=0)):(j=t,X+=L.charAt(I-Y),I-=Y,Y=0);return X};n.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&i[L.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(L,I,j){return l(L)?a(L)===!1?-1:!f(L)||!l(I)&&!l(j)||!l(j)&&u(I)||u(L)&&!l(I)||u(L)&&h(I)||u(L)&&u(I)?0:p(L)&&l(I)&&!u(I)&&l(j)&&f(j)?3:u(L)||!l(j)?1:2:-1},w=function(L){var I=0,j=0,X=0,Y="",Z="",ae="",ge=(L=L||"").split("\\s+"),U=[];for(I=0;I<ge.length;I+=1){for(U.push(""),j=0;j<ge[I].length;j+=1)Y=ge[I][j],Z=ge[I][j-1],ae=ge[I][j+1],l(Y)?(X=x(Y,Z,ae),U[I]+=X!==-1?String.fromCharCode(e[Y.charCodeAt(0)][X]):Y):U[I]+=Y;U[I]=v(U[I])}return U.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var L,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(I)){var X=0;for(j=[],X=0;X<I.length;X+=1)Array.isArray(I[X])?j.push([w(I[X][0]),I[X][1],I[X][2]]):j.push([w(I[X])]);L=j}else L=w(I);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};n.events.push(["preProcessText",N])})(Dt.API),Dt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Dt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(L){h=L}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(L){x=L}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(L){N=L}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,w=0,N=0,L=0,I=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var j=f.maxWidth;j>0?typeof h=="string"?h=this.splitTextToSize(h,j):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(Y,Z){return Y.concat(I.splitTextToSize(Z,j))},[])):h=Array.isArray(h)?h:[h];for(var X=0;X<h.length;X++)w<(L=this.getStringUnitWidth(h[X],{font:v})*p)&&(w=L);return w!==0&&(N=h.length),{w:w/=x,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,w&&x&&(this.printHeaderRow(h.lineNumber,!0),h.y+=x[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,p,v,x){if(i.call(this),!p)throw new Error("No data for PDF table.");var w,N,L,I,j=[],X=[],Y=[],Z={},ae={},ge=[],U=[],M=(x=x||{}).autoSize||!1,k=x.printHeaders!==!1,W=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,E=x.margins||Object.assign({width:this.getPageWidth()},e),R=typeof x.padding=="number"?x.padding:3,B=x.headerBackgroundColor||"#c8c8c8",ce=x.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=ce,this.setFontSize(W),v==null)X=j=Object.keys(p[0]),Y=j.map(function(){return"left"});else if(Array.isArray(v)&&ai(v[0])==="object")for(j=v.map(function(ue){return ue.name}),X=v.map(function(ue){return ue.prompt||ue.name||""}),Y=v.map(function(ue){return ue.align||"left"}),w=0;w<v.length;w+=1)ae[v[w].name]=.7499990551181103*v[w].width;else Array.isArray(v)&&typeof v[0]=="string"&&(X=j=v,Y=j.map(function(){return"left"}));if(M||Array.isArray(v)&&typeof v[0]=="string")for(w=0;w<j.length;w+=1){for(Z[I=j[w]]=p.map(function(ue){return ue[I]}),this.setFont(void 0,"bold"),ge.push(this.getTextDimensions(X[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=Z[I],this.setFont(void 0,"normal"),L=0;L<N.length;L+=1)ge.push(this.getTextDimensions(N[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[I]=Math.max.apply(null,ge)+R+R,ge=[]}if(k){var Ae={};for(w=0;w<j.length;w+=1)Ae[j[w]]={},Ae[j[w]].text=X[w],Ae[j[w]].align=Y[w];var oe=u.call(this,Ae,ae);U=j.map(function(ue){return new a(h,f,ae[ue],oe,Ae[ue].text,void 0,Ae[ue].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var me=v.reduce(function(ue,V){return ue[V.name]=V.align,ue},{});for(w=0;w<p.length;w+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:w,data:p[w]},this);var se=u.call(this,p[w],ae);for(L=0;L<j.length;L+=1){var Ne=p[w][j[L]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:w,col:L,data:Ne},this),l.call(this,new a(h,f,ae[j[L]],se,Ne,w+2,me[j[L]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(h).map(function(w){var N=h[w];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[w]-p-p)},this).map(function(w){return this.getLineHeightFactor()*w.length*v/x+p+p},this).reduce(function(w,N){return Math.max(w,N)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){p=this.internal.__cell__.tableHeaderRow[w].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,x.push(p)),p.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(Dt.API);var zR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h5=UR(qR),HR=[100,200,300,400,500,600,700,800,900],EW=UR(HR);function Gy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return zR[a=a||"normal"]?a:"normal"})(n.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),r=(function(a){return typeof h5[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function q6(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var NW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},H6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function G6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function W6(n){return n.trimLeft()}function CW(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function RW(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ig,$6,K6,wf,Lg,Y6,X6,Q6,Wy=["times"];function J6(n,e,t,i,r){var a=4,l=eA;switch(r){case Dt.API.image_compression.FAST:a=1,l=Z6;break;case Dt.API.image_compression.MEDIUM:a=6,l=tA;break;case Dt.API.image_compression.SLOW:a=9,l=nA}n=(function(h,f,p,v){for(var x,w=h.length/f,N=new Uint8Array(h.length+w),L=[IW,Z6,eA,tA,nA],I=0;I<w;I+=1){var j=I*f,X=h.subarray(j,j+f);if(v)N.set(v(X,p,x),j+I);else{for(var Y=L.length,Z=[],ae=0;ae<Y;ae+=1)Z[ae]=L[ae](X,p,x);var ge=DW(Z.concat());N.set(Z[ge],j+I)}x=X}return N})(n,e,Math.ceil(t*i/8),l);var u=r5(n,{level:a});return Dt.API.__addimage__.arrayBufferToBinaryString(u)}function IW(n){var e=Array.apply([],n);return e.unshift(0),e}function Z6(n,e){var t=n.length,i=[];i[0]=1;for(var r=0;r<t;r+=1){var a=n[r-e]||0;i[r+1]=n[r]-a+256&255}return i}function eA(n,e,t){var i=n.length,r=[];r[0]=2;for(var a=0;a<i;a+=1){var l=t&&t[a]||0;r[a+1]=n[a]-l+256&255}return r}function tA(n,e,t){var i=n.length,r=[];r[0]=3;for(var a=0;a<i;a+=1){var l=n[a-e]||0,u=t&&t[a]||0;r[a+1]=n[a]+256-(l+u>>>1)&255}return r}function nA(n,e,t){var i=n.length,r=[];r[0]=4;for(var a=0;a<i;a+=1){var l=LW(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);r[a+1]=n[a]-l+256&255}return r}function LW(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),r=Math.abs(n-t),a=Math.abs(n+e-t-t);return i<=r&&i<=a?n:r<=a?e:t}function DW(n){var e=n.map(function(t){return t.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function $y(n,e,t){var i=e*t,r=Math.floor(i/8),a=16-(i-8*r+t),l=(1<<t)-1;return GR(n,r)>>a&l}function iA(n,e,t,i){var r=t*i,a=Math.floor(r/8),l=16-(r-8*a+i),u=(1<<i)-1,h=(e&u)<<l;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var x=v>>8&255;f.setUint8(p,x)}})(n,a,GR(n,a)&~(u<<l)&65535|h)}function GR(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function jW(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],a=r>>7,l=1<<1+(7&r);n[e++],n[e++];var u=null,h=null;a&&(u=e,h=l,e+=3*l);var f=!0,p=[],v=0,x=null,w=0,N=null;for(this.width=t,this.height=i;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=n[e++];v=n[e++]|n[e++]<<8,x=n[e++],1&L||(x=null),w=L>>2&7,e++;break;case 254:for(;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var I=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,X=n[e++]|n[e++]<<8,Y=n[e++]|n[e++]<<8,Z=n[e++],ae=Z>>6&1,ge=1<<1+(7&Z),U=u,M=h,k=!1;Z>>7&&(k=!0,U=e,M=ge,e+=3*ge);var W=e;for(e++;;){var E;if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}p.push({x:I,y:j,width:X,height:Y,has_local_palette:k,palette_offset:U,palette_size:M,data_offset:W,data_length:e-W,transparent_index:x,interlaced:!!ae,delay:v,disposal:w});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(R){if(R<0||R>=p.length)throw new Error("Frame index out of range.");return p[R]},this.decodeAndBlitFrameBGRA=function(R,B){var ce=this.frameInfo(R),Ae=ce.width*ce.height,oe=new Uint8Array(Ae);rA(n,ce.data_offset,oe,Ae);var me=ce.palette_offset,se=ce.transparent_index;se===null&&(se=256);var Ne=ce.width,ue=t-Ne,V=Ne,P=4*(ce.y*t+ce.x),G=4*((ce.y+ce.height)*t+ce.x),K=P,re=4*ue;ce.interlaced===!0&&(re+=4*t*7);for(var de=8,pe=0,xe=oe.length;pe<xe;++pe){var Te=oe[pe];if(V===0&&(V=Ne,(K+=re)>=G&&(re=4*ue+4*t*(de-1),K=P+(Ne+ue)*(de<<1),de>>=1)),Te===se)K+=4;else{var Ve=n[me+3*Te],be=n[me+3*Te+1],Ce=n[me+3*Te+2];B[K++]=Ce,B[K++]=be,B[K++]=Ve,B[K++]=255}--V}},this.decodeAndBlitFrameRGBA=function(R,B){var ce=this.frameInfo(R),Ae=ce.width*ce.height,oe=new Uint8Array(Ae);rA(n,ce.data_offset,oe,Ae);var me=ce.palette_offset,se=ce.transparent_index;se===null&&(se=256);var Ne=ce.width,ue=t-Ne,V=Ne,P=4*(ce.y*t+ce.x),G=4*((ce.y+ce.height)*t+ce.x),K=P,re=4*ue;ce.interlaced===!0&&(re+=4*t*7);for(var de=8,pe=0,xe=oe.length;pe<xe;++pe){var Te=oe[pe];if(V===0&&(V=Ne,(K+=re)>=G&&(re=4*ue+4*t*(de-1),K=P+(Ne+ue)*(de<<1),de>>=1)),Te===se)K+=4;else{var Ve=n[me+3*Te],be=n[me+3*Te+1],Ce=n[me+3*Te+2];B[K++]=Ve,B[K++]=be,B[K++]=Ce,B[K++]=255}--V}}}function rA(n,e,t,i){for(var r=n[e++],a=1<<r,l=a+1,u=l+1,h=r+1,f=(1<<h)-1,p=0,v=0,x=0,w=n[e++],N=new Int32Array(4096),L=null;;){for(;p<16&&w!==0;)v|=n[e++]<<p,p+=8,w===1?w=n[e++]:--w;if(p<h)break;var I=v&f;if(v>>=h,p-=h,I!==a){if(I===l)break;for(var j=I<u?I:L,X=0,Y=j;Y>a;)Y=N[Y]>>8,++X;var Z=Y;if(x+X+(j!==I?1:0)>i)return void _i.log("Warning, gif stream longer than expected.");t[x++]=Z;var ae=x+=X;for(j!==I&&(t[x++]=Z),Y=j;X--;)Y=N[Y],t[--ae]=255&Y,Y>>=8;L!==null&&u<4096&&(N[u++]=L<<8|Z,u>=f+1&&h<12&&(++h,f=f<<1|1)),L=I}else u=l+1,f=(1<<(h=r+1))-1,L=null}return x!==i&&_i.log("Warning, gif stream shorter than expected."),t}function Ky(n){var e,t,i,r,a,l=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),x=new Array(65535),w=new Array(64),N=new Array(64),L=[],I=0,j=7,X=new Array(64),Y=new Array(64),Z=new Array(64),ae=new Array(256),ge=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(P,G){for(var K=0,re=0,de=new Array,pe=1;pe<=16;pe++){for(var xe=1;xe<=P[pe];xe++)de[G[re]]=[],de[G[re]][0]=K,de[G[re]][1]=pe,re++,K++;K*=2}return de}function me(P){for(var G=P[0],K=P[1]-1;K>=0;)G&1<<K&&(I|=1<<j),K--,--j<0&&(I==255?(se(255),se(0)):se(I),j=7,I=0)}function se(P){L.push(P)}function Ne(P){se(P>>8&255),se(255&P)}function ue(P,G,K,re,de){for(var pe,xe=de[0],Te=de[240],Ve=(function(Ge,rt){var ct,Nt,St,Ht,en,st,Yt,Xt,gt,Qt,yt=0;for(gt=0;gt<8;++gt){ct=Ge[yt],Nt=Ge[yt+1],St=Ge[yt+2],Ht=Ge[yt+3],en=Ge[yt+4],st=Ge[yt+5],Yt=Ge[yt+6];var oi=ct+(Xt=Ge[yt+7]),nn=ct-Xt,jt=Nt+Yt,Gt=Nt-Yt,an=St+st,Rt=St-st,Fn=Ht+en,Ut=Ht-en,zt=oi+Fn,qn=oi-Fn,Ct=jt+an,Tt=jt-an;Ge[yt]=zt+Ct,Ge[yt+4]=zt-Ct;var gn=.707106781*(Tt+qn);Ge[yt+2]=qn+gn,Ge[yt+6]=qn-gn;var Nr=.382683433*((zt=Ut+Rt)-(Tt=Gt+nn)),pr=.5411961*zt+Nr,ta=1.306562965*Tt+Nr,rr=.707106781*(Ct=Rt+Gt),It=nn+rr,Ta=nn-rr;Ge[yt+5]=Ta+pr,Ge[yt+3]=Ta-pr,Ge[yt+1]=It+ta,Ge[yt+7]=It-ta,yt+=8}for(yt=0,gt=0;gt<8;++gt){ct=Ge[yt],Nt=Ge[yt+8],St=Ge[yt+16],Ht=Ge[yt+24],en=Ge[yt+32],st=Ge[yt+40],Yt=Ge[yt+48];var as=ct+(Xt=Ge[yt+56]),qr=ct-Xt,Hr=Nt+Yt,Jn=Nt-Yt,li=St+st,$i=St-st,Cr=Ht+en,mr=Ht-en,Hn=as+Cr,ti=as-Cr,Ki=Hr+li,Gr=Hr-li;Ge[yt]=Hn+Ki,Ge[yt+32]=Hn-Ki;var As=.707106781*(Gr+ti);Ge[yt+16]=ti+As,Ge[yt+48]=ti-As;var Ga=.382683433*((Hn=mr+$i)-(Gr=Jn+qr)),zs=.5411961*Hn+Ga,Wr=1.306562965*Gr+Ga,Ea=.707106781*(Ki=$i+Jn),os=qr+Ea,Rr=qr-Ea;Ge[yt+40]=Rr+zs,Ge[yt+24]=Rr-zs,Ge[yt+8]=os+Wr,Ge[yt+56]=os-Wr,yt++}for(gt=0;gt<64;++gt)Qt=Ge[gt]*rt[gt],w[gt]=Qt>0?Qt+.5|0:Qt-.5|0;return w})(P,G),be=0;be<64;++be)N[U[be]]=Ve[be];var Ce=N[0]-K;K=N[0],Ce==0?me(re[0]):(me(re[x[pe=32767+Ce]]),me(v[pe]));for(var je=63;je>0&&N[je]==0;)je--;if(je==0)return me(xe),K;for(var Pe,H=1;H<=je;){for(var qe=H;N[H]==0&&H<=je;)++H;var ot=H-qe;if(ot>=16){Pe=ot>>4;for(var lt=1;lt<=Pe;++lt)me(Te);ot&=15}pe=32767+N[H],me(de[(ot<<4)+x[pe]]),me(v[pe]),H++}return je!=63&&me(xe),K}function V(P){P=Math.min(Math.max(P,1),100),a!=P&&((function(G){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var de=l((K[re]*G+50)/100);de=Math.min(Math.max(de,1),255),u[U[re]]=de}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Te=l((pe[xe]*G+50)/100);Te=Math.min(Math.max(Te,1),255),h[U[xe]]=Te}for(var Ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Ce=0;Ce<8;Ce++)for(var je=0;je<8;je++)f[be]=1/(u[U[be]]*Ve[Ce]*Ve[je]*8),p[be]=1/(h[U[be]]*Ve[Ce]*Ve[je]*8),be++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,G){G&&V(G),L=new Array,I=0,j=7,Ne(65496),Ne(65504),Ne(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),Ne(1),Ne(1),se(0),se(0),(function(){Ne(65499),Ne(132),se(0);for(var Nt=0;Nt<64;Nt++)se(u[Nt]);se(1);for(var St=0;St<64;St++)se(h[St])})(),(function(Nt,St){Ne(65472),Ne(17),se(8),Ne(St),Ne(Nt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(P.width,P.height),(function(){Ne(65476),Ne(418),se(0);for(var Nt=0;Nt<16;Nt++)se(M[Nt+1]);for(var St=0;St<=11;St++)se(k[St]);se(16);for(var Ht=0;Ht<16;Ht++)se(W[Ht+1]);for(var en=0;en<=161;en++)se(E[en]);se(1);for(var st=0;st<16;st++)se(R[st+1]);for(var Yt=0;Yt<=11;Yt++)se(B[Yt]);se(17);for(var Xt=0;Xt<16;Xt++)se(ce[Xt+1]);for(var gt=0;gt<=161;gt++)se(Ae[gt])})(),Ne(65498),Ne(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var K=0,re=0,de=0;I=0,j=7,this.encode.displayName="_encode_";for(var pe,xe,Te,Ve,be,Ce,je,Pe,H,qe=P.data,ot=P.width,lt=P.height,Ge=4*ot,rt=0;rt<lt;){for(pe=0;pe<Ge;){for(be=Ge*rt+pe,je=-1,Pe=0,H=0;H<64;H++)Ce=be+(Pe=H>>3)*Ge+(je=4*(7&H)),rt+Pe>=lt&&(Ce-=Ge*(rt+1+Pe-lt)),pe+je>=Ge&&(Ce-=pe+je-Ge+4),xe=qe[Ce++],Te=qe[Ce++],Ve=qe[Ce++],X[H]=(ge[xe]+ge[Te+256|0]+ge[Ve+512|0]>>16)-128,Y[H]=(ge[xe+768|0]+ge[Te+1024|0]+ge[Ve+1280|0]>>16)-128,Z[H]=(ge[xe+1280|0]+ge[Te+1536|0]+ge[Ve+1792|0]>>16)-128;K=ue(X,f,K,e,i),re=ue(Y,p,re,t,r),de=ue(Z,p,de,t,r),pe+=32}rt+=8}if(j>=0){var ct=[];ct[1]=j+1,ct[0]=(1<<j+1)-1,me(ct)}return Ne(65497),new Uint8Array(L)},n=n||50,(function(){for(var P=String.fromCharCode,G=0;G<256;G++)ae[G]=P(G)})(),e=oe(M,k),t=oe(R,B),i=oe(W,E),r=oe(ce,Ae),(function(){for(var P=1,G=2,K=1;K<=15;K++){for(var re=P;re<G;re++)x[32767+re]=K,v[32767+re]=[],v[32767+re][1]=K,v[32767+re][0]=re;for(var de=-(G-1);de<=-P;de++)x[32767+de]=K,v[32767+de]=[],v[32767+de][1]=K,v[32767+de][0]=G-1+de;P<<=1,G<<=1}})(),(function(){for(var P=0;P<256;P++)ge[P]=19595*P,ge[P+256|0]=38470*P,ge[P+512|0]=7471*P+32768,ge[P+768|0]=-11059*P,ge[P+1024|0]=-21709*P,ge[P+1280|0]=32768*P+8421375,ge[P+1536|0]=-27439*P,ge[P+1792|0]=-5329*P})(),V(n)}function Fo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sA(n){function e(k){if(!k)throw Error("assert :P")}function t(k,W,E){for(var R=0;4>R;R++)if(k[W+R]!=E.charCodeAt(R))return!0;return!1}function i(k,W,E,R,B){for(var ce=0;ce<B;ce++)k[W+ce]=E[R+ce]}function r(k,W,E,R){for(var B=0;B<R;B++)k[W+B]=E}function a(k){return new Int32Array(k)}function l(k,W){for(var E=[],R=0;R<k;R++)E.push(new W);return E}function u(k,W){var E=[];return(function R(B,ce,Ae){for(var oe=Ae[ce],me=0;me<oe&&(B.push(Ae.length>ce+1?[]:new W),!(Ae.length<ce+1));me++)R(B[me],ce+1,Ae)})(E,0,k),E}var h=function(){var k=this;function W(m,_){for(var T=1<<_-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function E(m,_,T,D,q){e(!(D%T));do m[_+(D-=T)]=q;while(0<D)}function R(m,_,T,D,q){if(e(2328>=q),512>=q)var Q=a(512);else if((Q=a(q))==null)return 0;return(function(J,te,ie,fe,we,ke){var le,Se,Le=te,We=1<<ie,De=a(16),He=a(16);for(e(we!=0),e(fe!=null),e(J!=null),e(0<ie),Se=0;Se<we;++Se){if(15<fe[Se])return 0;++De[fe[Se]]}if(De[0]==we)return 0;for(He[1]=0,le=1;15>le;++le){if(De[le]>1<<le)return 0;He[le+1]=He[le]+De[le]}for(Se=0;Se<we;++Se)le=fe[Se],0<fe[Se]&&(ke[He[le]++]=Se);if(He[15]==1)return(fe=new B).g=0,fe.value=ke[0],E(J,Le,1,We,fe),We;var Ye,nt=-1,Ze=We-1,_t=0,ht=1,rn=1,vt=1<<ie;for(Se=0,le=1,we=2;le<=ie;++le,we<<=1){if(ht+=rn<<=1,0>(rn-=De[le]))return 0;for(;0<De[le];--De[le])(fe=new B).g=le,fe.value=ke[Se++],E(J,Le+_t,we,vt,fe),_t=W(_t,le)}for(le=ie+1,we=2;15>=le;++le,we<<=1){if(ht+=rn<<=1,0>(rn-=De[le]))return 0;for(;0<De[le];--De[le]){if(fe=new B,(_t&Ze)!=nt){for(Le+=vt,Ye=1<<(nt=le)-ie;15>nt&&!(0>=(Ye-=De[nt]));)++nt,Ye<<=1;We+=vt=1<<(Ye=nt-ie),J[te+(nt=_t&Ze)].g=Ye+ie,J[te+nt].value=Le-te-nt}fe.g=le-ie,fe.value=ke[Se++],E(J,Le+(_t>>ie),we,vt,fe),_t=W(_t,le)}}return ht!=2*He[15]-1?0:We})(m,_,T,D,q,Q)}function B(){this.value=this.g=0}function ce(){this.value=this.g=0}function Ae(){this.G=l(5,B),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(sl,ce)}function oe(m,_,T,D){e(m!=null),e(_!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=T,m.Jd=_,m.Yc=T+D,m.Zc=4<=D?T+D-4+1:T,xe(m)}function me(m,_){for(var T=0;0<_--;)T|=Ve(m,128)<<_;return T}function se(m,_){var T=me(m,_);return Te(m)?-T:T}function Ne(m,_,T,D){var q,Q=0;for(e(m!=null),e(_!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),q=0;q<D;++q)Q+=_[T+q]<<8*q;m.Ra=Q,m.bb=D,m.oa=_,m.pa=T}function ue(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Za-8>>>0,++m.bb,m.u-=8;re(m)&&(m.h=1,m.u=0)}function V(m,_){if(e(0<=_),!m.h&&_<=ms){var T=K(m)&Rs[_];return m.u+=_,ue(m),T}return m.h=1,m.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(m){return m.Ra>>>(m.u&Za-1)>>>0}function re(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Za}function de(m,_){m.u=_,m.h=re(m)}function pe(m){m.u>=eo&&(e(m.u>=eo),ue(m))}function xe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Te(m){return me(m,1)}function Ve(m,_){var T=m.Ca;0>m.b&&xe(m);var D=m.b,q=T*_>>>8,Q=(m.I>>>D>q)+0;for(Q?(T-=q,m.I-=q+1<<D>>>0):T=q+1,D=T,q=0;256<=D;)q+=8,D>>=8;return D=7^q+Eo[D],m.b-=D,m.Ca=(T<<D)-1,Q}function be(m,_,T){m[_+0]=T>>24&255,m[_+1]=T>>16&255,m[_+2]=T>>8&255,m[_+3]=255&T}function Ce(m,_){return m[_+0]|m[_+1]<<8}function je(m,_){return Ce(m,_)|m[_+2]<<16}function Pe(m,_){return Ce(m,_)|Ce(m,_+2)<<16}function H(m,_){var T=1<<_;return e(m!=null),e(0<_),m.X=a(T),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function qe(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),i(_.X,0,m.X,0,1<<_.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function lt(m,_,T,D){e(T!=null),e(D!=null);var q=T[0],Q=D[0];return q==0&&(q=(m*Q+_/2)/_),Q==0&&(Q=(_*q+m/2)/m),0>=q||0>=Q?0:(T[0]=q,D[0]=Q,1)}function Ge(m,_){return m+(1<<_)-1>>>_}function rt(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function ct(m,_){k[_]=function(T,D,q,Q,J,te,ie){var fe;for(fe=0;fe<J;++fe){var we=k[m](te[ie+fe-1],q,Q+fe);te[ie+fe]=rt(T[D+fe],we)}}}function Nt(){this.ud=this.hd=this.jd=0}function St(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function Ht(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function en(m,_){return Ht(m+(m-_+.5>>1))}function st(m,_,T){return Math.abs(_-T)-Math.abs(m-T)}function Yt(m,_,T,D,q,Q,J){for(D=Q[J-1],T=0;T<q;++T)Q[J+T]=D=rt(m[_+T],D)}function Xt(m,_,T,D,q){var Q;for(Q=0;Q<T;++Q){var J=m[_+Q],te=J>>8&255,ie=16711935&(ie=(ie=16711935&J)+((te<<16)+te));D[q+Q]=(4278255360&J)+ie>>>0}}function gt(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function Qt(m,_,T,D,q,Q){var J;for(J=0;J<D;++J){var te=_[T+J],ie=te>>>8,fe=te,we=255&(we=(we=te>>>16)+((m.jd<<24>>24)*(ie<<24>>24)>>>5));fe=255&(fe=(fe+=(m.hd<<24>>24)*(ie<<24>>24)>>>5)+((m.ud<<24>>24)*(we<<24>>24)>>>5)),q[Q+J]=(4278255360&te)+(we<<16)+fe}}function yt(m,_,T,D,q){k[_]=function(Q,J,te,ie,fe,we,ke,le,Se){for(ie=ke;ie<le;++ie)for(ke=0;ke<Se;++ke)fe[we++]=q(te[D(Q[J++])])},k[m]=function(Q,J,te,ie,fe,we,ke){var le=8>>Q.b,Se=Q.Ea,Le=Q.K[0],We=Q.w;if(8>le)for(Q=(1<<Q.b)-1,We=(1<<le)-1;J<te;++J){var De,He=0;for(De=0;De<Se;++De)De&Q||(He=D(ie[fe++])),we[ke++]=q(Le[He&We]),He>>=le}else k["VP8LMapColor"+T](ie,fe,Le,We,we,ke,J,te,Se)}}function oi(m,_,T,D,q){for(T=_+T;_<T;){var Q=m[_++];D[q++]=Q>>16&255,D[q++]=Q>>8&255,D[q++]=255&Q}}function nn(m,_,T,D,q){for(T=_+T;_<T;){var Q=m[_++];D[q++]=Q>>16&255,D[q++]=Q>>8&255,D[q++]=255&Q,D[q++]=Q>>24&255}}function jt(m,_,T,D,q){for(T=_+T;_<T;){var Q=(J=m[_++])>>16&240|J>>12&15,J=240&J|J>>28&15;D[q++]=Q,D[q++]=J}}function Gt(m,_,T,D,q){for(T=_+T;_<T;){var Q=(J=m[_++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;D[q++]=Q,D[q++]=J}}function an(m,_,T,D,q){for(T=_+T;_<T;){var Q=m[_++];D[q++]=255&Q,D[q++]=Q>>8&255,D[q++]=Q>>16&255}}function Rt(m,_,T,D,q,Q){if(Q==0)for(T=_+T;_<T;)be(D,((Q=m[_++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),q+=32;else i(D,q,m,_,T)}function Fn(m,_){k[_][0]=k[m+"0"],k[_][1]=k[m+"1"],k[_][2]=k[m+"2"],k[_][3]=k[m+"3"],k[_][4]=k[m+"4"],k[_][5]=k[m+"5"],k[_][6]=k[m+"6"],k[_][7]=k[m+"7"],k[_][8]=k[m+"8"],k[_][9]=k[m+"9"],k[_][10]=k[m+"10"],k[_][11]=k[m+"11"],k[_][12]=k[m+"12"],k[_][13]=k[m+"13"],k[_][14]=k[m+"0"],k[_][15]=k[m+"0"]}function Ut(m){return m==Xu||m==Fh||m==Oc||m==Uh}function zt(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new qn,this.sd=null}function Tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nr(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function pr(m,_){var T=m.T,D=_.ba.f.RGBA,q=D.eb,Q=D.fb+m.ka*D.A,J=Mr[_.ba.S],te=m.y,ie=m.O,fe=m.f,we=m.N,ke=m.ea,le=m.W,Se=_.cc,Le=_.dc,We=_.Mc,De=_.Nc,He=m.ka,Ye=m.ka+m.T,nt=m.U,Ze=nt+1>>1;for(He==0?J(te,ie,null,null,fe,we,ke,le,fe,we,ke,le,q,Q,null,null,nt):(J(_.ec,_.fc,te,ie,Se,Le,We,De,fe,we,ke,le,q,Q-D.A,q,Q,nt),++T);He+2<Ye;He+=2)Se=fe,Le=we,We=ke,De=le,we+=m.Rc,le+=m.Rc,Q+=2*D.A,J(te,(ie+=2*m.fa)-m.fa,te,ie,Se,Le,We,De,fe,we,ke,le,q,Q-D.A,q,Q,nt);return ie+=m.fa,m.j+Ye<m.o?(i(_.ec,_.fc,te,ie,nt),i(_.cc,_.dc,fe,we,Ze),i(_.Mc,_.Nc,ke,le,Ze),T--):1&Ye||J(te,ie,null,null,fe,we,ke,le,fe,we,ke,le,q,Q+D.A,null,null,nt),T}function ta(m,_,T){var D=m.F,q=[m.J];if(D!=null){var Q=m.U,J=_.ba.S,te=J==Yu||J==Oc;_=_.ba.f.RGBA;var ie=[0],fe=m.ka;ie[0]=m.T,m.Kb&&(fe==0?--ie[0]:(--fe,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(ie[0]=m.o-m.j-fe));var we=_.eb;fe=_.fb+fe*_.A,m=Gu(D,q[0],m.width,Q,ie,we,fe+(te?0:3),_.A),e(T==ie),m&&Ut(J)&&ql(we,fe,te,Q,ie,_.A)}return 0}function rr(m){var _=m.ma,T=_.ba.S,D=11>T,q=T==Jr||T==ca||T==Yu||T==Mc||T==12||Ut(T);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!To(_.Oa,m,q?11:12))return 0;if(q&&Ut(T)&&tn(),m.da)alert("todo:use_scaling");else{if(D){if(_.Ib=Nr,m.Kb){if(T=m.U+1>>1,_.memory=a(m.U+2*T),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+T,_.Ib=pr,tn()}}else alert("todo:EmitYUV");q&&(_.Jb=ta,D&&Be())}if(D&&!fl){for(m=0;256>m;++m)Or[m]=89858*(m-128)+Fc>>ma,C0[m]=-22014*(m-128)+Fc,Am[m]=-45773*(m-128),Wh[m]=113618*(m-128)+Fc>>ma;for(m=$l;m<hl;++m)_=76283*(m-16)+Fc>>ma,R0[m-$l]=cs(_,255),I0[m-$l]=cs(_+8>>4,15);fl=1}return 1}function It(m){var _=m.ma,T=m.U,D=m.T;return e(!(1&m.ka)),0>=T||0>=D?0:(T=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,T),_.Dc+=T,1)}function Ta(m){m.ma.memory=null}function as(m,_,T,D){return V(m,8)!=47?0:(_[0]=V(m,14)+1,T[0]=V(m,14)+1,D[0]=V(m,1),V(m,3)!=0?0:!m.h)}function qr(m,_){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+V(_,T)+1}function Hr(m,_){return 120<_?_-120:1<=(T=((T=ha[_-1])>>4)*m+(8-(15&T)))?T:1;var T}function Jn(m,_,T){var D=K(T),q=m[_+=255&D].g-8;return 0<q&&(de(T,T.u+8),D=K(T),_+=m[_].value,_+=D&(1<<q)-1),de(T,T.u+m[_].g),m[_].value}function li(m,_,T){return T.g+=m.g,T.value+=m.value<<_>>>0,e(8>=T.g),m.g}function $i(m,_,T){var D=m.xc;return e((_=D==0?0:m.vc[m.md*(T>>D)+(_>>D)])<m.Wb),m.Ya[_]}function Cr(m,_,T,D){var q=m.ab,Q=m.c*_,J=m.C;_=J+_;var te=T,ie=D;for(D=m.Ta,T=m.Ua;0<q--;){var fe=m.gc[q],we=J,ke=_,le=te,Se=ie,Le=(ie=D,te=T,fe.Ea);switch(e(we<ke),e(ke<=fe.nc),fe.hc){case 2:Fi(le,Se,(ke-we)*Le,ie,te);break;case 0:var We=we,De=ke,He=ie,Ye=te,nt=(vt=fe).Ea;We==0&&(Dc(le,Se,null,null,1,He,Ye),Yt(le,Se+1,0,0,nt-1,He,Ye+1),Se+=nt,Ye+=nt,++We);for(var Ze=1<<vt.b,_t=Ze-1,ht=Ge(nt,vt.b),rn=vt.K,vt=vt.w+(We>>vt.b)*ht;We<De;){var xn=rn,bi=vt,ln=1;for(jc(le,Se,He,Ye-nt,1,He,Ye);ln<nt;){var ft=(ln&~_t)+Ze;ft>nt&&(ft=nt),(0,No[xn[bi++]>>8&15])(le,Se+ +ln,He,Ye+ln-nt,ft-ln,He,Ye+ln),ln=ft}Se+=nt,Ye+=nt,++We&_t||(vt+=ht)}ke!=fe.nc&&i(ie,te-Le,ie,te+(ke-we-1)*Le,Le);break;case 1:for(Le=le,De=Se,nt=(le=fe.Ea)-(Ye=le&~(He=(Se=1<<fe.b)-1)),We=Ge(le,fe.b),Ze=fe.K,fe=fe.w+(we>>fe.b)*We;we<ke;){for(_t=Ze,ht=fe,rn=new Nt,vt=De+Ye,xn=De+le;De<vt;)gt(_t[ht++],rn),Pc(rn,Le,De,Se,ie,te),De+=Se,te+=Se;De<xn&&(gt(_t[ht++],rn),Pc(rn,Le,De,nt,ie,te),De+=nt,te+=nt),++we&He||(fe+=We)}break;case 3:if(le==ie&&Se==te&&0<fe.b){for(De=ie,le=Le=te+(ke-we)*Le-(Ye=(ke-we)*Ge(fe.Ea,fe.b)),Se=ie,He=te,We=[],Ye=(nt=Ye)-1;0<=Ye;--Ye)We[Ye]=Se[He+Ye];for(Ye=nt-1;0<=Ye;--Ye)De[le+Ye]=We[Ye];kh(fe,we,ke,ie,Le,ie,te)}else kh(fe,we,ke,le,Se,ie,te)}te=D,ie=T}ie!=T&&i(D,T,te,ie,Q)}function mr(m,_){var T=m.V,D=m.Ba+m.c*m.C,q=_-m.C;if(e(_<=m.l.o),e(16>=q),0<q){var Q=m.l,J=m.Ta,te=m.Ua,ie=Q.width;if(Cr(m,q,T,D),q=te=[te],e((T=m.C)<(D=_)),e(Q.v<Q.va),D>Q.o&&(D=Q.o),T<Q.j){var fe=Q.j-T;T=Q.j,q[0]+=fe*ie}if(T>=D?T=0:(q[0]+=4*Q.v,Q.ka=T-Q.j,Q.U=Q.va-Q.v,Q.T=D-T,T=1),T){if(te=te[0],11>(T=m.ca).S){var we=T.f.RGBA,ke=(D=T.S,q=Q.U,Q=Q.T,fe=we.eb,we.A),le=Q;for(we=we.fb+m.Ma*we.A;0<le--;){var Se=J,Le=te,We=q,De=fe,He=we;switch(D){case Vh:kc(Se,Le,We,De,He);break;case Jr:Co(Se,Le,We,De,He);break;case Xu:Co(Se,Le,We,De,He),ql(De,He,0,We,1,0);break;case Bh:Ul(Se,Le,We,De,He);break;case ca:Rt(Se,Le,We,De,He,1);break;case Fh:Rt(Se,Le,We,De,He,1),ql(De,He,0,We,1,0);break;case Yu:Rt(Se,Le,We,De,He,0);break;case Oc:Rt(Se,Le,We,De,He,0),ql(De,He,1,We,1,0);break;case Mc:Ro(Se,Le,We,De,He);break;case Uh:Ro(Se,Le,We,De,He),la(De,He,We,1,0);break;case al:io(Se,Le,We,De,He);break;default:e(0)}te+=ie,we+=ke}m.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=_,e(m.C<=m.i)}function Hn(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var T=m.Ya[_].G,D=m.Ya[_].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function ti(m,_,T,D,q,Q){if(m.Z!=0){var J=m.qd,te=m.rd;for(e(Do[m.Z]!=null);_<T;++_)Do[m.Z](J,te,D,q,D,q,Q),J=D,te=q,q+=Q;m.qd=J,m.rd=te}}function Ki(m,_){var T=m.l.ma,D=T.Z==0||T.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(_<=m.l.o),_>D){var q=m.l.width,Q=T.ca,J=T.tb+q*D,te=m.V,ie=m.Ba+m.c*D,fe=m.gc;e(m.ab==1),e(fe[0].hc==3),no(fe[0],D,_,te,ie,Q,J),ti(T,D,_,Q,J,q)}m.C=m.Ma=_}function Gr(m,_,T,D,q,Q,J){var te=m.$/D,ie=m.$%D,fe=m.m,we=m.s,ke=T+m.$,le=ke;q=T+D*q;var Se=T+D*Q,Le=280+we.ua,We=m.Pb?te:16777216,De=0<we.ua?we.Wa:null,He=we.wc,Ye=ke<Se?$i(we,ie,te):null;e(m.C<Q),e(Se<=q);var nt=!1;e:for(;;){for(;nt||ke<Se;){var Ze=0;if(te>=We){var _t=ke-T;e((We=m).Pb),We.wd=We.m,We.xd=_t,0<We.s.ua&&qe(We.s.Wa,We.s.vb),We=te+ol}if(ie&He||(Ye=$i(we,ie,te)),e(Ye!=null),Ye.Qb&&(_[ke]=Ye.qb,nt=!0),!nt)if(pe(fe),Ye.jc){Ze=fe,_t=_;var ht=ke,rn=Ye.pd[K(Ze)&sl-1];e(Ye.jc),256>rn.g?(de(Ze,Ze.u+rn.g),_t[ht]=rn.value,Ze=0):(de(Ze,Ze.u+rn.g-256),e(256<=rn.value),Ze=rn.value),Ze==0&&(nt=!0)}else Ze=Jn(Ye.G[0],Ye.H[0],fe);if(fe.h)break;if(nt||256>Ze){if(!nt)if(Ye.nd)_[ke]=(Ye.qb|Ze<<8)>>>0;else{if(pe(fe),nt=Jn(Ye.G[1],Ye.H[1],fe),pe(fe),_t=Jn(Ye.G[2],Ye.H[2],fe),ht=Jn(Ye.G[3],Ye.H[3],fe),fe.h)break;_[ke]=(ht<<24|nt<<16|Ze<<8|_t)>>>0}if(nt=!1,++ke,++ie>=D&&(ie=0,++te,J!=null&&te<=Q&&!(te%16)&&J(m,te),De!=null))for(;le<ke;)Ze=_[le++],De.X[(506832829*Ze&4294967295)>>>De.Mb]=Ze}else if(280>Ze){if(Ze=qr(Ze-256,fe),_t=Jn(Ye.G[4],Ye.H[4],fe),pe(fe),_t=Hr(D,_t=qr(_t,fe)),fe.h)break;if(ke-T<_t||q-ke<Ze)break e;for(ht=0;ht<Ze;++ht)_[ke+ht]=_[ke+ht-_t];for(ke+=Ze,ie+=Ze;ie>=D;)ie-=D,++te,J!=null&&te<=Q&&!(te%16)&&J(m,te);if(e(ke<=q),ie&He&&(Ye=$i(we,ie,te)),De!=null)for(;le<ke;)Ze=_[le++],De.X[(506832829*Ze&4294967295)>>>De.Mb]=Ze}else{if(!(Ze<Le))break e;for(nt=Ze-280,e(De!=null);le<ke;)Ze=_[le++],De.X[(506832829*Ze&4294967295)>>>De.Mb]=Ze;Ze=ke,e(!(nt>>>(_t=De).Xa)),_[Ze]=_t.X[nt],nt=!0}nt||e(fe.h==re(fe))}if(m.Pb&&fe.h&&ke<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&qe(m.s.vb,m.s.Wa);else{if(fe.h)break e;J?.(m,te>Q?Q:te),m.a=0,m.$=ke-T}return 1}return m.a=3,0}function As(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function Ga(){var m=new Vt;return m==null?null:(m.a=0,m.xb=_d,Fn("Predictor","VP8LPredictors"),Fn("Predictor","VP8LPredictors_C"),Fn("PredictorAdd","VP8LPredictorsAdd"),Fn("PredictorAdd","VP8LPredictorsAdd_C"),Fi=Xt,Pc=Qt,kc=oi,Co=nn,Ro=jt,io=Gt,Ul=an,k.VP8LMapColor32b=to,k.VP8LMapColor8b=jr,m)}function zs(m,_,T,D,q){var Q=1,J=[m],te=[_],ie=D.m,fe=D.s,we=null,ke=0;e:for(;;){if(T)for(;Q&&V(ie,1);){var le=J,Se=te,Le=D,We=1,De=Le.m,He=Le.gc[Le.ab],Ye=V(De,2);if(Le.Oc&1<<Ye)Q=0;else{switch(Le.Oc|=1<<Ye,He.hc=Ye,He.Ea=le[0],He.nc=Se[0],He.K=[null],++Le.ab,e(4>=Le.ab),Ye){case 0:case 1:He.b=V(De,3)+2,We=zs(Ge(He.Ea,He.b),Ge(He.nc,He.b),0,Le,He.K),He.K=He.K[0];break;case 3:var nt,Ze=V(De,8)+1,_t=16<Ze?0:4<Ze?1:2<Ze?2:3;if(le[0]=Ge(He.Ea,_t),He.b=_t,nt=We=zs(Ze,1,0,Le,He.K)){var ht,rn=Ze,vt=He,xn=1<<(8>>vt.b),bi=a(xn);if(bi==null)nt=0;else{var ln=vt.K[0],ft=vt.w;for(bi[0]=vt.K[0][0],ht=1;ht<1*rn;++ht)bi[ht]=rt(ln[ft+ht],bi[ht-1]);for(;ht<4*xn;++ht)bi[ht]=0;vt.K[0]=null,vt.K[0]=bi,nt=1}}We=nt;break;case 2:break;default:e(0)}Q=We}}if(J=J[0],te=te[0],Q&&V(ie,1)&&!(Q=1<=(ke=V(ie,4))&&11>=ke)){D.a=3;break e}var at;if(at=Q)t:{var Ti,Wt,fn,Yn=D,or=J,Vr=te,fi=ke,Xi=T,Zr=Yn.m,Qi=Yn.s,bn=[null],Mn=1,Ei=0,zn=fa[fi];n:for(;;){if(Xi&&V(Zr,1)){var lr=V(Zr,3)+2,Ni=Ge(or,lr),On=Ge(Vr,lr),qi=Ni*On;if(!zs(Ni,On,0,Yn,bn))break n;for(bn=bn[0],Qi.xc=lr,Ti=0;Ti<qi;++Ti){var Xn=bn[Ti]>>8&65535;bn[Ti]=Xn,Xn>=Mn&&(Mn=Xn+1)}}if(Zr.h)break n;for(Wt=0;5>Wt;++Wt){var Ji=Gl[Wt];!Wt&&0<fi&&(Ji+=1<<fi),Ei<Ji&&(Ei=Ji)}var Zi=l(Mn*zn,B),ii=Mn,Pn=l(ii,Ae);if(Pn==null)var es=null;else e(65536>=ii),es=Pn;var Pi=a(Ei);if(es==null||Pi==null||Zi==null){Yn.a=1;break n}var kt=Zi;for(Ti=fn=0;Ti<Mn;++Ti){var Bt=es[Ti],Vn=Bt.G,Is=Bt.H,ga=0,ys=1,er=0;for(Wt=0;5>Wt;++Wt){Ji=Gl[Wt],Vn[Wt]=kt,Is[Wt]=fn,!Wt&&0<fi&&(Ji+=1<<fi);r:{var dl,pl=Ji,Kh=Yn,di=Pi,Sd=kt,Ad=fn,Yh=0,jo=Kh.m,L0=V(jo,1);if(r(di,0,0,pl),L0){var Td=V(jo,1)+1,Ed=V(jo,1),Xh=V(jo,Ed==0?1:8);di[Xh]=1,Td==2&&(di[Xh=V(jo,8)]=1);var br=1}else{var ki=a(19),eh=V(jo,4)+4;if(19<eh){Kh.a=3;var ml=0;break r}for(dl=0;dl<eh;++dl)ki[Qu[dl]]=V(jo,3);var zc=void 0,Kl=void 0,ao=Kh,Qh=ki,qc=pl,Jh=di,Zh=0,Po=ao.m,Nd=8,Cd=l(128,B);i:for(;R(Cd,0,7,Qh,19);){if(V(Po,1)){var Tm=2+2*V(Po,3);if((zc=2+V(Po,Tm))>qc)break i}else zc=qc;for(Kl=0;Kl<qc&&zc--;){pe(Po);var Rd=Cd[0+(127&K(Po))];de(Po,Po.u+Rd.g);var gl=Rd.value;if(16>gl)Jh[Kl++]=gl,gl!=0&&(Nd=gl);else{var Em=gl==16,Nm=gl-16,Cm=Vc[Nm],Id=V(Po,ua[Nm])+Cm;if(Kl+Id>qc)break i;for(var Rm=Em?Nd:0;0<Id--;)Jh[Kl++]=Rm}}Zh=1;break i}Zh||(ao.a=3),br=Zh}(br=br&&!jo.h)&&(Yh=R(Sd,Ad,8,di,pl)),br&&Yh!=0?ml=Yh:(Kh.a=3,ml=0)}if(ml==0)break n;if(ys&&zh[Wt]==1&&(ys=kt[fn].g==0),ga+=kt[fn].g,fn+=ml,3>=Wt){var Yl,ef=Pi[0];for(Yl=1;Yl<Ji;++Yl)Pi[Yl]>ef&&(ef=Pi[Yl]);er+=ef}}if(Bt.nd=ys,Bt.Qb=0,ys&&(Bt.qb=(Vn[3][Is[3]+0].value<<24|Vn[1][Is[1]+0].value<<16|Vn[2][Is[2]+0].value)>>>0,ga==0&&256>Vn[0][Is[0]+0].value&&(Bt.Qb=1,Bt.qb+=Vn[0][Is[0]+0].value<<8)),Bt.jc=!Bt.Qb&&6>er,Bt.jc){var th,oo=Bt;for(th=0;th<sl;++th){var ko=th,Mo=oo.pd[ko],tf=oo.G[0][oo.H[0]+ko];256<=tf.value?(Mo.g=tf.g+256,Mo.value=tf.value):(Mo.g=0,Mo.value=0,ko>>=li(tf,8,Mo),ko>>=li(oo.G[1][oo.H[1]+ko],16,Mo),ko>>=li(oo.G[2][oo.H[2]+ko],0,Mo),li(oo.G[3][oo.H[3]+ko],24,Mo))}}}Qi.vc=bn,Qi.Wb=Mn,Qi.Ya=es,Qi.yc=Zi,at=1;break t}at=0}if(!(Q=at)){D.a=3;break e}if(0<ke){if(fe.ua=1<<ke,!H(fe.Wa,ke)){D.a=1,Q=0;break e}}else fe.ua=0;var nf=D,Xl=J,Im=te,Hc=nf.s,Gc=Hc.xc;if(nf.c=Xl,nf.i=Im,Hc.md=Ge(Xl,Gc),Hc.wc=Gc==0?-1:(1<<Gc)-1,T){D.xb=ll;break e}if((we=a(J*te))==null){D.a=1,Q=0;break e}Q=(Q=Gr(D,we,0,J,te,te,null))&&!ie.h;break e}return Q?(q!=null?q[0]=we:(e(we==null),e(T)),D.$=0,T||As(fe)):As(fe),Q}function Wr(m,_){var T=m.c*m.i,D=T+_+16*_;return e(m.c<=_),m.V=a(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+_,1)}function Ea(m,_){var T=m.C,D=_-T,q=m.V,Q=m.Ba+m.c*T;for(e(_<=m.l.o);0<D;){var J=16<D?16:D,te=m.l.ma,ie=m.l.width,fe=ie*J,we=te.ca,ke=te.tb+ie*T,le=m.Ta,Se=m.Ua;Cr(m,J,q,Q),Xs(le,Se,we,ke,fe),ti(te,T,T+J,we,ke,ie),D-=J,q+=J*m.c,T+=J}e(T==_),m.C=m.Ma=_}function os(){this.ub=this.yd=this.td=this.Rb=0}function Rr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ls(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ts(){this.Yb=(function(){var m=[];return(function _(T,D,q){for(var Q=q[D],J=0;J<Q&&(T.push(q.length>D+1?[]:0),!(q.length<D+1));J++)_(T[J],D+1,q)})(m,0,[3,11]),m})()}function Ai(){this.jb=a(3),this.Wc=u([4,8],Ts),this.Xc=u([4,17],Ts)}function Qo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $r(){this.ld=this.La=this.dd=this.tc=0}function Es(){this.Na=this.la=0}function qs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jo(){this.uc=this.M=this.Nb=0,this.wa=Array(new $r),this.Y=0,this.ya=Array(new vo),this.aa=0,this.l=new gr}function Zo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Pl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new os,this.Kc=new Rr,this.ed=new Qo,this.Qa=new ls,this.Ic=this.$c=this.Aa=0,this.D=new Jo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,qs),this.Pa=new Ai,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zo),this.Hd=0,this.rb=Array(new Es),this.sb=0,this.wa=Array(new $r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vo),this.L=this.aa=0,this.gd=u([4,2],$r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cs(m,_){return 0>m?0:m>_?_:m}function gr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Li(){var m=new Pl;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Qs||(Qs=Nn)),m}function wn(m,_,T){return m.a==0&&(m.a=_,m.sc=T,m.cb=0),0}function Na(m,_,T){return 3<=T&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function Ns(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return wn(m,2,"null VP8Io passed to VP8GetHeaders()");var T=_.data,D=_.w,q=_.ha;if(4>q)return wn(m,7,"Truncated header.");var Q=T[D+0]|T[D+1]<<8|T[D+2]<<16,J=m.Od;if(J.Rb=!(1&Q),J.td=Q>>1&7,J.yd=Q>>4&1,J.ub=Q>>5,3<J.td)return wn(m,3,"Incorrect keyframe parameters.");if(!J.yd)return wn(m,4,"Frame not displayable.");D+=3,q-=3;var te=m.Kc;if(J.Rb){if(7>q)return wn(m,7,"cannot parse picture header");if(!Na(T,D,q))return wn(m,3,"Bad code word");te.c=16383&(T[D+4]<<8|T[D+3]),te.Td=T[D+4]>>6,te.i=16383&(T[D+6]<<8|T[D+5]),te.Ud=T[D+6]>>6,D+=7,q-=7,m.za=te.c+15>>4,m.Ub=te.i+15>>4,_.width=te.c,_.height=te.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((Q=m.Pa).jb,0,255,Q.jb.length),e((Q=m.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,r(Q.Zb,0,0,Q.Zb.length),r(Q.Lb,0,0,Q.Lb)}if(J.ub>q)return wn(m,7,"bad partition length");oe(Q=m.m,T,D,J.ub),D+=J.ub,q-=J.ub,J.Rb&&(te.Ld=Te(Q),te.Kd=Te(Q)),te=m.Qa;var ie,fe=m.Pa;if(e(Q!=null),e(te!=null),te.Cb=Te(Q),te.Cb){if(te.Bb=Te(Q),Te(Q)){for(te.Fb=Te(Q),ie=0;4>ie;++ie)te.Zb[ie]=Te(Q)?se(Q,7):0;for(ie=0;4>ie;++ie)te.Lb[ie]=Te(Q)?se(Q,6):0}if(te.Bb)for(ie=0;3>ie;++ie)fe.jb[ie]=Te(Q)?me(Q,8):255}else te.Bb=0;if(Q.Ka)return wn(m,3,"cannot parse segment header");if((te=m.ed).zd=Te(Q),te.Tb=me(Q,6),te.wb=me(Q,3),te.Pc=Te(Q),te.Pc&&Te(Q)){for(fe=0;4>fe;++fe)Te(Q)&&(te.vd[fe]=se(Q,6));for(fe=0;4>fe;++fe)Te(Q)&&(te.od[fe]=se(Q,6))}if(m.L=te.Tb==0?0:te.zd?1:2,Q.Ka)return wn(m,3,"cannot parse filter header");var we=q;if(q=ie=D,D=ie+we,te=we,m.Xb=(1<<me(m.m,2))-1,we<3*(fe=m.Xb))T=7;else{for(ie+=3*fe,te-=3*fe,we=0;we<fe;++we){var ke=T[q+0]|T[q+1]<<8|T[q+2]<<16;ke>te&&(ke=te),oe(m.Jc[+we],T,ie,ke),ie+=ke,te-=ke,q+=3}oe(m.Jc[+fe],T,ie,te),T=ie<D?0:5}if(T!=0)return wn(m,T,"cannot parse partitions");for(T=me(ie=m.m,7),q=Te(ie)?se(ie,4):0,D=Te(ie)?se(ie,4):0,te=Te(ie)?se(ie,4):0,fe=Te(ie)?se(ie,4):0,ie=Te(ie)?se(ie,4):0,we=m.Qa,ke=0;4>ke;++ke){if(we.Cb){var le=we.Zb[ke];we.Fb||(le+=T)}else{if(0<ke){m.pb[ke]=m.pb[0];continue}le=T}var Se=m.pb[ke];Se.Sc[0]=da[cs(le+q,127)],Se.Sc[1]=pa[cs(le+0,127)],Se.Eb[0]=2*da[cs(le+D,127)],Se.Eb[1]=101581*pa[cs(le+te,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=da[cs(le+fe,117)],Se.Qc[1]=pa[cs(le+ie,127)],Se.lc=le+ie}if(!J.Rb)return wn(m,4,"Not a key frame.");for(Te(Q),J=m.Pa,T=0;4>T;++T){for(q=0;8>q;++q)for(D=0;3>D;++D)for(te=0;11>te;++te)fe=Ve(Q,vi[T][q][D][te])?me(Q,8):Sm[T][q][D][te],J.Wc[T][q].Yb[D][te]=fe;for(q=0;17>q;++q)J.Xc[T][q]=J.Wc[T][Sn[q]]}return m.kc=Te(Q),m.kc&&(m.Bd=me(Q,8)),m.cb=1}function Nn(m,_,T,D,q,Q,J){var te=_[q].Yb[T];for(T=0;16>q;++q){if(!Ve(m,te[T+0]))return q;for(;!Ve(m,te[T+1]);)if(te=_[++q].Yb[0],T=0,q==16)return 16;var ie=_[q+1].Yb;if(Ve(m,te[T+2])){var fe=m,we=0;if(Ve(fe,(le=te)[(ke=T)+3]))if(Ve(fe,le[ke+6])){for(te=0,ke=2*(we=Ve(fe,le[ke+8]))+(le=Ve(fe,le[ke+9+we])),we=0,le=xm[ke];le[te];++te)we+=we+Ve(fe,le[te]);we+=3+(8<<ke)}else Ve(fe,le[ke+7])?(we=7+2*Ve(fe,165),we+=Ve(fe,145)):we=5+Ve(fe,159);else we=Ve(fe,le[ke+4])?3+Ve(fe,le[ke+5]):2;te=ie[2]}else we=1,te=ie[1];ie=J+wd[q],0>(fe=m).b&&xe(fe);var ke,le=fe.b,Se=(ke=fe.Ca>>1)-(fe.I>>le)>>31;--fe.b,fe.Ca+=Se,fe.Ca|=1,fe.I-=(ke+1&Se)<<le,Q[ie]=((we^Se)-Se)*D[(0<q)+0]}return 16}function Wa(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,r(m.zc,0,0,m.zc.length),m.ja=0}function Vi(m,_,T,D,q){q=m[_+T+32*D]+(q>>3),m[_+T+32*D]=-256&q?0>q?0:255:q}function yi(m,_,T,D,q,Q){Vi(m,_,0,T,D+q),Vi(m,_,1,T,D+Q),Vi(m,_,2,T,D-Q),Vi(m,_,3,T,D-q)}function Di(m){return(20091*m>>16)+m}function bo(m,_,T,D){var q,Q=0,J=a(16);for(q=0;4>q;++q){var te=m[_+0]+m[_+8],ie=m[_+0]-m[_+8],fe=(35468*m[_+4]>>16)-Di(m[_+12]),we=Di(m[_+4])+(35468*m[_+12]>>16);J[Q+0]=te+we,J[Q+1]=ie+fe,J[Q+2]=ie-fe,J[Q+3]=te-we,Q+=4,_++}for(q=Q=0;4>q;++q)te=(m=J[Q+0]+4)+J[Q+8],ie=m-J[Q+8],fe=(35468*J[Q+4]>>16)-Di(J[Q+12]),Vi(T,D,0,0,te+(we=Di(J[Q+4])+(35468*J[Q+12]>>16))),Vi(T,D,1,0,ie+fe),Vi(T,D,2,0,ie-fe),Vi(T,D,3,0,te-we),Q++,D+=32}function Ic(m,_,T,D){var q=m[_+0]+4,Q=35468*m[_+4]>>16,J=Di(m[_+4]),te=35468*m[_+1]>>16;yi(T,D,0,q+J,m=Di(m[_+1]),te),yi(T,D,1,q+Q,m,te),yi(T,D,2,q-Q,m,te),yi(T,D,3,q-J,m,te)}function kl(m,_,T,D,q){bo(m,_,T,D),q&&bo(m,_+16,T,D+4)}function Ir(m,_,T,D){Io(m,_+0,T,D,1),Io(m,_+32,T,D+128,1)}function Ml(m,_,T,D){var q;for(m=m[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)Vi(T,D,_,q,m)}function Ca(m,_,T,D){m[_+0]&&Un(m,_+0,T,D),m[_+16]&&Un(m,_+16,T,D+4),m[_+32]&&Un(m,_+32,T,D+128),m[_+48]&&Un(m,_+48,T,D+128+4)}function sr(m,_,T,D){var q,Q=a(16);for(q=0;4>q;++q){var J=m[_+0+q]+m[_+12+q],te=m[_+4+q]+m[_+8+q],ie=m[_+4+q]-m[_+8+q],fe=m[_+0+q]-m[_+12+q];Q[0+q]=J+te,Q[8+q]=J-te,Q[4+q]=fe+ie,Q[12+q]=fe-ie}for(q=0;4>q;++q)J=(m=Q[0+4*q]+3)+Q[3+4*q],te=Q[1+4*q]+Q[2+4*q],ie=Q[1+4*q]-Q[2+4*q],fe=m-Q[3+4*q],T[D+0]=J+te>>3,T[D+16]=fe+ie>>3,T[D+32]=J-te>>3,T[D+48]=fe-ie>>3,D+=64}function $a(m,_,T){var D,q=_-32,Q=Qr,J=255-m[q-1];for(D=0;D<T;++D){var te,ie=Q,fe=J+m[_-1];for(te=0;te<T;++te)m[_+te]=ie[fe+m[q+te]];_+=32}}function Ol(m,_){$a(m,_,4)}function Vl(m,_){$a(m,_,8)}function el(m,_){$a(m,_,16)}function tl(m,_){var T;for(T=0;16>T;++T)i(m,_+32*T,m,_-32,16)}function Ra(m,_){var T;for(T=16;0<T;--T)r(m,_,m[_-1],16),_+=32}function Kr(m,_,T){var D;for(D=0;16>D;++D)r(_,T+32*D,m,16)}function Hs(m,_){var T,D=16;for(T=0;16>T;++T)D+=m[_-1+32*T]+m[_+T-32];Kr(D>>5,m,_)}function Ia(m,_){var T,D=8;for(T=0;16>T;++T)D+=m[_-1+32*T];Kr(D>>4,m,_)}function Yr(m,_){var T,D=8;for(T=0;16>T;++T)D+=m[_+T-32];Kr(D>>4,m,_)}function Ka(m,_){Kr(128,m,_)}function Pt(m,_,T){return m+2*_+T+2>>2}function wo(m,_){var T,D=_-32;for(D=new Uint8Array([Pt(m[D-1],m[D+0],m[D+1]),Pt(m[D+0],m[D+1],m[D+2]),Pt(m[D+1],m[D+2],m[D+3]),Pt(m[D+2],m[D+3],m[D+4])]),T=0;4>T;++T)i(m,_+32*T,D,0,D.length)}function nl(m,_){var T=m[_-1],D=m[_-1+32],q=m[_-1+64],Q=m[_-1+96];be(m,_+0,16843009*Pt(m[_-1-32],T,D)),be(m,_+32,16843009*Pt(T,D,q)),be(m,_+64,16843009*Pt(D,q,Q)),be(m,_+96,16843009*Pt(q,Q,Q))}function Ya(m,_){var T,D=4;for(T=0;4>T;++T)D+=m[_+T-32]+m[_-1+32*T];for(D>>=3,T=0;4>T;++T)r(m,_+32*T,D,4)}function ar(m,_){var T=m[_-1+0],D=m[_-1+32],q=m[_-1+64],Q=m[_-1-32],J=m[_+0-32],te=m[_+1-32],ie=m[_+2-32],fe=m[_+3-32];m[_+0+96]=Pt(D,q,m[_-1+96]),m[_+1+96]=m[_+0+64]=Pt(T,D,q),m[_+2+96]=m[_+1+64]=m[_+0+32]=Pt(Q,T,D),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=Pt(J,Q,T),m[_+3+64]=m[_+2+32]=m[_+1+0]=Pt(te,J,Q),m[_+3+32]=m[_+2+0]=Pt(ie,te,J),m[_+3+0]=Pt(fe,ie,te)}function Yi(m,_){var T=m[_+1-32],D=m[_+2-32],q=m[_+3-32],Q=m[_+4-32],J=m[_+5-32],te=m[_+6-32],ie=m[_+7-32];m[_+0+0]=Pt(m[_+0-32],T,D),m[_+1+0]=m[_+0+32]=Pt(T,D,q),m[_+2+0]=m[_+1+32]=m[_+0+64]=Pt(D,q,Q),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=Pt(q,Q,J),m[_+3+32]=m[_+2+64]=m[_+1+96]=Pt(Q,J,te),m[_+3+64]=m[_+2+96]=Pt(J,te,ie),m[_+3+96]=Pt(te,ie,ie)}function _o(m,_){var T=m[_-1+0],D=m[_-1+32],q=m[_-1+64],Q=m[_-1-32],J=m[_+0-32],te=m[_+1-32],ie=m[_+2-32],fe=m[_+3-32];m[_+0+0]=m[_+1+64]=Q+J+1>>1,m[_+1+0]=m[_+2+64]=J+te+1>>1,m[_+2+0]=m[_+3+64]=te+ie+1>>1,m[_+3+0]=ie+fe+1>>1,m[_+0+96]=Pt(q,D,T),m[_+0+64]=Pt(D,T,Q),m[_+0+32]=m[_+1+96]=Pt(T,Q,J),m[_+1+32]=m[_+2+96]=Pt(Q,J,te),m[_+2+32]=m[_+3+96]=Pt(J,te,ie),m[_+3+32]=Pt(te,ie,fe)}function Gn(m,_){var T=m[_+0-32],D=m[_+1-32],q=m[_+2-32],Q=m[_+3-32],J=m[_+4-32],te=m[_+5-32],ie=m[_+6-32],fe=m[_+7-32];m[_+0+0]=T+D+1>>1,m[_+1+0]=m[_+0+64]=D+q+1>>1,m[_+2+0]=m[_+1+64]=q+Q+1>>1,m[_+3+0]=m[_+2+64]=Q+J+1>>1,m[_+0+32]=Pt(T,D,q),m[_+1+32]=m[_+0+96]=Pt(D,q,Q),m[_+2+32]=m[_+1+96]=Pt(q,Q,J),m[_+3+32]=m[_+2+96]=Pt(Q,J,te),m[_+3+64]=Pt(J,te,ie),m[_+3+96]=Pt(te,ie,fe)}function us(m,_){var T=m[_-1+0],D=m[_-1+32],q=m[_-1+64],Q=m[_-1+96];m[_+0+0]=T+D+1>>1,m[_+2+0]=m[_+0+32]=D+q+1>>1,m[_+2+32]=m[_+0+64]=q+Q+1>>1,m[_+1+0]=Pt(T,D,q),m[_+3+0]=m[_+1+32]=Pt(D,q,Q),m[_+3+32]=m[_+1+64]=Pt(q,Q,Q),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=Q}function xo(m,_){var T=m[_-1+0],D=m[_-1+32],q=m[_-1+64],Q=m[_-1+96],J=m[_-1-32],te=m[_+0-32],ie=m[_+1-32],fe=m[_+2-32];m[_+0+0]=m[_+2+32]=T+J+1>>1,m[_+0+32]=m[_+2+64]=D+T+1>>1,m[_+0+64]=m[_+2+96]=q+D+1>>1,m[_+0+96]=Q+q+1>>1,m[_+3+0]=Pt(te,ie,fe),m[_+2+0]=Pt(J,te,ie),m[_+1+0]=m[_+3+32]=Pt(T,J,te),m[_+1+32]=m[_+3+64]=Pt(D,T,J),m[_+1+64]=m[_+3+96]=Pt(q,D,T),m[_+1+96]=Pt(Q,q,D)}function Gs(m,_){var T;for(T=0;8>T;++T)i(m,_+32*T,m,_-32,8)}function Bl(m,_){var T;for(T=0;8>T;++T)r(m,_,m[_-1],8),_+=32}function hs(m,_,T){var D;for(D=0;8>D;++D)r(_,T+32*D,m,8)}function La(m,_){var T,D=8;for(T=0;8>T;++T)D+=m[_+T-32]+m[_-1+32*T];hs(D>>4,m,_)}function fs(m,_){var T,D=4;for(T=0;8>T;++T)D+=m[_+T-32];hs(D>>3,m,_)}function Bi(m,_){var T,D=4;for(T=0;8>T;++T)D+=m[_-1+32*T];hs(D>>3,m,_)}function na(m,_){hs(128,m,_)}function yr(m,_,T){var D=m[_-T],q=m[_+0],Q=3*(q-D)+Lo[1020+m[_-2*T]-m[_+T]],J=Ku[112+(Q+4>>3)];m[_-T]=Qr[255+D+Ku[112+(Q+3>>3)]],m[_+0]=Qr[255+q-J]}function ia(m,_,T,D){var q=m[_+0],Q=m[_+T];return Pr[255+m[_-2*T]-m[_-T]]>D||Pr[255+Q-q]>D}function Xa(m,_,T,D){return 4*Pr[255+m[_-T]-m[_+0]]+Pr[255+m[_-2*T]-m[_+T]]<=D}function ra(m,_,T,D,q){var Q=m[_-3*T],J=m[_-2*T],te=m[_-T],ie=m[_+0],fe=m[_+T],we=m[_+2*T],ke=m[_+3*T];return 4*Pr[255+te-ie]+Pr[255+J-fe]>D?0:Pr[255+m[_-4*T]-Q]<=q&&Pr[255+Q-J]<=q&&Pr[255+J-te]<=q&&Pr[255+ke-we]<=q&&Pr[255+we-fe]<=q&&Pr[255+fe-ie]<=q}function sa(m,_,T,D){var q=2*D+1;for(D=0;16>D;++D)Xa(m,_+D,T,q)&&yr(m,_+D,T)}function Cs(m,_,T,D){var q=2*D+1;for(D=0;16>D;++D)Xa(m,_+D*T,1,q)&&yr(m,_+D*T,1)}function So(m,_,T,D){var q;for(q=3;0<q;--q)sa(m,_+=4*T,T,D)}function il(m,_,T,D){var q;for(q=3;0<q;--q)Cs(m,_+=4,T,D)}function ds(m,_,T,D,q,Q,J,te){for(Q=2*Q+1;0<q--;){if(ra(m,_,T,Q,J))if(ia(m,_,T,te))yr(m,_,T);else{var ie=m,fe=_,we=T,ke=ie[fe-2*we],le=ie[fe-we],Se=ie[fe+0],Le=ie[fe+we],We=ie[fe+2*we],De=27*(Ye=Lo[1020+3*(Se-le)+Lo[1020+ke-Le]])+63>>7,He=18*Ye+63>>7,Ye=9*Ye+63>>7;ie[fe-3*we]=Qr[255+ie[fe-3*we]+Ye],ie[fe-2*we]=Qr[255+ke+He],ie[fe-we]=Qr[255+le+De],ie[fe+0]=Qr[255+Se-De],ie[fe+we]=Qr[255+Le-He],ie[fe+2*we]=Qr[255+We-Ye]}_+=D}}function aa(m,_,T,D,q,Q,J,te){for(Q=2*Q+1;0<q--;){if(ra(m,_,T,Q,J))if(ia(m,_,T,te))yr(m,_,T);else{var ie=m,fe=_,we=T,ke=ie[fe-we],le=ie[fe+0],Se=ie[fe+we],Le=Ku[112+(4+(We=3*(le-ke))>>3)],We=Ku[112+(We+3>>3)],De=Le+1>>1;ie[fe-2*we]=Qr[255+ie[fe-2*we]+De],ie[fe-we]=Qr[255+ke+We],ie[fe+0]=Qr[255+le-Le],ie[fe+we]=Qr[255+Se-De]}_+=D}}function Fl(m,_,T,D,q,Q){ds(m,_,T,1,16,D,q,Q)}function Ws(m,_,T,D,q,Q){ds(m,_,1,T,16,D,q,Q)}function rl(m,_,T,D,q,Q){var J;for(J=3;0<J;--J)aa(m,_+=4*T,T,1,16,D,q,Q)}function A(m,_,T,D,q,Q){var J;for(J=3;0<J;--J)aa(m,_+=4,1,T,16,D,q,Q)}function z(m,_,T,D,q,Q,J,te){ds(m,_,q,1,8,Q,J,te),ds(T,D,q,1,8,Q,J,te)}function he(m,_,T,D,q,Q,J,te){ds(m,_,1,q,8,Q,J,te),ds(T,D,1,q,8,Q,J,te)}function ve(m,_,T,D,q,Q,J,te){aa(m,_+4*q,q,1,8,Q,J,te),aa(T,D+4*q,q,1,8,Q,J,te)}function Ee(m,_,T,D,q,Q,J,te){aa(m,_+4,1,q,8,Q,J,te),aa(T,D+4,1,q,8,Q,J,te)}function $e(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new B}function Vt(){this.xb=this.a=0,this.l=new gr,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=l(4,dt),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _n(m,_,T,D,q,Q,J){for(m=m==null?0:m[_+0],_=0;_<J;++_)q[Q+_]=m+T[D+_]&255,m=q[Q+_]}function ci(m,_,T,D,q,Q,J){var te;if(m==null)_n(null,null,T,D,q,Q,J);else for(te=0;te<J;++te)q[Q+te]=m[_+te]+T[D+te]&255}function Zn(m,_,T,D,q,Q,J){if(m==null)_n(null,null,T,D,q,Q,J);else{var te,ie=m[_+0],fe=ie,we=ie;for(te=0;te<J;++te)fe=we+(ie=m[_+te])-fe,we=T[D+te]+(-256&fe?0>fe?0:255:fe)&255,fe=ie,q[Q+te]=we}}function g(m,_,T,D){var q=_.width,Q=_.o;if(e(m!=null&&_!=null),0>T||0>=D||T+D>Q)return null;if(!m.Cc){if(m.ga==null){var J;if(m.ga=new Lt,(J=m.ga==null)||(J=_.width*_.o,e(m.Gb.length==0),m.Gb=a(J),m.Uc=0,m.Gb==null?J=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,J=1),J=!J),!J){J=m.ga;var te=m.Fa,ie=m.P,fe=m.qc,we=m.mb,ke=m.nb,le=ie+1,Se=fe-1,Le=J.l;if(e(te!=null&&we!=null&&_!=null),Do[0]=null,Do[1]=_n,Do[2]=ci,Do[3]=Zn,J.ca=we,J.tb=ke,J.c=_.width,J.i=_.height,e(0<J.c&&0<J.i),1>=fe)_=0;else if(J.$a=3&te[ie+0],J.Z=te[ie+0]>>2&3,J.Lc=te[ie+0]>>4&3,ie=te[ie+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ie)_=0;else if(Le.put=It,Le.ac=rr,Le.bc=Ta,Le.ma=J,Le.width=_.width,Le.height=_.height,Le.Da=_.Da,Le.v=_.v,Le.va=_.va,Le.j=_.j,Le.o=_.o,J.$a)e:{e(J.$a==1),_=Ga();t:for(;;){if(_==null){_=0;break e}if(e(J!=null),J.mc=_,_.c=J.c,_.i=J.i,_.l=J.l,_.l.ma=J,_.l.width=J.c,_.l.height=J.i,_.a=0,Ne(_.m,te,le,Se),!zs(J.c,J.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Hn(_.s)?(J.ic=1,te=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(te),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(J.ic=0,_=Wr(_,J.c)),!_))break t;_=1;break e}J.mc=null,_=0}else _=Se>=J.c*J.i;J=!_}if(J)return null;m.ga.Lc!=1?m.Ga=0:D=Q-T}e(m.ga!=null),e(T+D<=Q);e:{if(_=(te=m.ga).c,Q=te.l.o,te.$a==0){if(le=m.rc,Se=m.Vc,Le=m.Fa,ie=m.P+1+T*_,fe=m.mb,we=m.nb+T*_,e(ie<=m.P+m.qc),te.Z!=0)for(e(Do[te.Z]!=null),J=0;J<D;++J)Do[te.Z](le,Se,Le,ie,fe,we,_),le=fe,Se=we,we+=_,ie+=_;else for(J=0;J<D;++J)i(fe,we,Le,ie,_),le=fe,Se=we,we+=_,ie+=_;m.rc=le,m.Vc=Se}else{if(e(te.mc!=null),_=T+D,e((J=te.mc)!=null),e(_<=J.i),J.C>=_)_=1;else if(te.ic||Be(),te.ic){te=J.V,le=J.Ba,Se=J.c;var We=J.i,De=(Le=1,ie=J.$/Se,fe=J.$%Se,we=J.m,ke=J.s,J.$),He=Se*We,Ye=Se*_,nt=ke.wc,Ze=De<Ye?$i(ke,fe,ie):null;e(De<=He),e(_<=We),e(Hn(ke));t:for(;;){for(;!we.h&&De<Ye;){if(fe&nt||(Ze=$i(ke,fe,ie)),e(Ze!=null),pe(we),256>(We=Jn(Ze.G[0],Ze.H[0],we)))te[le+De]=We,++De,++fe>=Se&&(fe=0,++ie<=_&&!(ie%16)&&Ki(J,ie));else{if(!(280>We)){Le=0;break t}We=qr(We-256,we);var _t,ht=Jn(Ze.G[4],Ze.H[4],we);if(pe(we),!(De>=(ht=Hr(Se,ht=qr(ht,we)))&&He-De>=We)){Le=0;break t}for(_t=0;_t<We;++_t)te[le+De+_t]=te[le+De+_t-ht];for(De+=We,fe+=We;fe>=Se;)fe-=Se,++ie<=_&&!(ie%16)&&Ki(J,ie);De<Ye&&fe&nt&&(Ze=$i(ke,fe,ie))}e(we.h==re(we))}Ki(J,ie>_?_:ie);break t}!Le||we.h&&De<He?(Le=0,J.a=we.h?5:3):J.$=De,_=Le}else _=Gr(J,J.V,J.Ba,J.c,J.i,_,Ea);if(!_){D=0;break e}}T+D>=Q&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*q}function C(m,_,T,D,q,Q){for(;0<q--;){var J,te=m,ie=_+(T?1:0),fe=m,we=_+(T?0:3);for(J=0;J<D;++J){var ke=fe[we+4*J];ke!=255&&(ke*=32897,te[ie+4*J+0]=te[ie+4*J+0]*ke>>23,te[ie+4*J+1]=te[ie+4*J+1]*ke>>23,te[ie+4*J+2]=te[ie+4*J+2]*ke>>23)}_+=Q}}function F(m,_,T,D,q){for(;0<D--;){var Q;for(Q=0;Q<T;++Q){var J=m[_+2*Q+0],te=15&(fe=m[_+2*Q+1]),ie=4369*te,fe=(240&fe|fe>>4)*ie>>16;m[_+2*Q+0]=(240&J|J>>4)*ie>>16&240|(15&J|J<<4)*ie>>16>>4&15,m[_+2*Q+1]=240&fe|te}_+=q}}function ne(m,_,T,D,q,Q,J,te){var ie,fe,we=255;for(fe=0;fe<q;++fe){for(ie=0;ie<D;++ie){var ke=m[_+ie];Q[J+4*ie]=ke,we&=ke}_+=T,J+=te}return we!=255}function Ie(m,_,T,D,q){var Q;for(Q=0;Q<q;++Q)T[D+Q]=m[_+Q]>>8}function Be(){ql=C,la=F,Gu=ne,Xs=Ie}function it(m,_,T){k[m]=function(D,q,Q,J,te,ie,fe,we,ke,le,Se,Le,We,De,He,Ye,nt){var Ze,_t=nt-1>>1,ht=te[ie+0]|fe[we+0]<<16,rn=ke[le+0]|Se[Le+0]<<16;e(D!=null);var vt=3*ht+rn+131074>>2;for(_(D[q+0],255&vt,vt>>16,We,De),Q!=null&&(vt=3*rn+ht+131074>>2,_(Q[J+0],255&vt,vt>>16,He,Ye)),Ze=1;Ze<=_t;++Ze){var xn=te[ie+Ze]|fe[we+Ze]<<16,bi=ke[le+Ze]|Se[Le+Ze]<<16,ln=ht+xn+rn+bi+524296,ft=ln+2*(xn+rn)>>3;vt=ft+ht>>1,ht=(ln=ln+2*(ht+bi)>>3)+xn>>1,_(D[q+2*Ze-1],255&vt,vt>>16,We,De+(2*Ze-1)*T),_(D[q+2*Ze-0],255&ht,ht>>16,We,De+(2*Ze-0)*T),Q!=null&&(vt=ln+rn>>1,ht=ft+bi>>1,_(Q[J+2*Ze-1],255&vt,vt>>16,He,Ye+(2*Ze-1)*T),_(Q[J+2*Ze+0],255&ht,ht>>16,He,Ye+(2*Ze+0)*T)),ht=xn,rn=bi}1&nt||(vt=3*ht+rn+131074>>2,_(D[q+nt-1],255&vt,vt>>16,We,De+(nt-1)*T),Q!=null&&(vt=3*rn+ht+131074>>2,_(Q[J+nt-1],255&vt,vt>>16,He,Ye+(nt-1)*T)))}}function tn(){Mr[Vh]=Wl,Mr[Jr]=Bc,Mr[Bh]=xd,Mr[ca]=Hh,Mr[Yu]=cl,Mr[Mc]=so,Mr[al]=ul,Mr[Xu]=Bc,Mr[Fh]=Hh,Mr[Oc]=cl,Mr[Uh]=so}function ui(m){return m&-16384?0>m?0:255:m>>Gh}function vn(m,_){return ui((19077*m>>8)+(26149*_>>8)-14234)}function Wn(m,_,T){return ui((19077*m>>8)-(6419*_>>8)-(13320*T>>8)+8708)}function vr(m,_){return ui((19077*m>>8)+(33050*_>>8)-17685)}function Lr(m,_,T,D,q){D[q+0]=vn(m,T),D[q+1]=Wn(m,_,T),D[q+2]=vr(m,_)}function ni(m,_,T,D,q){D[q+0]=vr(m,_),D[q+1]=Wn(m,_,T),D[q+2]=vn(m,T)}function Dr(m,_,T,D,q){var Q=Wn(m,_,T);_=Q<<3&224|vr(m,_)>>3,D[q+0]=248&vn(m,T)|Q>>5,D[q+1]=_}function $s(m,_,T,D,q){var Q=240&vr(m,_)|15;D[q+0]=240&vn(m,T)|Wn(m,_,T)>>4,D[q+1]=Q}function Qa(m,_,T,D,q){D[q+0]=255,Lr(m,_,T,D,q+1)}function Ja(m,_,T,D,q){ni(m,_,T,D,q),D[q+3]=255}function ps(m,_,T,D,q){Lr(m,_,T,D,q),D[q+3]=255}function Ao(m,_,T){k[m]=function(D,q,Q,J,te,ie,fe,we,ke){for(var le=we+(-2&ke)*T;we!=le;)_(D[q+0],Q[J+0],te[ie+0],fe,we),_(D[q+1],Q[J+0],te[ie+0],fe,we+T),q+=2,++J,++ie,we+=2*T;1&ke&&_(D[q+0],Q[J+0],te[ie+0],fe,we)}}function Lc(m,_,T){return T==0?m==0?_==0?6:5:_==0?4:0:T}function zu(m,_,T,D,q){switch(m>>>30){case 3:Io(_,T,D,q,0);break;case 2:Xr(_,T,D,q);break;case 1:Un(_,T,D,q)}}function Ks(m,_){var T,D,q=_.M,Q=_.Nb,J=m.oc,te=m.pc+40,ie=m.oc,fe=m.pc+584,we=m.oc,ke=m.pc+600;for(T=0;16>T;++T)J[te+32*T-1]=129;for(T=0;8>T;++T)ie[fe+32*T-1]=129,we[ke+32*T-1]=129;for(0<q?J[te-1-32]=ie[fe-1-32]=we[ke-1-32]=129:(r(J,te-32-1,127,21),r(ie,fe-32-1,127,9),r(we,ke-32-1,127,9)),D=0;D<m.za;++D){var le=_.ya[_.aa+D];if(0<D){for(T=-1;16>T;++T)i(J,te+32*T-4,J,te+32*T+12,4);for(T=-1;8>T;++T)i(ie,fe+32*T-4,ie,fe+32*T+4,4),i(we,ke+32*T-4,we,ke+32*T+4,4)}var Se=m.Gd,Le=m.Hd+D,We=le.ad,De=le.Hc;if(0<q&&(i(J,te-32,Se[Le].y,0,16),i(ie,fe-32,Se[Le].f,0,8),i(we,ke-32,Se[Le].ea,0,8)),le.Za){var He=J,Ye=te-32+16;for(0<q&&(D>=m.za-1?r(He,Ye,Se[Le].y[15],4):i(He,Ye,Se[Le+1].y,0,4)),T=0;4>T;T++)He[Ye+128+T]=He[Ye+256+T]=He[Ye+384+T]=He[Ye+0+T];for(T=0;16>T;++T,De<<=2)He=J,Ye=te+zi[T],ji[le.Ob[T]](He,Ye),zu(De,We,16*+T,He,Ye)}else if(He=Lc(D,q,le.Ob[0]),gs[He](J,te),De!=0)for(T=0;16>T;++T,De<<=2)zu(De,We,16*+T,J,te+zi[T]);for(T=le.Gc,He=Lc(D,q,le.Dd),ka[He](ie,fe),ka[He](we,ke),De=We,He=ie,Ye=fe,255&(le=0|T)&&(170&le?oa(De,256,He,Ye):jn(De,256,He,Ye)),le=we,De=ke,255&(T>>=8)&&(170&T?oa(We,320,le,De):jn(We,320,le,De)),q<m.Ub-1&&(i(Se[Le].y,0,J,te+480,16),i(Se[Le].f,0,ie,fe+224,8),i(Se[Le].ea,0,we,ke+224,8)),T=8*Q*m.B,Se=m.sa,Le=m.ta+16*D+16*Q*m.R,We=m.qa,le=m.ra+8*D+T,De=m.Ha,He=m.Ia+8*D+T,T=0;16>T;++T)i(Se,Le+T*m.R,J,te+32*T,16);for(T=0;8>T;++T)i(We,le+T*m.B,ie,fe+32*T,8),i(De,He+T*m.B,we,ke+32*T,8)}}function Da(m,_,T,D,q,Q,J,te,ie){var fe=[0],we=[0],ke=0,le=ie!=null?ie.kd:0,Se=ie??new et;if(m==null||12>T)return 7;Se.data=m,Se.w=_,Se.ha=T,_=[_],T=[T],Se.gb=[Se.gb];e:{var Le=_,We=T,De=Se.gb;if(e(m!=null),e(We!=null),e(De!=null),De[0]=0,12<=We[0]&&!t(m,Le[0],"RIFF")){if(t(m,Le[0]+8,"WEBP")){De=3;break e}var He=Pe(m,Le[0]+4);if(12>He||4294967286<He){De=3;break e}if(le&&He>We[0]-8){De=7;break e}De[0]=He,Le[0]+=12,We[0]-=12}De=0}if(De!=0)return De;for(He=0<Se.gb[0],T=T[0];;){e:{var Ye=m;We=_,De=T;var nt=fe,Ze=we,_t=Le=[0];if((vt=ke=[ke])[0]=0,8>De[0])De=7;else{if(!t(Ye,We[0],"VP8X")){if(Pe(Ye,We[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var ht=Pe(Ye,We[0]+8),rn=1+je(Ye,We[0]+12);if(2147483648<=rn*(Ye=1+je(Ye,We[0]+15))){De=3;break e}_t!=null&&(_t[0]=ht),nt!=null&&(nt[0]=rn),Ze!=null&&(Ze[0]=Ye),We[0]+=18,De[0]-=18,vt[0]=1}De=0}}if(ke=ke[0],Le=Le[0],De!=0)return De;if(We=!!(2&Le),!He&&ke)return 3;if(Q!=null&&(Q[0]=!!(16&Le)),J!=null&&(J[0]=We),te!=null&&(te[0]=0),J=fe[0],Le=we[0],ke&&We&&ie==null){De=0;break}if(4>T){De=7;break}if(He&&ke||!He&&!ke&&!t(m,_[0],"ALPH")){T=[T],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{ht=m,De=_,He=T;var vt=Se.gb;nt=Se.na,Ze=Se.P,_t=Se.Sa,rn=22,e(ht!=null),e(He!=null),Ye=De[0];var xn=He[0];for(e(nt!=null),e(_t!=null),nt[0]=null,Ze[0]=null,_t[0]=0;;){if(De[0]=Ye,He[0]=xn,8>xn){De=7;break e}var bi=Pe(ht,Ye+4);if(4294967286<bi){De=3;break e}var ln=8+bi+1&-2;if(rn+=ln,0<vt&&rn>vt){De=3;break e}if(!t(ht,Ye,"VP8 ")||!t(ht,Ye,"VP8L")){De=0;break e}if(xn[0]<ln){De=7;break e}t(ht,Ye,"ALPH")||(nt[0]=ht,Ze[0]=Ye+8,_t[0]=bi),Ye+=ln,xn-=ln}}if(T=T[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],De!=0)break}T=[T],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(vt=m,De=_,He=T,nt=Se.gb[0],Ze=Se.Ja,_t=Se.xa,ht=De[0],Ye=!t(vt,ht,"VP8 "),rn=!t(vt,ht,"VP8L"),e(vt!=null),e(He!=null),e(Ze!=null),e(_t!=null),8>He[0])De=7;else{if(Ye||rn){if(vt=Pe(vt,ht+4),12<=nt&&vt>nt-12){De=3;break e}if(le&&vt>He[0]-8){De=7;break e}Ze[0]=vt,De[0]+=8,He[0]-=8,_t[0]=rn}else _t[0]=5<=He[0]&&vt[ht+0]==47&&!(vt[ht+4]>>5),Ze[0]=He[0];De=0}if(T=T[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],_=_[0],De!=0)break;if(4294967286<Se.Ja)return 3;if(te==null||We||(te[0]=Se.xa?2:1),J=[J],Le=[Le],Se.xa){if(5>T){De=7;break}te=J,le=Le,We=Q,m==null||5>T?m=0:5<=T&&m[_+0]==47&&!(m[_+4]>>5)?(He=[0],vt=[0],nt=[0],Ne(Ze=new G,m,_,T),as(Ze,He,vt,nt)?(te!=null&&(te[0]=He[0]),le!=null&&(le[0]=vt[0]),We!=null&&(We[0]=nt[0]),m=1):m=0):m=0}else{if(10>T){De=7;break}te=Le,m==null||10>T||!Na(m,_+3,T-3)?m=0:(le=m[_+0]|m[_+1]<<8|m[_+2]<<16,We=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=Se.Ja||!We||!m?m=0:(J&&(J[0]=We),te&&(te[0]=m),m=1))}if(!m||(J=J[0],Le=Le[0],ke&&(fe[0]!=J||we[0]!=Le)))return 3;ie!=null&&(ie[0]=Se,ie.offset=_-ie.w,e(4294967286>_-ie.w),e(ie.offset==ie.ha-T));break}return De==0||De==7&&ke&&ie==null?(Q!=null&&(Q[0]|=Se.na!=null&&0<Se.na.length),D!=null&&(D[0]=J),q!=null&&(q[0]=Le),0):De}function To(m,_,T){var D=_.width,q=_.height,Q=0,J=0,te=D,ie=q;if(_.Da=m!=null&&0<m.Da,_.Da&&(te=m.cd,ie=m.bd,Q=m.v,J=m.j,11>T||(Q&=-2,J&=-2),0>Q||0>J||0>=te||0>=ie||Q+te>D||J+ie>q))return 0;if(_.v=Q,_.j=J,_.va=Q+te,_.o=J+ie,_.U=te,_.T=ie,_.da=m!=null&&0<m.da,_.da){if(!lt(te,ie,T=[m.ib],Q=[m.hb]))return 0;_.ib=T[0],_.hb=Q[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*q/4,_.Kb=0),1}function qu(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function ja(m,_,T,D){if(D==null||0>=m||0>=_)return 2;if(T!=null){if(T.Da){var q=T.cd,Q=T.bd,J=-2&T.v,te=-2&T.j;if(0>J||0>te||0>=q||0>=Q||J+q>m||te+Q>_)return 2;m=q,_=Q}if(T.da){if(!lt(m,_,q=[T.ib],Q=[T.hb]))return 2;m=q[0],_=Q[0]}}D.width=m,D.height=_;e:{var ie=D.width,fe=D.height;if(m=D.S,0>=ie||0>=fe||!(m>=Vh&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){J=Q=q=_=0;var we=(te=ie*$h[m])*fe;if(11>m||(Q=(fe+1)/2*(_=(ie+1)/2),m==12&&(J=(q=ie)*fe)),(fe=a(we+2*Q+J))==null){m=1;break e}D.sd=fe,11>m?((ie=D.f.RGBA).eb=fe,ie.fb=0,ie.A=te,ie.size=we):((ie=D.f.kb).y=fe,ie.O=0,ie.fa=te,ie.Fd=we,ie.f=fe,ie.N=0+we,ie.Ab=_,ie.Cd=Q,ie.ea=fe,ie.W=0+we+Q,ie.Db=_,ie.Ed=Q,m==12&&(ie.F=fe,ie.J=0+we+2*Q),ie.Tc=J,ie.lb=q)}if(_=1,q=D.S,Q=D.width,J=D.height,q>=Vh&&13>q)if(11>q)m=D.f.RGBA,_&=(te=Math.abs(m.A))*(J-1)+Q<=m.size,_&=te>=Q*$h[q],_&=m.eb!=null;else{m=D.f.kb,te=(Q+1)/2,we=(J+1)/2,ie=Math.abs(m.fa),fe=Math.abs(m.Ab);var ke=Math.abs(m.Db),le=Math.abs(m.lb),Se=le*(J-1)+Q;_&=ie*(J-1)+Q<=m.Fd,_&=fe*(we-1)+te<=m.Cd,_=(_&=ke*(we-1)+te<=m.Ed)&ie>=Q&fe>=te&ke>=te,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,q==12&&(_&=le>=Q,_&=Se<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||T!=null&&T.fd&&(m=qu(D)),m}var sl=64,Rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ms=24,Za=32,eo=8,Eo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(m){return m},k.Predictor2=function(m,_,T){return _[T+0]},k.Predictor3=function(m,_,T){return _[T+1]},k.Predictor4=function(m,_,T){return _[T-1]},k.Predictor5=function(m,_,T){return St(St(m,_[T+1]),_[T+0])},k.Predictor6=function(m,_,T){return St(m,_[T-1])},k.Predictor7=function(m,_,T){return St(m,_[T+0])},k.Predictor8=function(m,_,T){return St(_[T-1],_[T+0])},k.Predictor9=function(m,_,T){return St(_[T+0],_[T+1])},k.Predictor10=function(m,_,T){return St(St(m,_[T-1]),St(_[T+0],_[T+1]))},k.Predictor11=function(m,_,T){var D=_[T+0];return 0>=st(D>>24&255,m>>24&255,(_=_[T-1])>>24&255)+st(D>>16&255,m>>16&255,_>>16&255)+st(D>>8&255,m>>8&255,_>>8&255)+st(255&D,255&m,255&_)?D:m},k.Predictor12=function(m,_,T){var D=_[T+0];return(Ht((m>>24&255)+(D>>24&255)-((_=_[T-1])>>24&255))<<24|Ht((m>>16&255)+(D>>16&255)-(_>>16&255))<<16|Ht((m>>8&255)+(D>>8&255)-(_>>8&255))<<8|Ht((255&m)+(255&D)-(255&_)))>>>0},k.Predictor13=function(m,_,T){var D=_[T-1];return(en((m=St(m,_[T+0]))>>24&255,D>>24&255)<<24|en(m>>16&255,D>>16&255)<<16|en(m>>8&255,D>>8&255)<<8|en(255&m,255&D))>>>0};var Dc=k.PredictorAdd0;k.PredictorAdd1=Yt,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var jc=k.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Fi,kh=k.ColorIndexInverseTransform,to=k.MapARGB,no=k.VP8LColorIndexInverseTransformAlpha,jr=k.MapAlpha,No=k.VP8LPredictorsAdd=[];No.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Pc,kc,Co,Ro,io,Ul,Ys,Io,Xr,oa,Un,jn,hi,Ui,ro,Pa,zl,Hu,yd,bm,wm,_m,vd,bd,ql,la,Gu,Xs,Hl=a(511),Mh=a(2041),Wu=a(225),$u=a(767),Oh=0,Lo=Mh,Ku=Wu,Qr=$u,Pr=Hl,Vh=0,Jr=1,Bh=2,ca=3,Yu=4,Mc=5,al=6,Xu=7,Fh=8,Oc=9,Uh=10,ua=[2,3,7],Vc=[3,3,11],Gl=[280,256,256,256,40],zh=[0,1,1,1,0],Qu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ha=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ol=8,da=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qs=null,xm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gs=[],ji=[],ka=[],ll=1,_d=2,Do=[],Mr=[];it("UpsampleRgbLinePair",Lr,3),it("UpsampleBgrLinePair",ni,3),it("UpsampleRgbaLinePair",ps,4),it("UpsampleBgraLinePair",Ja,4),it("UpsampleArgbLinePair",Qa,4),it("UpsampleRgba4444LinePair",$s,2),it("UpsampleRgb565LinePair",Dr,2);var Wl=k.UpsampleRgbLinePair,xd=k.UpsampleBgrLinePair,Bc=k.UpsampleRgbaLinePair,Hh=k.UpsampleBgraLinePair,cl=k.UpsampleArgbLinePair,so=k.UpsampleRgba4444LinePair,ul=k.UpsampleRgb565LinePair,ma=16,Fc=1<<ma-1,$l=-227,hl=482,Gh=6,fl=0,Or=a(256),Wh=a(256),Am=a(256),C0=a(256),R0=a(hl-$l),I0=a(hl-$l);Ao("YuvToRgbRow",Lr,3),Ao("YuvToBgrRow",ni,3),Ao("YuvToRgbaRow",ps,4),Ao("YuvToBgraRow",Ja,4),Ao("YuvToArgbRow",Qa,4),Ao("YuvToRgba4444Row",$s,2),Ao("YuvToRgb565Row",Dr,2);var zi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Uc=[0,2,8],Ju=[8,7,6,4,4,2,2,2,1,1,1,1],Zu=1;this.WebPDecodeRGBA=function(m,_,T,D,q){var Q=Jr,J=new $e,te=new Ct;J.ba=te,te.S=Q,te.width=[te.width],te.height=[te.height];var ie=te.width,fe=te.height,we=new Tt;if(we==null||m==null)var ke=2;else e(we!=null),ke=Da(m,_,T,we.width,we.height,we.Pd,we.Qd,we.format,null);if(ke!=0?ie=0:(ie!=null&&(ie[0]=we.width[0]),fe!=null&&(fe[0]=we.height[0]),ie=1),ie){te.width=te.width[0],te.height=te.height[0],D!=null&&(D[0]=te.width),q!=null&&(q[0]=te.height);e:{if(D=new gr,(q=new et).data=m,q.w=_,q.ha=T,q.kd=1,_=[0],e(q!=null),((m=Da(q.data,q.w,q.ha,null,null,null,_,null,q))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(J!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=It,D.ac=rr,D.bc=Ta,D.ma=J,q.xa){if((m=Ga())==null){J=1;break e}if((function(le,Se){var Le=[0],We=[0],De=[0];t:for(;;){if(le==null)return 0;if(Se==null)return le.a=2,0;if(le.l=Se,le.a=0,Ne(le.m,Se.data,Se.w,Se.ha),!as(le.m,Le,We,De)){le.a=3;break t}if(le.xb=_d,Se.width=Le[0],Se.height=We[0],!zs(Le[0],We[0],1,le,null))break t;return 1}return e(le.a!=0),0})(m,D)){if(D=(_=ja(D.width,D.height,J.Oa,J.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((q=T.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,e(D.ca!=null),!To(q.Oa,T,ca)){D.a=2;break n}if(!Wr(D,T.width)||T.da)break n;if((T.da||Ut(D.ca.S))&&Be(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Be()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!H(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Gr(D,D.V,D.Ba,D.c,D.i,T.o,mr))break n;q.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=m.a)}else _=m.a}else{if((m=new Li)==null){J=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,Ns(m,D)){if((_=ja(D.width,D.height,J.Oa,J.ba))==0){if(m.Aa=0,T=J.Oa,e((q=m)!=null),T!=null){if(0<(ie=0>(ie=T.Md)?0:100<ie?255:255*ie/100)){for(fe=we=0;4>fe;++fe)12>(ke=q.pb[fe]).lc&&(ke.ia=ie*Ju[0>ke.lc?0:ke.lc]>>3),we|=ke.ia;we&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=T.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(le,Se){if(le==null)return 0;if(Se==null)return wn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!Ns(le,Se))return 0;if(e(le.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(le.L=0);var Le=Uc[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=Se.v-Le>>4,le.zb=Se.j-Le>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=Se.o+15+Le>>4,le.Hb=Se.va+15+Le>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var We=le.ed;for(Le=0;4>Le;++Le){var De;if(le.Qa.Cb){var He=le.Qa.Lb[Le];le.Qa.Fb||(He+=We.Tb)}else He=We.Tb;for(De=0;1>=De;++De){var Ye=le.gd[Le][De],nt=He;if(We.Pc&&(nt+=We.vd[0],De&&(nt+=We.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var Ze=nt;0<We.wb&&(Ze=4<We.wb?Ze>>2:Ze>>1)>9-We.wb&&(Ze=9-We.wb),1>Ze&&(Ze=1),Ye.dd=Ze,Ye.tc=2*nt+Ze,Ye.ld=40<=nt?2:15<=nt?1:0}else Ye.tc=0;Ye.La=De}}}Le=0}else wn(le,6,"Frame setup failed"),Le=le.a;if(Le=Le==0){if(Le){le.$c=0,0<le.Aa||(le.Ic=Zu);t:{Le=le.Ic,We=4*(Ze=le.za);var _t=32*Ze,ht=Ze+1,rn=0<le.L?Ze*(0<le.Aa?2:1):0,vt=(le.Aa==2?2:1)*Ze;if((Ye=We+832+(De=3*(16*Le+Uc[le.L])/2*_t)+(He=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ye)Le=0;else{if(Ye>le.Vb){if(le.Vb=0,le.Ec=a(Ye),le.Fc=0,le.Ec==null){Le=wn(le,1,"no memory during frame initialization.");break t}le.Vb=Ye}Ye=le.Ec,nt=le.Fc,le.Ac=Ye,le.Bc=nt,nt+=We,le.Gd=l(_t,Zo),le.Hd=0,le.rb=l(ht+1,Es),le.sb=1,le.wa=rn?l(rn,$r):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=Ze),e(!0),le.oc=Ye,le.pc=nt,nt+=832,le.ya=l(vt,vo),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=Ze),le.R=16*Ze,le.B=8*Ze,Ze=(_t=Uc[le.L])*le.R,_t=_t/2*le.B,le.sa=Ye,le.ta=nt+Ze,le.qa=le.sa,le.ra=le.ta+16*Le*le.R+_t,le.Ha=le.qa,le.Ia=le.ra+8*Le*le.B+_t,le.$c=0,nt+=De,le.mb=He?Ye:null,le.nb=He?nt:null,e(nt+He<=le.Fc+le.Vb),Wa(le),r(le.Ac,le.Bc,0,We),Le=1}}if(Le){if(Se.ka=0,Se.y=le.sa,Se.O=le.ta,Se.f=le.qa,Se.N=le.ra,Se.ea=le.Ha,Se.Vd=le.Ia,Se.fa=le.R,Se.Rc=le.B,Se.F=null,Se.J=0,!Oh){for(Le=-255;255>=Le;++Le)Hl[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Mh[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)Wu[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)$u[255+Le]=0>Le?0:255<Le?255:Le;Oh=1}Ys=sr,Io=kl,oa=Ir,Un=Ml,jn=Ca,Xr=Ic,hi=Fl,Ui=Ws,ro=z,Pa=he,zl=rl,Hu=A,yd=ve,bm=Ee,wm=sa,_m=Cs,vd=So,bd=il,ji[0]=Ya,ji[1]=Ol,ji[2]=wo,ji[3]=nl,ji[4]=ar,ji[5]=_o,ji[6]=Yi,ji[7]=Gn,ji[8]=xo,ji[9]=us,gs[0]=Hs,gs[1]=el,gs[2]=tl,gs[3]=Ra,gs[4]=Ia,gs[5]=Yr,gs[6]=Ka,ka[0]=La,ka[1]=Vl,ka[2]=Gs,ka[3]=Bl,ka[4]=Bi,ka[5]=fs,ka[6]=na,Le=1}else Le=0}Le&&(Le=(function(xn,bi){for(xn.M=0;xn.M<xn.Va;++xn.M){var ln,ft=xn.Jc[xn.M&xn.Xb],at=xn.m,Ti=xn;for(ln=0;ln<Ti.za;++ln){var Wt=at,fn=Ti,Yn=fn.Ac,or=fn.Bc+4*ln,Vr=fn.zc,fi=fn.ya[fn.aa+ln];if(fn.Qa.Bb?fi.$b=Ve(Wt,fn.Pa.jb[0])?2+Ve(Wt,fn.Pa.jb[2]):Ve(Wt,fn.Pa.jb[1]):fi.$b=0,fn.kc&&(fi.Ad=Ve(Wt,fn.Bd)),fi.Za=!Ve(Wt,145)+0,fi.Za){var Xi=fi.Ob,Zr=0;for(fn=0;4>fn;++fn){var Qi,bn=Vr[0+fn];for(Qi=0;4>Qi;++Qi){bn=kr[Yn[or+Qi]][bn];for(var Mn=qh[Ve(Wt,bn[0])];0<Mn;)Mn=qh[2*Mn+Ve(Wt,bn[Mn])];bn=-Mn,Yn[or+Qi]=bn}i(Xi,Zr,Yn,or,4),Zr+=4,Vr[0+fn]=bn}}else bn=Ve(Wt,156)?Ve(Wt,128)?1:3:Ve(Wt,163)?2:0,fi.Ob[0]=bn,r(Yn,or,bn,4),r(Vr,0,bn,4);fi.Dd=Ve(Wt,142)?Ve(Wt,114)?Ve(Wt,183)?1:3:2:0}if(Ti.m.Ka)return wn(xn,7,"Premature end-of-partition0 encountered.");for(;xn.ja<xn.za;++xn.ja){if(Ti=ft,Wt=(at=xn).rb[at.sb-1],Yn=at.rb[at.sb+at.ja],ln=at.ya[at.aa+at.ja],or=at.kc?ln.Ad:0)Wt.la=Yn.la=0,ln.Za||(Wt.Na=Yn.Na=0),ln.Hc=0,ln.Gc=0,ln.ia=0;else{var Ei,zn;if(Wt=Yn,Yn=Ti,or=at.Pa.Xc,Vr=at.ya[at.aa+at.ja],fi=at.pb[Vr.$b],fn=Vr.ad,Xi=0,Zr=at.rb[at.sb-1],bn=Qi=0,r(fn,Xi,0,384),Vr.Za)var lr=0,Ni=or[3];else{Mn=a(16);var On=Wt.Na+Zr.Na;if(On=Qs(Yn,or[1],On,fi.Eb,0,Mn,0),Wt.Na=Zr.Na=(0<On)+0,1<On)Ys(Mn,0,fn,Xi);else{var qi=Mn[0]+3>>3;for(Mn=0;256>Mn;Mn+=16)fn[Xi+Mn]=qi}lr=1,Ni=or[0]}var Xn=15&Wt.la,Ji=15&Zr.la;for(Mn=0;4>Mn;++Mn){var Zi=1&Ji;for(qi=zn=0;4>qi;++qi)Xn=Xn>>1|(Zi=(On=Qs(Yn,Ni,On=Zi+(1&Xn),fi.Sc,lr,fn,Xi))>lr)<<7,zn=zn<<2|(3<On?3:1<On?2:fn[Xi+0]!=0),Xi+=16;Xn>>=4,Ji=Ji>>1|Zi<<7,Qi=(Qi<<8|zn)>>>0}for(Ni=Xn,lr=Ji>>4,Ei=0;4>Ei;Ei+=2){for(zn=0,Xn=Wt.la>>4+Ei,Ji=Zr.la>>4+Ei,Mn=0;2>Mn;++Mn){for(Zi=1&Ji,qi=0;2>qi;++qi)On=Zi+(1&Xn),Xn=Xn>>1|(Zi=0<(On=Qs(Yn,or[2],On,fi.Qc,0,fn,Xi)))<<3,zn=zn<<2|(3<On?3:1<On?2:fn[Xi+0]!=0),Xi+=16;Xn>>=2,Ji=Ji>>1|Zi<<5}bn|=zn<<4*Ei,Ni|=Xn<<4<<Ei,lr|=(240&Ji)<<Ei}Wt.la=Ni,Zr.la=lr,Vr.Hc=Qi,Vr.Gc=bn,Vr.ia=43690&bn?0:fi.ia,or=!(Qi|bn)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[ln.$b][ln.Za],at.wa[at.Y+at.ja].La|=!or),Ti.Ka)return wn(xn,7,"Premature end-of-file encountered.")}if(Wa(xn),at=bi,Ti=1,ln=(ft=xn).D,Wt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(ln.M=ft.M,ln.uc=Wt,Ks(ft,ln),Ti=1,ln=(zn=ft.D).Nb,Wt=(bn=Uc[ft.L])*ft.R,Yn=bn/2*ft.B,Mn=16*ln*ft.R,qi=8*ln*ft.B,or=ft.sa,Vr=ft.ta-Wt+Mn,fi=ft.qa,fn=ft.ra-Yn+qi,Xi=ft.Ha,Zr=ft.Ia-Yn+qi,Ji=(Xn=zn.M)==0,Qi=Xn>=ft.Va-1,ft.Aa==2&&Ks(ft,zn),zn.uc)for(Zi=(On=ft).D.M,e(On.D.uc),zn=On.yb;zn<On.Hb;++zn){lr=zn,Ni=Zi;var ii=(Pn=(er=On).D).Nb;Ei=er.R;var Pn=Pn.wa[Pn.Y+lr],es=er.sa,Pi=er.ta+16*ii*Ei+16*lr,kt=Pn.dd,Bt=Pn.tc;if(Bt!=0)if(e(3<=Bt),er.L==1)0<lr&&_m(es,Pi,Ei,Bt+4),Pn.La&&bd(es,Pi,Ei,Bt),0<Ni&&wm(es,Pi,Ei,Bt+4),Pn.La&&vd(es,Pi,Ei,Bt);else{var Vn=er.B,Is=er.qa,ga=er.ra+8*ii*Vn+8*lr,ys=er.Ha,er=er.Ia+8*ii*Vn+8*lr;ii=Pn.ld,0<lr&&(Ui(es,Pi,Ei,Bt+4,kt,ii),Pa(Is,ga,ys,er,Vn,Bt+4,kt,ii)),Pn.La&&(Hu(es,Pi,Ei,Bt,kt,ii),bm(Is,ga,ys,er,Vn,Bt,kt,ii)),0<Ni&&(hi(es,Pi,Ei,Bt+4,kt,ii),ro(Is,ga,ys,er,Vn,Bt+4,kt,ii)),Pn.La&&(zl(es,Pi,Ei,Bt,kt,ii),yd(Is,ga,ys,er,Vn,Bt,kt,ii))}}if(ft.ia&&alert("todo:DitherRow"),at.put!=null){if(zn=16*Xn,Xn=16*(Xn+1),Ji?(at.y=ft.sa,at.O=ft.ta+Mn,at.f=ft.qa,at.N=ft.ra+qi,at.ea=ft.Ha,at.W=ft.Ia+qi):(zn-=bn,at.y=or,at.O=Vr,at.f=fi,at.N=fn,at.ea=Xi,at.W=Zr),Qi||(Xn-=bn),Xn>at.o&&(Xn=at.o),at.F=null,at.J=null,ft.Fa!=null&&0<ft.Fa.length&&zn<Xn&&(at.J=g(ft,at,zn,Xn-zn),at.F=ft.mb,at.F==null&&at.F.length==0)){Ti=wn(ft,3,"Could not decode alpha data.");break t}zn<at.j&&(bn=at.j-zn,zn=at.j,e(!(1&bn)),at.O+=ft.R*bn,at.N+=ft.B*(bn>>1),at.W+=ft.B*(bn>>1),at.F!=null&&(at.J+=at.width*bn)),zn<Xn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=zn-at.j,at.U=at.va-at.v,at.T=Xn-zn,Ti=at.put(at))}ln+1!=ft.Ic||Qi||(i(ft.sa,ft.ta-Wt,or,Vr+16*ft.R,Wt),i(ft.qa,ft.ra-Yn,fi,fn+8*ft.B,Yn),i(ft.Ha,ft.Ia-Yn,Xi,Zr+8*ft.B,Yn))}if(!Ti)return wn(xn,6,"Output aborted.")}return 1})(le,Se)),Se.bc!=null&&Se.bc(Se),Le&=1}return Le?(le.cb=0,Le):0})(m,D)||(_=m.a)}}else _=m.a}_==0&&J.Oa!=null&&J.Oa.fd&&(_=qu(J.ba))}J=_}Q=J!=0?null:11>Q?te.f.RGBA.eb:te.f.kb.y}else Q=null;return Q};var $h=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(k,W){for(var E="",R=0;R<4;R++)E+=String.fromCharCode(k[W++]);return E}function p(k,W){return k[W+0]|k[W+1]<<8}function v(k,W){return(k[W+0]|k[W+1]<<8|k[W+2]<<16)>>>0}function x(k,W){return(k[W+0]|k[W+1]<<8|k[W+2]<<16|k[W+3]<<24)>>>0}new h;var w=[0],N=[0],L=[],I=new h,j=n,X=(function(k,W){var E={},R=0,B=!1,ce=0,Ae=0;if(E.frames=[],!(function(P,G){for(var K=0;K<4;K++)if(P[G+K]!="RIFF".charCodeAt(K))return!0;return!1})(k,W)){for(x(k,W+=4),W+=8;W<k.length;){var oe=f(k,W),me=x(k,W+=4);W+=4;var se=me+(1&me);switch(oe){case"VP8 ":case"VP8L":E.frames[R]===void 0&&(E.frames[R]={}),(V=E.frames[R]).src_off=B?Ae:W-8,V.src_size=ce+me+8,R++,B&&(B=!1,ce=0,Ae=0);break;case"VP8X":(V=E.header={}).feature_flags=k[W];var Ne=W+4;V.canvas_width=1+v(k,Ne),Ne+=3,V.canvas_height=1+v(k,Ne),Ne+=3;break;case"ALPH":B=!0,ce=se+8,Ae=W-8;break;case"ANIM":(V=E.header).bgcolor=x(k,W),Ne=W+4,V.loop_count=p(k,Ne),Ne+=2;break;case"ANMF":var ue,V;(V=E.frames[R]={}).offset_x=2*v(k,W),W+=3,V.offset_y=2*v(k,W),W+=3,V.width=1+v(k,W),W+=3,V.height=1+v(k,W),W+=3,V.duration=v(k,W),W+=3,ue=k[W++],V.dispose=1&ue,V.blend=ue>>1&1}oe!="ANMF"&&(W+=se)}return E}})(j,0);X.response=j,X.rgbaoutput=!0,X.dataurl=!1;var Y=X.header?X.header:null,Z=X.frames?X.frames:null;if(Y){Y.loop_counter=Y.loop_count,w=[Y.canvas_height],N=[Y.canvas_width];for(var ae=0;ae<Z.length&&Z[ae].blend!=0;ae++);}var ge=Z[0],U=I.WebPDecodeRGBA(j,ge.src_off,ge.src_size,N,w);ge.rgba=U,ge.imgwidth=N[0],ge.imgheight=w[0];for(var M=0;M<N[0]*w[0]*4;M++)L[M]=U[M];return this.width=N,this.height=w,this.data=L,this}(function(n){var e,t,i,r,a,l,u,h,f,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new h,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var v=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=P;Object.defineProperty(this,"pdf",{get:function(){return G}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(H){K=!!H}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(H){re=!!H}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(H){isNaN(H)||(de=H)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(H){isNaN(H)||(pe=H)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(H){var qe;typeof H=="number"?qe=[H,H,H,H]:((qe=new Array(4))[0]=H[0],qe[1]=H.length>=2?H[1]:qe[0],qe[2]=H.length>=3?H[2]:qe[0],qe[3]=H.length>=4?H[3]:qe[1]),f.margin=qe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(H){xe=H}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(H){Te=H}});var Ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ve},set:function(H){Ve=H}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(H){H instanceof p&&(f=H)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(H){f.path=H}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(H){be=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var qe;qe=x(H),this.ctx.fillStyle=qe.style,this.ctx.isFillTransparent=qe.a===0,this.ctx.fillOpacity=qe.a,this.pdf.setFillColor(qe.r,qe.g,qe.b,{a:qe.a}),this.pdf.setTextColor(qe.r,qe.g,qe.b,{a:qe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var qe=x(H);this.ctx.strokeStyle=qe.style,this.ctx.isStrokeTransparent=qe.a===0,this.ctx.strokeOpacity=qe.a,qe.a===0?this.pdf.setDrawColor(255,255,255):(qe.a,this.pdf.setDrawColor(qe.r,qe.g,qe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Ce=null,je=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(H){Ce=null,je=null,Pe=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var qe;if(this.ctx.font=H,(qe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var ot=qe[1];qe[2];var lt=qe[3],Ge=qe[4];qe[5];var rt=qe[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(ct==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Nt=(function(yt){var oi,nn,jt=[],Gt=yt.trim();if(Gt==="")return Wy;if(Gt in H6)return[H6[Gt]];for(;Gt!=="";){switch(nn=null,oi=(Gt=W6(Gt)).charAt(0)){case'"':case"'":nn=CW(Gt.substring(1),oi);break;default:nn=RW(Gt)}if(nn===null||(jt.push(nn[0]),(Gt=W6(nn[1]))!==""&&Gt.charAt(0)!==","))return Wy;Gt=Gt.replace(/^,/,"")}return jt})(rt);if(this.fontFaces){var St=(function(yt,oi){var nn=yt.getFontList(),jt=JSON.stringify(nn);if(Ce===null||je!==jt){var Gt=(function(an){var Rt=[];return Object.keys(an).forEach(function(Fn){an[Fn].forEach(function(Ut){var zt=null;switch(Ut){case"bold":zt={family:Fn,weight:"bold"};break;case"italic":zt={family:Fn,style:"italic"};break;case"bolditalic":zt={family:Fn,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:Fn}}zt!==null&&(zt.ref={name:Fn,style:Ut},Rt.push(zt))})}),Rt})(nn);Ce=(function(an){for(var Rt={},Fn=0;Fn<an.length;++Fn){var Ut=Gy(an[Fn]),zt=Ut.family,qn=Ut.stretch,Ct=Ut.style,Tt=Ut.weight;Rt[zt]=Rt[zt]||{},Rt[zt][qn]=Rt[zt][qn]||{},Rt[zt][qn][Ct]=Rt[zt][qn][Ct]||{},Rt[zt][qn][Ct][Tt]=Ut}return Rt})(Gt.concat(oi)),je=jt}return Ce})(this.pdf,this.fontFaces),Ht=Nt.map(function(yt){return{family:yt,stretch:"normal",weight:lt,style:ot}}),en=(function(yt,oi,nn){for(var jt=(nn=nn||{}).defaultFontFamily||"times",Gt=Object.assign({},NW,nn.genericFontFamilies||{}),an=null,Rt=null,Fn=0;Fn<oi.length;++Fn)if(Gt[(an=Gy(oi[Fn])).family]&&(an.family=Gt[an.family]),yt.hasOwnProperty(an.family)){Rt=yt[an.family];break}if(!(Rt=Rt||yt[jt]))throw new Error("Could not find a font-family for the rule '"+G6(an)+"' and default family '"+jt+"'.");if(Rt=(function(Ut,zt){if(zt[Ut])return zt[Ut];var qn=h5[Ut],Ct=qn<=h5.normal?-1:1,Tt=q6(zt,qR,qn,Ct);if(!Tt)throw new Error("Could not find a matching font-stretch value for "+Ut);return Tt})(an.stretch,Rt),Rt=(function(Ut,zt){if(zt[Ut])return zt[Ut];for(var qn=zR[Ut],Ct=0;Ct<qn.length;++Ct)if(zt[qn[Ct]])return zt[qn[Ct]];throw new Error("Could not find a matching font-style for "+Ut)})(an.style,Rt),!(Rt=(function(Ut,zt){if(zt[Ut])return zt[Ut];if(Ut===400&&zt[500])return zt[500];if(Ut===500&&zt[400])return zt[400];var qn=EW[Ut],Ct=q6(zt,HR,qn,Ut<400?-1:1);if(!Ct)throw new Error("Could not find a matching font-weight for value "+Ut);return Ct})(an.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+G6(an)+"'.");return Rt})(St,Ht);this.pdf.setFont(en.ref.name,en.ref.style)}else{var st="";(lt==="bold"||parseInt(lt,10)>=700||ot==="bold")&&(st="bold"),ot==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var Yt="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Nt.length;gt++){if(this.pdf.internal.getFont(Nt[gt],st,{noFallback:!0,disableWarning:!0})!==void 0){Yt=Nt[gt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Nt[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Yt=Nt[gt],st="bold";else if(this.pdf.internal.getFont(Nt[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Yt=Nt[gt],st="normal";break}}if(Yt===""){for(var Qt=0;Qt<Nt.length;Qt++)if(Xt[Nt[Qt]]){Yt=Xt[Nt[Qt]];break}}Yt=Yt===""?"Times":Yt,this.pdf.setFont(Yt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};v.prototype.setLineDash=function(P){this.lineDash=P},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){Z.call(this,"fill",!1)},v.prototype.stroke=function(){Z.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(P,G){if(isNaN(P)||isNaN(G))throw _i.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new l(P,G));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new l(P,G)},v.prototype.closePath=function(){var P=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&ai(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){P=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},v.prototype.lineTo=function(P,G){if(isNaN(P)||isNaN(G))throw _i.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new l(P,G));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new l(K.x,K.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},v.prototype.quadraticCurveTo=function(P,G,K,re){if(isNaN(K)||isNaN(re)||isNaN(P)||isNaN(G))throw _i.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new l(K,re)),pe=this.ctx.transform.applyToPoint(new l(P,G));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},v.prototype.bezierCurveTo=function(P,G,K,re,de,pe){if(isNaN(de)||isNaN(pe)||isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re))throw _i.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new l(de,pe)),Te=this.ctx.transform.applyToPoint(new l(P,G)),Ve=this.ctx.transform.applyToPoint(new l(K,re));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ve.x,y2:Ve.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new l(xe.x,xe.y)},v.prototype.arc=function(P,G,K,re,de,pe){if(isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re)||isNaN(de))throw _i.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new l(P,G));P=xe.x,G=xe.y;var Te=this.ctx.transform.applyToPoint(new l(0,K)),Ve=this.ctx.transform.applyToPoint(new l(0,0));K=Math.sqrt(Math.pow(Te.x-Ve.x,2)+Math.pow(Te.y-Ve.y,2))}Math.abs(de-re)>=2*Math.PI&&(re=0,de=2*Math.PI),this.path.push({type:"arc",x:P,y:G,radius:K,startAngle:re,endAngle:de,counterclockwise:pe})},v.prototype.arcTo=function(P,G,K,re,de){throw new Error("arcTo not implemented.")},v.prototype.rect=function(P,G,K,re){if(isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re))throw _i.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,G),this.lineTo(P+K,G),this.lineTo(P+K,G+re),this.lineTo(P,G+re),this.lineTo(P,G),this.lineTo(P+K,G),this.lineTo(P,G)},v.prototype.fillRect=function(P,G,K,re){if(isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re))throw _i.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,G,K,re),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},v.prototype.strokeRect=function(P,G,K,re){if(isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re))throw _i.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(P,G,K,re),this.stroke())},v.prototype.clearRect=function(P,G,K,re){if(isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re))throw _i.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,G,K,re))},v.prototype.save=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},v.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(G),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(P){var G,K,re,de;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))G=0,K=0,re=0,de=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(pe!==null)G=parseInt(pe[1]),K=parseInt(pe[2]),re=parseInt(pe[3]),de=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)G=parseInt(pe[1]),K=parseInt(pe[2]),re=parseInt(pe[3]),de=parseFloat(pe[4]);else{if(de=1,typeof P=="string"&&P.charAt(0)!=="#"){var xe=new kR(P);P=xe.ok?xe.toHex():"#000000"}P.length===4?(G=P.substring(1,2),G+=G,K=P.substring(2,3),K+=K,re=P.substring(3,4),re+=re):(G=P.substring(1,3),K=P.substring(3,5),re=P.substring(5,7)),G=parseInt(G,16),K=parseInt(K,16),re=parseInt(re,16)}}return{r:G,g:K,b:re,a:de,style:P}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(P,G,K,re){if(isNaN(G)||isNaN(K)||typeof P!="string")throw _i.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!w.call(this)){var de=se(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;R.call(this,{text:P,x:G,y:K,scale:pe,angle:de,align:this.textAlign,maxWidth:re})}},v.prototype.strokeText=function(P,G,K,re){if(isNaN(G)||isNaN(K)||typeof P!="string")throw _i.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){re=isNaN(re)?void 0:re;var de=se(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;R.call(this,{text:P,x:G,y:K,scale:pe,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:re})}},v.prototype.measureText=function(P){if(typeof P!="string")throw _i.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,K=this.pdf.internal.scaleFactor,re=G.internal.getFontSize(),de=G.getStringUnitWidth(P)*re/G.internal.scaleFactor;return new function(pe){var xe=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:de*=Math.round(96*K/72*1e4)/1e4})},v.prototype.scale=function(P,G){if(isNaN(P)||isNaN(G))throw _i.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new h(P,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.rotate=function(P){if(isNaN(P))throw _i.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},v.prototype.translate=function(P,G){if(isNaN(P)||isNaN(G))throw _i.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new h(1,0,0,1,P,G);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.transform=function(P,G,K,re,de,pe){if(isNaN(P)||isNaN(G)||isNaN(K)||isNaN(re)||isNaN(de)||isNaN(pe))throw _i.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new h(P,G,K,re,de,pe);this.ctx.transform=this.ctx.transform.multiply(xe)},v.prototype.setTransform=function(P,G,K,re,de,pe){P=isNaN(P)?1:P,G=isNaN(G)?0:G,K=isNaN(K)?0:K,re=isNaN(re)?1:re,de=isNaN(de)?0:de,pe=isNaN(pe)?0:pe,this.ctx.transform=new h(P,G,K,re,de,pe)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(P,G,K,re,de,pe,xe,Te,Ve){var be=this.pdf.getImageProperties(P),Ce=1,je=1,Pe=1,H=1;re!==void 0&&Te!==void 0&&(Pe=Te/re,H=Ve/de,Ce=be.width/re*Te/re,je=be.height/de*Ve/de),pe===void 0&&(pe=G,xe=K,G=0,K=0),re!==void 0&&Te===void 0&&(Te=re,Ve=de),re===void 0&&Te===void 0&&(Te=be.width,Ve=be.height);var qe=this.ctx.transform.decompose(),ot=se(qe.rotate.shx),lt=new h,Ge=(lt=(lt=(lt=lt.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new u(pe-G*Pe,xe-K*H,re*Ce,de*je));if(this.autoPaging){for(var rt,ct=I.call(this,Ge),Nt=[],St=0;St<ct.length;St+=1)Nt.indexOf(ct[St])===-1&&Nt.push(ct[St]);Y(Nt);for(var Ht=Nt[0],en=Nt[Nt.length-1],st=Ht;st<en+1;st++){this.pdf.setPage(st);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=st===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=st===1?0:gt+(st-2)*Qt;if(this.ctx.clip_path.length!==0){var oi=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(rt,this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=oi}var nn=JSON.parse(JSON.stringify(Ge));nn=X([nn],this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset)[0];var jt=(st>Ht||st<en)&&L.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Qt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,ot),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,ot)};var I=function(P,G,K){var re=[];G=G||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":re.push(Math.floor((P.y+de)/K)+1);break;case"arc":re.push(Math.floor((P.y+de-P.radius)/K)+1),re.push(Math.floor((P.y+de+P.radius)/K)+1);break;case"qct":var pe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);re.push(Math.floor((pe.y+de)/K)+1),re.push(Math.floor((pe.y+pe.h+de)/K)+1);break;case"bct":var xe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);re.push(Math.floor((xe.y+de)/K)+1),re.push(Math.floor((xe.y+xe.h+de)/K)+1);break;case"rect":re.push(Math.floor((P.y+de)/K)+1),re.push(Math.floor((P.y+P.h+de)/K)+1)}for(var Te=0;Te<re.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<re[Te];)j.call(this);return re},j=function(){var P=this.fillStyle,G=this.strokeStyle,K=this.font,re=this.lineCap,de=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=G,this.font=K,this.lineCap=re,this.lineWidth=de,this.lineJoin=pe},X=function(P,G,K){for(var re=0;re<P.length;re++)switch(P[re].type){case"bct":P[re].x2+=G,P[re].y2+=K;case"qct":P[re].x1+=G,P[re].y1+=K;default:P[re].x+=G,P[re].y+=K}return P},Y=function(P){return P.sort(function(G,K){return G-K})},Z=function(P,G){var K=this.fillStyle,re=this.strokeStyle,de=this.lineCap,pe=this.lineWidth,xe=Math.abs(pe*this.ctx.transform.scaleX),Te=this.lineJoin;if(this.autoPaging){for(var Ve,be,Ce=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Pe=[],H=0;H<je.length;H++)if(je[H].x!==void 0)for(var qe=I.call(this,je[H]),ot=0;ot<qe.length;ot+=1)Pe.indexOf(qe[ot])===-1&&Pe.push(qe[ot]);for(var lt=0;lt<Pe.length;lt++)for(;this.pdf.internal.getNumberOfPages()<Pe[lt];)j.call(this);Y(Pe);for(var Ge=Pe[0],rt=Pe[Pe.length-1],ct=Ge;ct<rt+1;ct++){this.pdf.setPage(ct),this.fillStyle=K,this.strokeStyle=re,this.lineCap=de,this.lineWidth=xe,this.lineJoin=Te;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=ct===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=ct===1?0:Ht+(ct-2)*en;if(this.ctx.clip_path.length!==0){var Yt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(Ve,this.posX+this.margin[3],-st+St+this.ctx.prevPageLastElemOffset),ae.call(this,P,!0),this.path=Yt}if(be=JSON.parse(JSON.stringify(Ce)),this.path=X(be,this.posX+this.margin[3],-st+St+this.ctx.prevPageLastElemOffset),G===!1||ct===0){var Xt=(ct>Ge||ct<rt)&&L.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,en,null).clip().discardPath()),ae.call(this,P,G),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Ce}else this.lineWidth=xe,ae.call(this,P,G),this.lineWidth=pe},ae=function(P,G){if((P!=="stroke"||G||!N.call(this))&&(P==="stroke"||G||!w.call(this))){for(var K,re,de=[],pe=this.path,xe=0;xe<pe.length;xe++){var Te=pe[xe];switch(Te.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ve=de.length;if(pe[xe-1]&&!isNaN(pe[xe-1].x)&&(K=[Te.x-pe[xe-1].x,Te.y-pe[xe-1].y],Ve>0)){for(;Ve>=0;Ve--)if(de[Ve-1].close!==!0&&de[Ve-1].begin!==!0){de[Ve-1].deltas.push(K),de[Ve-1].abs.push(Te);break}}break;case"bct":K=[Te.x1-pe[xe-1].x,Te.y1-pe[xe-1].y,Te.x2-pe[xe-1].x,Te.y2-pe[xe-1].y,Te.x-pe[xe-1].x,Te.y-pe[xe-1].y],de[de.length-1].deltas.push(K);break;case"qct":var be=pe[xe-1].x+2/3*(Te.x1-pe[xe-1].x),Ce=pe[xe-1].y+2/3*(Te.y1-pe[xe-1].y),je=Te.x+2/3*(Te.x1-Te.x),Pe=Te.y+2/3*(Te.y1-Te.y),H=Te.x,qe=Te.y;K=[be-pe[xe-1].x,Ce-pe[xe-1].y,je-pe[xe-1].x,Pe-pe[xe-1].y,H-pe[xe-1].x,qe-pe[xe-1].y],de[de.length-1].deltas.push(K);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Te)}}re=G?null:P==="stroke"?"stroke":"fill";for(var ot=!1,lt=0;lt<de.length;lt++)if(de[lt].arc)for(var Ge=de[lt].abs,rt=0;rt<Ge.length;rt++){var ct=Ge[rt];ct.type==="arc"?M.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,G,!ot):B.call(this,ct.x,ct.y),ot=!0}else if(de[lt].close===!0)this.pdf.internal.out("h"),ot=!1;else if(de[lt].begin!==!0){var Nt=de[lt].start.x,St=de[lt].start.y;ce.call(this,de[lt].deltas,Nt,St),ot=!0}re&&k.call(this,re),G&&W.call(this)}},ge=function(P){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-K;case"top":return P+G-K;case"hanging":return P+G-2*K;case"middle":return P+G/2-K;default:return P}},U=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(G,K){this.colorStops.push([G,K])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(P,G,K,re,de,pe,xe,Te,Ve){for(var be=oe.call(this,K,re,de,pe),Ce=0;Ce<be.length;Ce++){var je=be[Ce];Ce===0&&(Ve?E.call(this,je.x1+P,je.y1+G):B.call(this,je.x1+P,je.y1+G)),Ae.call(this,P,G,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}Te?W.call(this):k.call(this,xe)},k=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,G){this.pdf.internal.out(t(P)+" "+i(G)+" m")},R=function(P){var G;switch(P.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var K,re,de,pe=this.pdf.getTextDimensions(P.text),xe=ge.call(this,P.y),Te=U.call(this,xe)-pe.h,Ve=this.ctx.transform.applyToPoint(new l(P.x,xe));if(this.autoPaging){var be=this.ctx.transform.decompose(),Ce=new h;Ce=(Ce=(Ce=Ce.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var je=this.ctx.transform.applyToRectangle(new u(P.x,xe,pe.w,pe.h)),Pe=Ce.applyToRectangle(new u(P.x,Te,pe.w,pe.h)),H=I.call(this,Pe),qe=[],ot=0;ot<H.length;ot+=1)qe.indexOf(H[ot])===-1&&qe.push(H[ot]);Y(qe);for(var lt=qe[0],Ge=qe[qe.length-1],rt=lt;rt<Ge+1;rt++){this.pdf.setPage(rt);var ct=rt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],Ht=St-this.margin[0],en=this.pdf.internal.pageSize.width-this.margin[1],st=en-this.margin[3],Yt=rt===1?0:Nt+(rt-2)*Ht;if(this.ctx.clip_path.length!==0){var Xt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(K,this.posX+this.margin[3],-1*Yt+ct),ae.call(this,"fill",!0),this.path=Xt}var gt=X([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Yt+ct+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale);var Qt=this.autoPaging!=="text";if(Qt||gt.y+gt.h<=St){if(Qt||gt.y>=ct&&gt.x<=en){var yt=Qt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||en-gt.x)[0],oi=X([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Yt+ct+this.ctx.prevPageLastElemOffset)[0],nn=Qt&&(rt>lt||rt<Ge)&&L.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ht,null).clip().discardPath()),this.pdf.text(yt,oi.x,oi.y,{angle:P.angle,align:G,renderingMode:P.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else gt.y<St&&(this.ctx.prevPageLastElemOffset+=St-gt.y);P.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=de)}}else P.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*P.scale),de=this.lineWidth,this.lineWidth=de*P.scale),this.pdf.text(P.text,Ve.x+this.posX,Ve.y+this.posY,{angle:P.angle,align:G,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=de)},B=function(P,G,K,re){K=K||0,re=re||0,this.pdf.internal.out(t(P+K)+" "+i(G+re)+" l")},ce=function(P,G,K){return this.pdf.lines(P,G,K,null,null)},Ae=function(P,G,K,re,de,pe,xe,Te){this.pdf.internal.out([e(r(K+P)),e(a(re+G)),e(r(de+P)),e(a(pe+G)),e(r(xe+P)),e(a(Te+G)),"c"].join(" "))},oe=function(P,G,K,re){for(var de=2*Math.PI,pe=Math.PI/2;G>K;)G-=de;var xe=Math.abs(K-G);xe<de&&re&&(xe=de-xe);for(var Te=[],Ve=re?-1:1,be=G;xe>1e-5;){var Ce=be+Ve*Math.min(xe,pe);Te.push(me.call(this,P,be,Ce)),xe-=Math.abs(Ce-be),be=Ce}return Te},me=function(P,G,K){var re=(K-G)/2,de=P*Math.cos(re),pe=P*Math.sin(re),xe=de,Te=-pe,Ve=xe*xe+Te*Te,be=Ve+xe*de+Te*pe,Ce=4/3*(Math.sqrt(2*Ve*be)-be)/(xe*pe-Te*de),je=xe-Ce*Te,Pe=Te+Ce*xe,H=je,qe=-Pe,ot=re+G,lt=Math.cos(ot),Ge=Math.sin(ot);return{x1:P*Math.cos(G),y1:P*Math.sin(G),x2:je*lt-Pe*Ge,y2:je*Ge+Pe*lt,x3:H*lt-qe*Ge,y3:H*Ge+qe*lt,x4:P*Math.cos(K),y4:P*Math.sin(K)}},se=function(P){return 180*P/Math.PI},Ne=function(P,G,K,re,de,pe){var xe=P+.5*(K-P),Te=G+.5*(re-G),Ve=de+.5*(K-de),be=pe+.5*(re-pe),Ce=Math.min(P,de,xe,Ve),je=Math.max(P,de,xe,Ve),Pe=Math.min(G,pe,Te,be),H=Math.max(G,pe,Te,be);return new u(Ce,Pe,je-Ce,H-Pe)},ue=function(P,G,K,re,de,pe,xe,Te){var Ve,be,Ce,je,Pe,H,qe,ot,lt,Ge,rt,ct,Nt,St,Ht=K-P,en=re-G,st=de-K,Yt=pe-re,Xt=xe-de,gt=Te-pe;for(be=0;be<41;be++)lt=(qe=(Ce=P+(Ve=be/40)*Ht)+Ve*((Pe=K+Ve*st)-Ce))+Ve*(Pe+Ve*(de+Ve*Xt-Pe)-qe),Ge=(ot=(je=G+Ve*en)+Ve*((H=re+Ve*Yt)-je))+Ve*(H+Ve*(pe+Ve*gt-H)-ot),be==0?(rt=lt,ct=Ge,Nt=lt,St=Ge):(rt=Math.min(rt,lt),ct=Math.min(ct,Ge),Nt=Math.max(Nt,lt),St=Math.max(St,Ge));return new u(Math.round(rt),Math.round(ct),Math.round(Nt-rt),Math.round(St-ct))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,G,K=(P=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:G}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Dt.API),(function(n){var e=function(l){var u,h,f,p,v,x,w,N,L,I;for(h=[],f=0,p=(l+=u="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(v=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(x=(v=((v=((v=((v=(v-(I=v%85))/85)-(L=v%85))/85)-(N=v%85))/85)-(w=v%85))/85)%85,h.push(x+33,w+33,N+33,L+33,I+33)):h.push(122);return(function(j,X){for(var Y=X;Y>0;Y--)j.pop()})(h,u.length),String.fromCharCode.apply(String,h)+"~>"},t=function(l){var u,h,f,p,v,x=String,w="length",N=255,L="charCodeAt",I="slice",j="replace";for(l[I](-2),l=l[I](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),f=[],p=0,v=(l+=u="uuuuu"[I](l[w]%5||5))[w];v>p;p+=5)h=52200625*(l[L](p)-33)+614125*(l[L](p+1)-33)+7225*(l[L](p+2)-33)+85*(l[L](p+3)-33)+(l[L](p+4)-33),f.push(N&h>>24,N&h>>16,N&h>>8,N&h);return(function(X,Y){for(var Z=Y;Z>0;Z--)X.pop()})(f,u[w]),x.fromCharCode.apply(x,f)},i=function(l){return l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(l){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),u.test(l)===!1)return"";for(var h="",f=0;f<l.length;f+=2)h+=String.fromCharCode("0x"+(l[f]+l[f+1]));return h},a=function(l){for(var u=new Uint8Array(l.length),h=l.length;h--;)u[h]=l.charCodeAt(h);return(u=r5(u)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,u){var h=0,f=l||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=i(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(Dt.API),(function(n){n.loadFile=function(e,t,i){return(function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(h,f,p){var v=new XMLHttpRequest,x=0,w=function(N){var L=N.length,I=[],j=String.fromCharCode;for(x=0;x<L;x+=1)I.push(j(255&N.charCodeAt(x)));return I.join("")};if(v.open("GET",h,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(w(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return w(v.responseText)})(r,a,l)}catch{}return u})(e,t,i)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Dt.API),(function(n){function e(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):jg(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):jg(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var i=function(u){var h=ai(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},r=function(u,h){var f=document.createElement(u);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},a=function u(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),v=h.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(u(v,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},l=function u(h){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),f);return(p=p.setProgress(1,u,1,[u])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(u,h){return u.__proto__=h||l.prototype,u},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(u,h){return this.then(function(){switch(h=h||(function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),h){case"string":return this.then(t).then(function(f){return this.set({src:r("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},l.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var w=0;w<p.length;++w){var N=p[w],L=N.src.find(function(I){return I.format==="truetype"});L&&f.addFont(L.url,N.ref.name,N.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,f.context2d.save(!0),h(this.prop.container,x)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(u,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},l.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},l.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},l.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(u){if(i(u)!=="object")return this;var h=Object.keys(u||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(u,h){return this.then(function(){var f=u in l.template.prop?this.prop[u]:this.opt[u];return h?h(f):f})},l.prototype.setMargin=function(u){return this.then(function(){switch(i(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},l.prototype.setPageSize=function(u){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(u=u||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},l.prototype.setProgress=function(u,h,f,p){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(u,h,f,p){return this.setProgress(u?this.progress.val+u:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(u,h){var f=this;return this.thenCore(u,h,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(x){return f.updateProgress(null,p),x}).then(p,v).then(function(x){return f.updateProgress(1),x})})},l.prototype.thenCore=function(u,h,f){f=f||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),h&&(h=h.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),x=f.call(v,u,h);return l.convert(x,p.__proto__)},l.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},l.prototype.thenList=function(u){var h=this;return u.forEach(function(f){h=h.thenCore(f)}),h},l.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return l.convert(h,this)},l.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},l.prototype.error=function(u){return this.then(function(){throw new Error(u)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Dt.getPageSize=function(u,h,f){if(ai(u)==="object"){var p=u;u=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var v,x=(""+f).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+h}var N,L=0,I=0;if(w.hasOwnProperty(x))L=w[x][1]/v,I=w[x][0]/v;else try{L=f[1],I=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",I>L&&(N=I,I=L,L=N);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",L>I&&(N=I,I=L,L=N)}return{width:I,height:L,unit:h,k:v,orientation:u}},n.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(Gy):null;var f=new l(h);return h.worker?f:f.from(u).doCallback()}})(Dt.API),Dt.API.addJS=function(n){return K6=n,this.internal.events.subscribe("postPutResources",function(){Ig=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ig+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ig!==void 0&&$6!==void 0&&this.internal.out("/Names <</JavaScript "+Ig+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],u=i.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=t.internal.newObject();p.push(v);var x=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<p.length;a++)t.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,a){var l={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])})(Dt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,a,l,u){var h,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(v){for(var x,w=256*v.charCodeAt(4)+v.charCodeAt(5),N=v.length,L={width:0,height:0,numcomponents:1},I=4;I<N;I+=2){if(I+=w,e.indexOf(v.charCodeAt(I+1))!==-1){x=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),L={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:x,numcomponents:v.charCodeAt(I+9)};break}w=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return L})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}})(Dt.API),Dt.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,a=fW(n,{checkCrc:!0}),l=a.width,u=a.height,h=a.channels,f=a.palette,p=a.depth;r=f&&h===1?(function(M){for(var k=M.width,W=M.height,E=M.data,R=M.palette,B=M.depth,ce=!1,Ae=[],oe=[],me=void 0,se=!1,Ne=0,ue=0;ue<R.length;ue++){var V=JS(R[ue],4),P=V[0],G=V[1],K=V[2],re=V[3];Ae.push(P,G,K),re!=null&&(re===0?(Ne++,oe.length<1&&oe.push(ue)):re<255&&(se=!0))}if(se||Ne>1){ce=!0,oe=void 0;var de=k*W;me=new Uint8Array(de);for(var pe=new DataView(E.buffer),xe=0;xe<de;xe++){var Te=$y(pe,xe,B),Ve=JS(R[Te],4)[3];me[xe]=Ve}}else Ne===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ce?8:void 0,colorBytes:E,alphaBytes:me,needSMask:ce,palette:Ae,mask:oe}})(a):h===2||h===4?(function(M){for(var k=M.data,W=M.width,E=M.height,R=M.channels,B=M.depth,ce=R===2?"DeviceGray":"DeviceRGB",Ae=R-1,oe=W*E,me=Ae,se=oe*me,Ne=1*oe,ue=Math.ceil(se*B/8),V=Math.ceil(Ne*B/8),P=new Uint8Array(ue),G=new Uint8Array(V),K=new DataView(k.buffer),re=new DataView(P.buffer),de=new DataView(G.buffer),pe=!1,xe=0;xe<oe;xe++){for(var Te=xe*R,Ve=0;Ve<me;Ve++)iA(re,$y(K,Te+Ve,B),xe*me+Ve,B);var be=$y(K,Te+me,B);be<(1<<B)-1&&(pe=!0),iA(de,be,1*xe,B)}return{colorSpace:ce,colorsPerPixel:Ae,sMaskBitsPerComponent:pe?B:void 0,colorBytes:P,alphaBytes:G,needSMask:pe}})(a):(function(M){var k=M.data,W=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(E){for(var R=E.length,B=new Uint8Array(2*R),ce=new DataView(B.buffer,B.byteOffset,B.byteLength),Ae=0;Ae<R;Ae++)ce.setUint16(2*Ae,E[Ae],!1);return B})(k):k,needSMask:!1}})(a);var v,x,w,N=r,L=N.colorSpace,I=N.colorsPerPixel,j=N.sMaskBitsPerComponent,X=N.colorBytes,Y=N.alphaBytes,Z=N.needSMask,ae=N.palette,ge=N.mask,U=null;return i!==Dt.API.image_compression.NONE&&typeof r5=="function"?(U=(function(M){var k;switch(M){case Dt.API.image_compression.FAST:k=11;break;case Dt.API.image_compression.MEDIUM:k=13;break;case Dt.API.image_compression.SLOW:k=14;break;default:k=12}return k})(i),v=this.decode.FLATE_DECODE,x="/Predictor ".concat(U," /Colors ").concat(I," /BitsPerComponent ").concat(p," /Columns ").concat(l),n=J6(X,Math.ceil(l*I*p/8),I,p,i),Z&&(w=J6(Y,Math.ceil(l*j/8),1,j,i))):(v=void 0,x=void 0,n=X,Z&&(w=Y)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:n,index:e,filter:v,decodeParameters:x,transparency:ge,palette:ae,sMask:w,predictor:U,width:l,height:u,bitsPerComponent:p,sMaskBitsPerComponent:j,colorSpace:L}}},(function(n){n.processGIF89A=function(e,t,i,r){var a=new jW(e),l=a.width,u=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:u},p=new Ky(100).encode(f,100);return n.processJPEG.call(this,p,t,i,r)},n.processGIF87A=n.processGIF89A})(Dt.API),Fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){_i.log("bit decode error:"+t)}},Fo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var h=this.palette[a>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Fo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*r*4,u=a>>4,h=15&a,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*r+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Fo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*i;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Fo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,u=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,f=a>>15?255:0,p=i*this.width*4+4*r;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},Fo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,p=r*this.width*4+4*a;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},Fo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},Fo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=a,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=l}},Fo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,r){var a=new Fo(e,!1),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},f=new Ky(100).encode(h,100);return n.processJPEG.call(this,f,t,i,r)}})(Dt.API),sA.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,r){var a=new sA(e),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},f=new Ky(100).encode(h,100);return n.processJPEG.call(this,f,t,i,r)}})(Dt.API),Dt.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),u=0,h=0,f=0;f<r;f+=4){var p=i[f],v=i[f+1],x=i[f+2],w=i[f+3];a[u++]=p,a[u++]=v,a[u++]=x,l[h++]=w}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Dt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wf=Dt.API,Lg=wf.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:r.metadata.Unicode.widths,h=u.fof?u.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,x=0,w=n.length,N=0,L=u[0]||h,I=[];for(t=0;t<w;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(x=v&&ai(f[i])==="object"&&!isNaN(parseInt(f[i][N],10))?f[i][N]/p:0,I.push((u[i]||L)/h+x)),N=i;return I},Y6=wf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return wf.processArabic&&(n=wf.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:Lg.apply(this,arguments).reduce(function(a,l){return a+l},0)},X6=function(n,e,t,i){for(var r=[],a=0,l=n.length,u=0;a!==l&&u+e[a]<t;)u+=e[a],a++;r.push(n.slice(0,a));var h=a;for(u=0;a!==l;)u+e[a]>i&&(r.push(n.slice(h,a)),u=0,h=a),u+=e[a],a++;return h!==a&&r.push(n.slice(h,a)),r},Q6=function(n,e,t){t||(t={});var i,r,a,l,u,h,f,p=[],v=[p],x=t.textIndent||0,w=0,N=0,L=n.split(" "),I=Lg.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var j=Array(h).join(" "),X=[];L.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?X=X.concat(Z.map(function(ae,ge){return(ge&&ae.length?`
`:"")+ae})):X.push(Z[0])}),L=X,h=Y6.apply(this,[j,t])}for(a=0,l=L.length;a<l;a++){var Y=0;if(i=L[a],h&&i[0]==`
`&&(i=i.substr(1),Y=1),x+w+(N=(r=Lg.apply(this,[i,t])).reduce(function(Z,ae){return Z+ae},0))>e||Y){if(N>e){for(u=X6.apply(this,[i,r,e-(x+w),e]),p.push(u.shift()),p=[u.pop()];u.length;)v.push([u.shift()]);N=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(Z,ae){return Z+ae},0)}else p=[i];v.push(p),x=N+h,w=I}else p.push(i),x+=w+N,w=I}return f=h?function(Z,ae){return(ae?j:"")+Z.join(" ")}:function(Z){return Z.join(" ")},v.map(f)},wf.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),x="Unicode";return v.metadata[x]?{widths:v.metadata[x].widths||{0:1},kerning:v.metadata[x].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/r;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=t.lineIndent;var u,h,f=[];for(u=0,h=i.length;u<h;u++)f=f.concat(Q6.apply(this,[i[u],l,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},r={},a=0;a<16;a++)i[t[a]]=e[a],r[e[a]]=t[a];var l=function(x){return"0x"+parseInt(x,10).toString(16)},u=n.__fontmetrics__.compress=function(x){var w,N,L,I,j=["{"];for(var X in x){if(w=x[X],isNaN(parseInt(X,10))?N="'"+X+"'":(X=parseInt(X,10),N=(N=l(X).slice(2)).slice(0,-1)+r[N.slice(-1)]),typeof w=="number")w<0?(L=l(w).slice(3),I="-"):(L=l(w).slice(2),I=""),L=I+L.slice(0,-1)+r[L.slice(-1)];else{if(ai(w)!=="object")throw new Error("Don't know what to do with value type "+ai(w)+".");L=u(w)}j.push(N+L)}return j.push("}"),j.join("")},h=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,N,L,I,j={},X=1,Y=j,Z=[],ae="",ge="",U=x.length-1,M=1;M<U;M+=1)(I=x[M])=="'"?w?(L=w.join(""),w=void 0):w=[]:w?w.push(I):I=="{"?(Z.push([Y,L]),Y={},L=void 0):I=="}"?((N=Z.pop())[0][N[1]]=Y,L=void 0,Y=N[0]):I=="-"?X=-1:L===void 0?i.hasOwnProperty(I)?(ae+=i[I],L=parseInt(ae,16)*X,X=1,ae=""):ae+=I:i.hasOwnProperty(I)?(ge+=i[I],Y[L]=parseInt(ge,16)*X,X=1,L=void 0,ge=""):ge+=I;return j},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var w=x.font,N=v.Unicode[w.postScriptName];N&&(w.metadata.Unicode={},w.metadata.Unicode.widths=N.widths,w.metadata.Unicode.kerning=N.kerning);var L=p.Unicode[w.postScriptName];L&&(w.metadata.Unicode.encoding=L,w.encoding=L.codePages[0])}])})(Dt.API),(function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=t.charCodeAt(a);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,a=t.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Yg(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,i)}}])})(Dt),Dt.API.addSvgAsImage=function(n,e,t,i,r,a,l,u){if(isNaN(e)||isNaN(t))throw _i.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw _i.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=r;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(sn.canvg?Promise.resolve(sn.canvg):jg(()=>import("./index.es-DVbC5q82.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(p)}).then(function(){v.addImage(h.toDataURL("image/jpeg",1),e,t,i,r,l,u)})},Dt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Dt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],f=0,p=0,v=0;function x(N,L){var I,j=!1;for(I=0;I<N.length;I+=1)N[I]===L&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=u.length;for(v=0;v<w;v+=1)t[u[v]].value=t[u[v]].defaultValue,t[u[v]].explicitSet=!1}if(ai(n)==="object"){for(r in n)if(a=n[r],x(u,r)&&a!==void 0){if(t[r].type==="boolean"&&typeof a=="boolean")t[r].value=a;else if(t[r].type==="name"&&x(t[r].valueSet,a))t[r].value=a;else if(t[r].type==="integer"&&Number.isInteger(a))t[r].value=a;else if(t[r].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(i=!1);i===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}t[r].value="["+h.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,L=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?L.push("/"+N+" /"+t[N].value):L.push("/"+N+" "+t[N].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+u.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+a+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Dt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,l){for(var u,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,x=a.length;v<x;++v){if(u=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=a.charCodeAt(v),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},i=function(a){var l,u,h,f,p,v,x;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],v=0,x=(u=Object.keys(a).sort(function(w,N){return w-N})).length;v<x;v++)l=u[v],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,x=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",N=0;N<x.length;N++)w+=String.fromCharCode(x[N]);var L=f();p({data:w,addLength1:!0,objectId:L}),h("endobj");var I=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var j=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Ef(u.fontName)),h("/FontFile2 "+L+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var X=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Ef(u.fontName)),h("/FontDescriptor "+j+" 0 R"),h("/W "+n.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+I+" 0 R"),h("/BaseFont /"+Ef(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+X+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,x="",w=0;w<v.length;w++)x+=String.fromCharCode(v[w]);var N=f();p({data:x,addLength1:!0,objectId:N}),h("endobj");var L=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:L}),h("endobj");var I=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Ef(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Ef(u.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,u=a.text||"",h=a.x,f=a.y,p=a.options||{},v=a.mutex||{},x=v.pdfEscape,w=v.activeFontKey,N=v.fonts,L=w,I="",j=0,X="",Y=N[L].encoding;if(N[L].encoding!=="Identity-H")return{text:u,x:h,y:f,options:p,mutex:v};for(X=u,L=w,Array.isArray(u)&&(X=u[0]),j=0;j<X.length;j+=1)N[L].metadata.hasOwnProperty("cmap")&&(l=N[L].metadata.cmap.unicode.codeMap[X[j].charCodeAt(0)]),l||X[j].charCodeAt(0)<256&&N[L].metadata.hasOwnProperty("Unicode")?I+=X[j]:I+="";var Z="";return parseInt(L.slice(1))<14||Y==="WinAnsiEncoding"?Z=x(I,L).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):Y==="Identity-H"&&(Z=t(I,N[L])),v.isHex=!0,{text:Z,x:h,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var l=a.text||"",u=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([r(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(r(Object.assign({},h,{text:l[f]})).text);a.text=u}else a.text=r(Object.assign({},h,{text:l})).text}])})(Dt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Dt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,a,l,u,h,f,p,v=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),X=!1,Y=0;this.__bidiEngine__={};var Z=function(E){var R=E.charCodeAt(),B=R>>8,ce=L[B];return ce!==void 0?v[256*ce+(255&R)]:B===252||B===253?"AL":j.test(B)?"L":B===8?"R":"N"},ae=function(E){for(var R,B=0;B<E.length;B++){if((R=Z(E.charAt(B)))==="L")return!1;if(R==="R")return!0}return!1},ge=function(E,R,B,ce){var Ae,oe,me,se,Ne=R[ce];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":X=!1;break;case"N":case"AN":break;case"EN":X&&(Ne="AN");break;case"AL":X=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":ce<1||ce+1>=R.length||(Ae=B[ce-1])!=="EN"&&Ae!=="AN"||(oe=R[ce+1])!=="EN"&&oe!=="AN"?Ne="N":X&&(oe="AN"),Ne=oe===Ae?oe:"N";break;case"ES":Ne=(Ae=ce>0?B[ce-1]:"B")==="EN"&&ce+1<R.length&&R[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&B[ce-1]==="EN"){Ne="EN";break}if(X){Ne="N";break}for(me=ce+1,se=R.length;me<se&&R[me]==="ET";)me++;Ne=me<se&&R[me]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(se=R.length,me=ce+1;me<se&&R[me]==="NSM";)me++;if(me<se){var ue=E[ce],V=ue>=1425&&ue<=2303||ue===64286;if(Ae=R[me],V&&(Ae==="R"||Ae==="AL")){Ne="R";break}}}Ne=ce<1||(Ae=R[ce-1])==="B"?"N":B[ce-1];break;case"B":X=!1,r=!0,Ne=Y;break;case"S":a=!0,Ne="N"}return Ne},U=function(E,R,B){var ce=E.split("");return B&&M(ce,B,{hiLevel:Y}),ce.reverse(),R&&R.reverse(),ce.join("")},M=function(E,R,B){var ce,Ae,oe,me,se,Ne=-1,ue=E.length,V=0,P=[],G=Y?w:x,K=[];for(X=!1,r=!1,a=!1,Ae=0;Ae<ue;Ae++)K[Ae]=Z(E[Ae]);for(oe=0;oe<ue;oe++){if(se=V,P[oe]=ge(E,K,P,oe),ce=240&(V=G[se][N[P[oe]]]),V&=15,R[oe]=me=G[V][5],ce>0)if(ce===16){for(Ae=Ne;Ae<oe;Ae++)R[Ae]=1;Ne=-1}else Ne=-1;if(G[V][6])Ne===-1&&(Ne=oe);else if(Ne>-1){for(Ae=Ne;Ae<oe;Ae++)R[Ae]=me;Ne=-1}K[oe]==="B"&&(R[oe]=0),B.hiLevel|=me}a&&(function(re,de,pe){for(var xe=0;xe<pe;xe++)if(re[xe]==="S"){de[xe]=Y;for(var Te=xe-1;Te>=0&&re[Te]==="WS";Te--)de[Te]=Y}})(K,R,ue)},k=function(E,R,B,ce,Ae){if(!(Ae.hiLevel<E)){if(E===1&&Y===1&&!r)return R.reverse(),void(B&&B.reverse());for(var oe,me,se,Ne,ue=R.length,V=0;V<ue;){if(ce[V]>=E){for(se=V+1;se<ue&&ce[se]>=E;)se++;for(Ne=V,me=se-1;Ne<me;Ne++,me--)oe=R[Ne],R[Ne]=R[me],R[me]=oe,B&&(oe=B[Ne],B[Ne]=B[me],B[me]=oe);V=se}V++}}},W=function(E,R,B){var ce=E.split(""),Ae={hiLevel:Y};return B||(B=[]),M(ce,B,Ae),(function(oe,me,se){if(se.hiLevel!==0&&p)for(var Ne,ue=0;ue<oe.length;ue++)me[ue]===1&&(Ne=I.indexOf(oe[ue]))>=0&&(oe[ue]=I[Ne+1])})(ce,B,Ae),k(2,ce,R,B,Ae),k(1,ce,R,B,Ae),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(E,R,B){if((function(Ae,oe){if(oe)for(var me=0;me<Ae.length;me++)oe[me]=me;u===void 0&&(u=ae(Ae)),f===void 0&&(f=ae(Ae))})(E,R),l||!h||f)if(l&&h&&u^f)Y=u?1:0,E=U(E,R,B);else if(!l&&h&&f)Y=u?1:0,E=W(E,R,B),E=U(E,R);else if(!l||u||h||f){if(l&&!h&&u^f)E=U(E,R),u?(Y=0,E=W(E,R,B)):(Y=1,E=W(E,R,B),E=U(E,R));else if(l&&u&&!h&&f)Y=1,E=W(E,R,B),E=U(E,R);else if(!l&&!h&&u^f){var ce=p;u?(Y=1,E=W(E,R,B),Y=0,p=!1,E=W(E,R,B),p=ce):(Y=0,E=W(E,R,B),E=U(E,R),Y=1,p=!1,E=W(E,R,B),p=ce,E=U(E,R))}}else Y=0,E=W(E,R,B);else Y=u?1:0,E=W(E,R,B);return E},this.__bidiEngine__.setOptions=function(E){E&&(l=E.isInputVisual,h=E.isOutputVisual,u=E.isInputRtl,f=E.isOutputRtl,p=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(l=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?l.push([t.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):l.push([t.doBidiReorder(r[u])]);i.text=l}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])})(Dt),Dt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ku(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new KW(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new PW(this.contents),this.head=new MW(this),this.name=new UW(this),this.cmap=new WR(this),this.toUnicode={},this.hhea=new OW(this),this.maxp=new zW(this),this.hmtx=new qW(this),this.post=new BW(this),this.os2=new VW(this),this.loca=new $W(this),this.glyf=new HW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,f;for(f=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,a,l,u;for(l=0,a=0,u=(e=""+e).length;0<=u?a<u:a>u;a=0<=u?++a:--a)r=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var Xo,ku=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,a,l,u,h;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*a+65536*l+256*u+h},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,a;for(a=[],i=0,r=e.length;i<r;i++)t=e[i],a.push(this.writeByte(t));return a},n})(),PW=(function(){var n;function e(t){var i,r,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,a,l,u,h,f,p,v,x,w,N,L;for(L in w=Object.keys(t).length,h=Math.log(2),v=16*Math.floor(Math.log(w)/h),l=Math.floor(v/h),p=16*w-v,(r=new ku).writeInt(this.scalarType),r.writeShort(w),r.writeShort(v),r.writeShort(l),r.writeShort(p),a=16*w,f=r.pos+a,u=null,N=[],t)for(x=t[L],r.writeString(L),r.writeInt(n(x)),r.writeInt(f),r.writeInt(x.length),N=N.concat(x),L==="head"&&(u=f),f+=x.length;f%4;)N.push(0),f++;return r.write(N),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(t){var i,r,a,l;for(t=$R.call(t);t.length%4;)t.push(0);for(a=new ku(t),r=0,i=0,l=t.length;i<l;i=i+=4)r+=a.readUInt32();return 4294967295&r},e})(),kW={}.hasOwnProperty,jl=function(n,e){for(var t in e)kW.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};Xo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var MW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new ku).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),aA=(function(){function n(e,t){var i,r,a,l,u,h,f,p,v,x,w,N,L,I,j,X,Y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(w=e.readUInt16(),x=w/2,e.pos+=6,a=(function(){var Z,ae;for(ae=[],h=Z=0;0<=x?Z<x:Z>x;h=0<=x?++Z:--Z)ae.push(e.readUInt16());return ae})(),e.pos+=2,L=(function(){var Z,ae;for(ae=[],h=Z=0;0<=x?Z<x:Z>x;h=0<=x?++Z:--Z)ae.push(e.readUInt16());return ae})(),f=(function(){var Z,ae;for(ae=[],h=Z=0;0<=x?Z<x:Z>x;h=0<=x?++Z:--Z)ae.push(e.readUInt16());return ae})(),p=(function(){var Z,ae;for(ae=[],h=Z=0;0<=x?Z<x:Z>x;h=0<=x?++Z:--Z)ae.push(e.readUInt16());return ae})(),r=(this.length-e.pos+this.offset)/2,u=(function(){var Z,ae;for(ae=[],h=Z=0;0<=r?Z<r:Z>r;h=0<=r?++Z:--Z)ae.push(e.readUInt16());return ae})(),h=j=0,Y=a.length;j<Y;h=++j)for(I=a[h],i=X=N=L[h];N<=I?X<=I:X>=I;i=N<=I?++X:--X)p[h]===0?l=i+f[h]:(l=u[p[h]/2+(i-N)-(x-h)]||0)!==0&&(l+=f[h]),this.codeMap[i]=65535&l}e.pos=v}return n.encode=function(e,t){var i,r,a,l,u,h,f,p,v,x,w,N,L,I,j,X,Y,Z,ae,ge,U,M,k,W,E,R,B,ce,Ae,oe,me,se,Ne,ue,V,P,G,K,re,de,pe,xe,Te,Ve,be,Ce;switch(ce=new ku,l=Object.keys(e).sort(function(je,Pe){return je-Pe}),t){case"macroman":for(L=0,I=(function(){var je=[];for(N=0;N<256;++N)je.push(0);return je})(),X={0:0},a={},Ae=0,Ne=l.length;Ae<Ne;Ae++)X[Te=e[r=l[Ae]]]==null&&(X[Te]=++L),a[r]={old:e[r],new:X[e[r]]},I[r]=X[e[r]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(I),{charMap:a,subtable:ce.data,maxGlyphID:L+1};case"unicode":for(R=[],v=[],Y=0,X={},i={},j=f=null,oe=0,ue=l.length;oe<ue;oe++)X[ae=e[r=l[oe]]]==null&&(X[ae]=++Y),i[r]={old:ae,new:X[ae]},u=X[ae]-r,j!=null&&u===f||(j&&v.push(j),R.push(r),f=u),j=r;for(j&&v.push(j),v.push(65535),R.push(65535),W=2*(k=R.length),M=2*Math.pow(Math.log(k)/Math.LN2,2),x=Math.log(M/2)/Math.LN2,U=2*k-M,h=[],ge=[],w=[],N=me=0,V=R.length;me<V;N=++me){if(E=R[N],p=v[N],E===65535){h.push(0),ge.push(0);break}if(E-(B=i[E].new)>=32768)for(h.push(0),ge.push(2*(w.length+k-N)),r=se=E;E<=p?se<=p:se>=p;r=E<=p?++se:--se)w.push(i[r].new);else h.push(B-E),ge.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*k+2*w.length),ce.writeUInt16(0),ce.writeUInt16(W),ce.writeUInt16(M),ce.writeUInt16(x),ce.writeUInt16(U),pe=0,P=v.length;pe<P;pe++)r=v[pe],ce.writeUInt16(r);for(ce.writeUInt16(0),xe=0,G=R.length;xe<G;xe++)r=R[xe],ce.writeUInt16(r);for(Ve=0,K=h.length;Ve<K;Ve++)u=h[Ve],ce.writeUInt16(u);for(be=0,re=ge.length;be<re;be++)Z=ge[be],ce.writeUInt16(Z);for(Ce=0,de=w.length;Ce<de;Ce++)L=w[Ce],ce.writeUInt16(L);return{charMap:i,subtable:ce.data,maxGlyphID:Y+1}}},n})(),WR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)t=new aA(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,r;return t==null&&(t="macroman"),i=aA.encode(e,t),(r=new ku).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},n})(),OW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),VW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),BW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var l,u,h;for(h=[],a=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;a=0<=u?++l:--l)h.push(e.readUInt32());return h}).call(this)}},n})(),FW=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},UW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,r,a,l,u,h,f,p,v,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),i=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(h={},a=p=0,v=i.length;p<v;a=++p)r=i[a],e.pos=r.offset,f=e.readString(r.length),l=new FW(f,r),h[x=r.nameID]==null&&(h[x]=[]),h[r.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),zW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),qW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,r,a,l,u,h;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],t=f=0;0<=r?f<r:f>r;t=0<=r?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,v,x;for(x=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],x.push(a.advance);return x}).call(this),i=this.widths[this.widths.length-1],h=[],t=l=0;0<=r?l<r:l>r;t=0<=r?++l:--l)h.push(this.widths.push(i));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),$R=[].slice,HW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,r,a,l,u,h,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,i=a.indexOf(e),(r=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,l=(u=new ku(t.read(r))).readShort(),f=u.readShort(),v=u.readShort(),h=u.readShort(),p=u.readShort(),this.cache[e]=l===-1?new WW(u,f,v,h,p):new GW(u,l,f,v,h,p),this.cache[e]))},n.prototype.encode=function(e,t,i){var r,a,l,u,h;for(l=[],a=[],u=0,h=t.length;u<h;u++)r=e[t[u]],a.push(l.length),r&&(l=l.concat(r.encode(i)));return a.push(l.length),{table:l,offsets:a}},n})(),GW=(function(){function n(e,t,i,r,a,l){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),WW=(function(){function n(e,t,i,r,a){var l,u;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new ku($R.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),$W=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return jl(n,Xo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),r=0,a=0,l=0;l<i.length;++l)if(i[l]=r,a<t.length&&t[a]==l){++a,i[l]=r;var u=this.offsets[l],h=this.offsets[l+1]-u;h>0&&(r+=h)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},n})(),KW=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,a,l,u,h;for(r={},l=0,u=e.length;l<u;l++)r[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(i=r[a])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(a in h=this.glyphsFor(t))i=h[a],r[a]=i;return r},n.prototype.encode=function(e,t){var i,r,a,l,u,h,f,p,v,x,w,N,L,I,j;for(r in i=WR.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),w={0:0},j=i.charMap)w[(h=j[r]).old]=h.new;for(N in x=i.maxGlyphID,l)N in w||(w[N]=x++);return p=(function(X){var Y,Z;for(Y in Z={},X)Z[X[Y]]=Y;return Z})(w),v=Object.keys(p).sort(function(X,Y){return X-Y}),L=(function(){var X,Y,Z;for(Z=[],X=0,Y=v.length;X<Y;X++)u=v[X],Z.push(p[u]);return Z})(),a=this.font.glyf.encode(l,L,w),f=this.font.loca.encode(a.offsets,L),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n})();Dt.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,a,l;if(Array.isArray(t))return"["+(function(){var u,h,f;for(f=[],u=0,h=t.length;u<h;u++)i=t[u],f.push(e.convert(i));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in a=["<<"],t)l=t[r],a.push("/"+r+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function KR(n,e,t,i,r){i=i||{};var a=1.15,l=r.internal.scaleFactor,u=r.internal.getFontSize()/l,h=r.getLineHeightFactor?r.getLineHeightFactor():a,f=u*h,p=/\r\n|\r|\n/g,v="",x=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(v=typeof n=="string"?n.split(p):n,x=v.length||1),t+=u*(2-a),i.valign==="middle"?t-=x/2*f:i.valign==="bottom"&&(t-=x*f),i.halign==="center"||i.halign==="right"){var w=u;if(i.halign==="center"&&(w*=.5),v&&x>=1){for(var N=0;N<v.length;N++)r.text(v[N],e-r.getStringUnitWidth(v[N])*w,t),t+=f;return r}e-=r.getStringUnitWidth(n)*w}return i.halign==="justify"?r.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,e,t),r}var oA={},Hf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:oA=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,r,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),u=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(h,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var p=n.unifyColor(e.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(e.textColor),p&&(r=this.jsPDFDocument).setTextColor.apply(r,p),p=n.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,r,a){return this.jsPDFDocument.rect(e,t,i,r,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return oA||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),f5=function(n,e){return f5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},f5(n,e)};function YR(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");f5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var XR=(function(n){YR(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e})(Array);function YW(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function XW(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function M1(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return r}function QR(n,e,t,i){var r=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:a});var l=JR(r,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,l)}function JR(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function N0(n,e){var t,i,r,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(r=n.right)!==null&&r!==void 0?r:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function ZR(n,e){var t=N0(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function QW(n,e,t,i,r){var a={},l=1.3333333333333333,u=Yy(e,function(Y){return r.getComputedStyle(Y).backgroundColor});u!=null&&(a.fillColor=u);var h=Yy(e,function(Y){return r.getComputedStyle(Y).color});h!=null&&(a.textColor=h);var f=ZW(i,t);f&&(a.cellPadding=f);var p="borderTopColor",v=l*t,x=i.borderTopWidth;if(i.borderBottomWidth===x&&i.borderRightWidth===x&&i.borderLeftWidth===x){var w=(parseFloat(x)||0)/v;w&&(a.lineWidth=w)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/v,right:(parseFloat(i.borderRightWidth)||0)/v,bottom:(parseFloat(i.borderBottomWidth)||0)/v,left:(parseFloat(i.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var N=Yy(e,function(Y){return r.getComputedStyle(Y)[p]});N!=null&&(a.lineColor=N);var L=["left","right","center","justify"];L.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),L=["middle","bottom","top"],L.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var I=parseInt(i.fontSize||"");isNaN(I)||(a.fontSize=I/l);var j=JW(i);j&&(a.fontStyle=j);var X=(i.fontFamily||"").toLowerCase();return n.indexOf(X)!==-1&&(a.font=X),a}function JW(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Yy(n,e){var t=e7(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function e7(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:e7(n.parentElement,e):t}function ZW(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(u){return parseInt(u||"0")/i}),l=N0(a,0);return r>l.top&&(l.top=r),r>l.bottom&&(l.bottom=r),l}function t7(n,e,t,i,r){var a,l;i===void 0&&(i=!1),r===void 0&&(r=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],v=[],x=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:p,body:v,foot:x};for(var w=0;w<u.rows.length;w++){var N=u.rows[w],L=(l=(a=N?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),I=e$(h,f,t,N,i,r);I&&(L==="thead"?p.push(I):L==="tfoot"?x.push(I):v.push(I))}return{head:p,body:v,foot:x}}function e$(n,e,t,i,r,a){for(var l=new XR(i),u=0;u<i.cells.length;u++){var h=i.cells[u],f=t.getComputedStyle(h);if(r||f.display!=="none"){var p=void 0;a&&(p=QW(n,h,e,f,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:p,_element:h,content:t$(h)})}}var v=t.getComputedStyle(i);if(l.length>0&&(r||v.display!=="none"))return l}function t$(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function n$(n,e,t){for(var i=0,r=[n,e,t];i<r.length;i++){var a=r[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function pc(n,e,t,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])}return a}function n7(n,e){var t=new Hf(n),i=t.getDocumentOptions(),r=t.getGlobalOptions();n$(r,i,e);var a=pc({},r,i,e),l;typeof window<"u"&&(l=window);var u=i$(r,i,e),h=r$(r,i,e),f=s$(t,a),p=o$(t,a,l);return{id:e.tableId,content:p,hooks:h,styles:u,settings:f}}function i$(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(h){if(h==="columnStyles"){var f=n[h],p=e[h],v=t[h];i.columnStyles=pc({},f,p,v)}else{var x=[n,e,t],w=x.map(function(N){return N[h]||{}});i[h]=pc({},w[0],w[1],w[2])}},a=0,l=Object.keys(i);a<l.length;a++){var u=l[a];r(u)}return i}function r$(n,e,t){for(var i=[n,e,t],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=i;a<l.length;a++){var u=l[a];u.didParseCell&&r.didParseCell.push(u.didParseCell),u.willDrawCell&&r.willDrawCell.push(u.willDrawCell),u.didDrawCell&&r.didDrawCell.push(u.didDrawCell),u.willDrawPage&&r.willDrawPage.push(u.willDrawPage),u.didDrawPage&&r.didDrawPage.push(u.didDrawPage)}return r}function s$(n,e){var t,i,r,a,l,u,h,f,p,v,x,w,N=N0(e.margin,40/n.scaleFactor()),L=(t=a$(n,e.startY))!==null&&t!==void 0?t:N.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var X=(a=e.useCss)!==null&&a!==void 0?a:!1,Y=e.theme||(X?"plain":"striped"),Z=!!e.horizontalPageBreak,ae=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:X,theme:Y,startY:L,margin:N,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:j,showFoot:I,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function a$(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===r}return typeof e=="number"?e:(e==null||e===!1)&&a&&t?.finalY!=null?t.finalY+20/i:null}function o$(n,e,t){var i=e.head||[],r=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var u=t7(n,e.html,t,l,e.useCss)||{};i=u.head||i,r=u.body||i,a=u.foot||i}else console.error("Cannot parse html in non browser environment")}var h=e.columns||l$(i,r,a);return{columns:h,head:i,body:r,foot:a}}function l$(n,e,t){var i=n[0]||e[0]||t[0]||[],r=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,u;Array.isArray(i)?u=i[parseInt(a)]:u=i[a],typeof u=="object"&&!Array.isArray(u)&&(l=u?.colSpan||1);for(var h=0;h<l;h++){var f=void 0;Array.isArray(i)?f=r.length:f=a+(h>0?"_".concat(h):"");var p={dataKey:f};r.push(p)}}),r}var d5=(function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n})(),c$=(function(n){YR(e,n);function e(t,i,r,a,l,u){var h=n.call(this,t,i,u)||this;return h.cell=r,h.row=a,h.column=l,h.section=a.section,h}return e})(d5),u$=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,r,a,l){for(var u=0,h=t;u<h.length;u++){var f=h[u],p=new c$(e,this,i,r,a,l),v=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var a=r[i];a(new d5(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var a=r[i];a(new d5(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n})(),i7=(function(){function n(e,t,i,r,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof XR&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=r,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,r){var a;return Math.max(i,((a=t.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var r=t.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(r,a){var l=i.cells[a.index];if(!l)return 0;var u=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),f=h+u;return f>r?f:r},0)},n})(),r7=(function(){function n(e,t,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",u=/\r\n|\r|\n/g;this.text=l.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*t,a=i*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=N0(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),h$=(function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,r=e.allRows();i<r.length;i++){var a=r[i],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function f$(n,e){d$(n,e);var t=[],i=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),i+=a.width});var r=e.getWidth(n.pageSize().width)-i;r&&(r=p5(t,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=p5(t,r,function(a){return a.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.log("Of the table content, ".concat(r," units width could not fit page"))),m$(e),g$(e,n),p$(e)}function d$(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,r=ZR(n,e);e.allRows().forEach(function(a){for(var l=0,u=e.columns;l<u.length;l++){var h=u[l],f=a.cells[h.index];if(f){var p=e.hooks.didParseCell;e.callCellHooks(n,p,f,a,h,null);var v=f.padding("horizontal");f.contentWidth=M1(f.text,f.styles,n)+v;var x=M1(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=x+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var w=10/t;f.minWidth=f.styles.minCellWidth||w,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,u=e.columns;l<u.length;l++){var h=u[l],f=a.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var p=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},v=p.cellWidth||p.minCellWidth;v&&typeof v=="number"&&(h.minWidth=v,h.wrappedWidth=v)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function p5(n,e,t){for(var i=e,r=n.reduce(function(w,N){return w+N.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],u=l.wrappedWidth/r,h=i*u,f=l.width+h,p=t(l),v=f<p?p:f;e-=v-l.width,l.width=v}if(e=Math.round(e*1e10)/1e10,e){var x=n.filter(function(w){return e<0?w.width>t(w):!0});x.length&&(e=p5(x,e,t))}return e}function p$(n){for(var e={},t=1,i=n.allRows(),r=0;r<i.length;r++)for(var a=i[r],l=0,u=n.columns;l<u.length;l++){var h=u[l],f=e[h.index];if(t>1)t--,delete a.cells[h.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var p=a.cells[h.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var v=i.length-r,x=p.rowSpan>v?v:p.rowSpan;e[h.index]={cell:p,left:x,row:a}}}}}function m$(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],r=null,a=0,l=0,u=0;u<n.columns.length;u++){var h=n.columns[u];if(l-=1,l>1&&n.columns[u+1])a+=h.width,delete i.cells[h.index];else if(r){var f=r;delete i.cells[h.index],r=null,f.width=h.width+a}else{var f=i.cells[h.index];if(!f)continue;if(l=f.colSpan,a=0,f.colSpan>1){r=f,a+=h.width;continue}f.width=h.width+a}}}function g$(n,e){for(var t={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var a=r[i],l=0,u=n.columns;l<u.length;l++){var h=u[l],f=a.cells[h.index];if(f){e.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,p+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=lA(f.text,p,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=lA(f.text,p,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,p);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<x*f.rowSpan?t={height:x,count:f.rowSpan}:t&&t.count>0&&t.height>x&&(x=t.height),x>a.height&&(a.height=x)}}t.count--}}function lA(n,e,t,i,r){return n.map(function(a){return y$(a,e,t,i,r)})}function y$(n,e,t,i,r){var a=1e4*i.scaleFactor();if(e=Math.ceil(e*a)/a,e>=M1(n,t,i))return n;for(;e<M1(n+r,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function s7(n,e){var t=new Hf(n),i=v$(e,t.scaleFactor()),r=new u$(e,i);return f$(t,r),t.applyStyles(t.userStyles),r}function v$(n,e){var t=n.content,i=w$(t.columns);if(t.head.length===0){var r=cA(i,"head");r&&t.head.push(r)}if(t.foot.length===0){var r=cA(i,"foot");r&&t.foot.push(r)}var a=n.settings.theme,l=n.styles;return{columns:i,head:Xy("head",t.head,i,l,a,e),body:Xy("body",t.body,i,l,a,e),foot:Xy("foot",t.foot,i,l,a,e)}}function Xy(n,e,t,i,r,a){var l={},u=e.map(function(h,f){for(var p=0,v={},x=0,w=0,N=0,L=t;N<L.length;N++){var I=L[N];if(l[I.index]==null||l[I.index].left===0)if(w===0){var j=void 0;Array.isArray(h)?j=h[I.index-x-p]:j=h[I.dataKey];var X={};typeof j=="object"&&!Array.isArray(j)&&(X=j?.styles||{});var Y=_$(n,I,f,r,i,a,X),Z=new r7(j,Y,n);v[I.dataKey]=Z,v[I.index]=Z,w=Z.colSpan-1,l[I.index]={left:Z.rowSpan-1,times:w}}else w--,x++;else l[I.index].left--,w=l[I.index].times,p++}return new i7(h,f,n,v)});return u}function cA(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var r=b$(e,i.raw);r!=null&&(t[i.dataKey]=r)}}),Object.keys(t).length>0?t:null}function b$(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function w$(n){return n.map(function(e,t){var i,r;return typeof e=="object"?r=(i=e.dataKey)!==null&&i!==void 0?i:t:r=t,new h$(r,e,t)})}function _$(n,e,t,i,r,a,l){var u=XW(i),h;n==="head"?h=r.headStyles:n==="body"?h=r.bodyStyles:n==="foot"&&(h=r.footStyles);var f=pc({},u.table,u[n],r.styles,h),p=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},v=n==="body"?p:{},x=n==="body"&&t%2===0?pc({},u.alternateRow,r.alternateRowStyles):{},w=YW(a),N=pc({},w,f,x,v);return pc(N,l)}function x$(n,e,t){var i;t===void 0&&(t={});var r=ZR(n,e),a=new Map,l=[],u=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(x){var w=e.columns.find(function(N){return N.dataKey===x||N.index===x});w&&!a.has(w.index)&&(a.set(w.index,!0),l.push(w.index),u.push(e.columns[w.index]),r-=w.wrappedWidth)});for(var f=!0,p=(i=t?.start)!==null&&i!==void 0?i:0;p<e.columns.length;){if(a.has(p)){p++;continue}var v=e.columns[p].wrappedWidth;if(f||r>=v)f=!1,l.push(p),u.push(e.columns[p]),r-=v;else break;p++}return{colIndexes:l,columns:u,lastIndex:p-1}}function S$(n,e){for(var t=[],i=0;i<e.columns.length;i++){var r=x$(n,e,{start:i});r.columns.length&&(t.push(r),i=r.lastIndex)}return t}function a7(n,e){var t=e.settings,i=t.startY,r=t.margin,a={x:r.left,y:i},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=i+r.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(x,w){return x+w.height},0);u+=f}var p=new Hf(n);(t.pageBreak==="always"||t.startY!=null&&u>p.pageSize().height)&&(l7(p),a.y=r.top),e.callWillDrawPageHooks(p,a);var v=pc({},a);e.startPageNumber=p.pageNumber(),t.horizontalPageBreak?A$(p,e,v,a):(p.applyStyles(p.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(x){return Nc(p,e,x,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(x,w){var N=w===e.body.length-1;O1(p,e,x,N,v,a,e.columns)}),p.applyStyles(p.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(x){return Nc(p,e,x,a,e.columns)})),QR(p,e,v,a),e.callEndPageHooks(p,a),e.finalY=a.y,n.lastAutoTable=e,p.applyStyles(p.userStyles)}function A$(n,e,t,i){var r=S$(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?Rp(n,e,t,i,f.columns,!0):uA(n,e,i,f.columns),T$(n,e,t,i,f.columns),Qy(n,e,i,f.columns)});else for(var l=-1,u=r[0],h=function(){var f=l;if(u){n.applyStyles(n.userStyles);var p=u.columns;l>=0?Rp(n,e,t,i,p,!0):uA(n,e,i,p),f=hA(n,e,l+1,i,p),Qy(n,e,i,p)}var v=f-l;r.slice(1).forEach(function(x){n.applyStyles(n.userStyles),Rp(n,e,t,i,x.columns,!0),hA(n,e,l+1,i,x.columns,v),Qy(n,e,i,x.columns)}),l=f};l<e.body.length-1;)h()}function uA(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(a){return Nc(n,e,a,t,i)})}function T$(n,e,t,i,r){n.applyStyles(n.userStyles),e.body.forEach(function(a,l){var u=l===e.body.length-1;O1(n,e,a,u,t,i,r)})}function hA(n,e,t,i,r,a){n.applyStyles(n.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),u=-1;return e.body.slice(t,l).forEach(function(h,f){var p=t+f===e.body.length-1,v=o7(n,e,p,i);h.canEntireRowFit(v,r)&&(Nc(n,e,h,i,r),u=t+f)}),u}function Qy(n,e,t,i){var r=e.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(a){return Nc(n,e,a,t,i)})}function E$(n,e,t){var i=t.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),a=Math.floor((e-r)/i);return Math.max(0,a)}function N$(n,e,t,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,u=t.columns;l<u.length;l++){var h=u[l],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new r7(f.raw,f.styles,f.section);p=pc(p,f),p.text=[];var v=E$(f,e,i);f.text.length>v&&(p.text=f.text.splice(v,f.text.length));var x=i.scaleFactor(),w=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(x,w),f.contentHeight>=e&&(f.contentHeight=e,p.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(x,w),p.contentHeight>a&&(a=p.contentHeight),r[h.index]=p}}var N=new i7(n.raw,-1,n.section,r,!0);N.height=a;for(var L=0,I=t.columns;L<I.length;L++){var h=I[L],p=N.cells[h.index];p&&(p.height=N.height);var f=n.cells[h.index];f&&(f.height=n.height)}return N}function C$(n,e,t,i){var r=n.pageSize().height,a=i.settings.margin,l=a.top+a.bottom,u=r-l;e.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var h=e.getMinimumRowHeight(i.columns,n),f=h<t;if(h>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=e.hasRowSpan(i.columns),v=e.getMaxCellHeight(i.columns)>u;return v?(p&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function O1(n,e,t,i,r,a,l){var u=o7(n,e,i,a);if(t.canEntireRowFit(u,l))Nc(n,e,t,a,l);else if(C$(n,t,u,e)){var h=N$(t,u,e,n);Nc(n,e,t,a,l),Rp(n,e,r,a,l),O1(n,e,h,i,r,a,l)}else Rp(n,e,r,a,l),O1(n,e,t,i,r,a,l)}function Nc(n,e,t,i,r){i.x=e.settings.margin.left;for(var a=0,l=r;a<l.length;a++){var u=l[a],h=t.cells[u.index];if(!h){i.x+=u.width;continue}n.applyStyles(h.styles),h.x=i.x,h.y=i.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,h,t,u,i);if(f===!1){i.x+=u.width;continue}R$(n,h,i);var p=h.getTextPos();KR(h.text,p.x,p.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,u,i),i.x+=u.width}i.y+=t.height}function R$(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=JR(i.lineWidth,i.fillColor);r&&n.rect(e.x,t.y,e.width,e.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),I$(n,e,t,i.lineWidth))}function I$(n,e,t,i){var r,a,l,u;i.top&&(r=t.x,a=t.y,l=t.x+e.width,u=t.y,i.right&&(l+=.5*i.right),i.left&&(r-=.5*i.left),h(i.top,r,a,l,u)),i.bottom&&(r=t.x,a=t.y+e.height,l=t.x+e.width,u=t.y+e.height,i.right&&(l+=.5*i.right),i.left&&(r-=.5*i.left),h(i.bottom,r,a,l,u)),i.left&&(r=t.x,a=t.y,l=t.x,u=t.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(u+=.5*i.bottom),h(i.left,r,a,l,u)),i.right&&(r=t.x+e.width,a=t.y,l=t.x+e.width,u=t.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(u+=.5*i.bottom),h(i.right,r,a,l,u));function h(f,p,v,x,w){n.getDocument().setLineWidth(f),n.getDocument().line(p,v,x,w,"S")}}function o7(n,e,t,i){var r=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(r+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-r}function Rp(n,e,t,i,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(u){return Nc(n,e,u,i,r)}),e.callEndPageHooks(n,i);var l=e.settings.margin;QR(n,e,t,i),l7(n),e.pageNumber++,i.x=l.left,i.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return Nc(n,e,u,i,r)}),n.applyStyles(n.userStyles))}function l7(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function L$(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],r=n7(this,i),a=s7(this,r);return a7(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,r){KR(e,t,i,r,this)},n.API.autoTableSetDefaults=function(e){return Hf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Hf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Hf(this),a=t7(r,e,window,t,!1),l=a.head,u=a.body,h=((i=l[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:h,rows:u,data:u}}}var Jy;function Dg(n,e){var t=n7(n,e),i=s7(n,t);a7(n,i)}try{if(typeof window<"u"&&window){var fA=window,dA=fA.jsPDF||((Jy=fA.jspdf)===null||Jy===void 0?void 0:Jy.jsPDF);dA&&L$(dA)}}catch(n){console.error("Could not apply autoTable plugin",n)}const c7=(n,e,t,i)=>{try{const r=new Dt;r.setFontSize(22),r.setTextColor(26,115,232),r.text("SMWallet Report",14,20),r.setFontSize(10),r.setTextColor(100),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,28);let a=40;if(r.setFontSize(14),r.setTextColor(0),r.text("Summary",14,a),Dg(r,{startY:a+5,head:[["Total Balance","Total Spent","Remaining"]],body:[[`${(n?.totalBalance||0).toFixed(2)} BDT`,`${(n?.totalSpent||0).toFixed(2)} BDT`,`${(n?.totalRemaining||0).toFixed(2)} BDT`]],theme:"striped",headStyles:{fillColor:[26,115,232]}}),a=r.lastAutoTable.finalY+15,i&&i.length>0){a>250&&(r.addPage(),a=20),r.setFontSize(14),r.text("Savings Goals",14,a);const l=i.map(u=>[u.name,`${u.savedAmount} BDT`,`${u.targetAmount} BDT`,`${Math.round(u.savedAmount/u.targetAmount*100)}%`]);Dg(r,{startY:a+5,head:[["Goal Name","Saved","Target","Progress"]],body:l,theme:"grid",headStyles:{fillColor:[16,185,129]}}),a=r.lastAutoTable.finalY+15}if(e&&e.length>0){a>250&&(r.addPage(),a=20),r.setFontSize(14),r.text("Meals History",14,a);const l=e.map(u=>[u.date,u.mealType,u.item,`${u.amount} BDT`,u.walletName]);Dg(r,{startY:a+5,head:[["Date","Type","Item","Amount","Wallet"]],body:l,theme:"striped",headStyles:{fillColor:[26,115,232]}}),a=r.lastAutoTable.finalY+15}if(t&&t.length>0){a>250&&(r.addPage(),a=20),r.setFontSize(14),r.text("Purchases History",14,a);const l=t.map(u=>[u.date,u.category,u.item,`${u.amount} BDT`,u.walletName]);Dg(r,{startY:a+5,head:[["Date","Category","Item","Amount","Wallet"]],body:l,theme:"striped",headStyles:{fillColor:[239,68,68]}})}r.save("SMWallet_Report.pdf")}catch(r){console.error("Error generating PDF:",r),alert("Failed to generate PDF. Please check the console for errors.")}},D$=()=>{const{meals:n,purchases:e,incomes:t,goals:i,goalDeposits:r,wallets:a}=Er(),[l,u]=$.useState("monthly"),{isDarkMode:h}=Dh(),f=new Date,p=()=>{const j=new Date;return l==="weekly"&&j.setDate(j.getDate()-7),l==="monthly"&&j.setMonth(j.getMonth()-1),l==="yearly"&&j.setFullYear(j.getFullYear()-1),j},v=$.useMemo(()=>{const j=p(),X=Y=>Y.filter(Z=>{const ae=new Date(Z.date||Z.createdAt?.toDate());return ae>=j&&ae<=f});return{meals:X(n),purchases:X(e),incomes:X(t),deposits:X(r)}},[l,n,e,t,r]),x=$.useMemo(()=>{const j=v.incomes.reduce((E,R)=>E+Number(R.amount),0),X=v.meals.reduce((E,R)=>E+Number(R.amount),0)+v.purchases.reduce((E,R)=>E+Number(R.amount),0),Y=v.deposits.reduce((E,R)=>E+Number(R.amount),0),Z=a.reduce((E,R)=>E+Number(R.balance),0),ae=j-X,ge=j>0?(j-X)/j*100:0,U=Z>0?X/Z*100:0,M=X>0?Z/X:0,k=Math.min(X,j),W=Math.max(0,X-j);return{income:j,expense:X,savings:Y,net:ae,savingsRate:ge,burnRate:U,survivalMonths:M,incomeFunded:k,savingsFunded:W,totalWalletBalance:Z}},[v,a]),w=j=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(j),N=()=>{c7({totalBalance:x.net,totalSpent:x.expense,totalRemaining:x.income-x.expense},v.meals,v.purchases,i)},L={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return y.jsxs(pn.div,{initial:"hidden",animate:"visible",variants:L,className:"pb-5",children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[y.jsx("h4",{className:"fw-bold mb-0",children:"Financial Analysis"}),y.jsx(pn.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsxs(Mt,{variant:"outline-primary",onClick:N,className:"d-flex align-items-center bg-white border-0 shadow-sm",children:[y.jsx(eR,{className:"me-2"})," Download PDF"]})})]}),y.jsx(pn.div,{variants:I,children:y.jsx(dn,{className:"custom-card border-0 mb-4 shadow-sm",children:y.jsx(dn.Body,{className:"p-3",children:y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-3 me-3 text-primary",children:y.jsx(Oq,{})}),y.jsxs(Ue.Select,{value:l,onChange:j=>u(j.target.value),className:"w-auto border-0 fw-bold text-primary shadow-none ps-0 bg-transparent",style:{cursor:"pointer",fontSize:"1.1rem"},children:[y.jsx("option",{value:"weekly",children:"Weekly Overview"}),y.jsx("option",{value:"monthly",children:"Monthly Overview"}),y.jsx("option",{value:"yearly",children:"Yearly Overview"})]})]})})})}),y.jsxs(Bs,{className:"g-4 mb-4",children:[y.jsx(kn,{md:6,xl:3,children:y.jsx(pn.div,{variants:I,whileHover:{y:-5},children:y.jsx(dn,{className:"custom-card border-0 h-100 shadow-sm overflow-hidden",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white"},children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[y.jsx("span",{className:"small fw-bold opacity-75",children:"CASH IN"}),y.jsx(YC,{className:"opacity-50"})]}),y.jsx("h2",{className:"fw-bold mb-0",children:w(x.income)}),y.jsxs("div",{className:"mt-2 small opacity-75",children:["From ",v.incomes.length," sources"]})]})})})}),y.jsx(kn,{md:6,xl:3,children:y.jsx(pn.div,{variants:I,whileHover:{y:-5},children:y.jsx(dn,{className:"custom-card border-0 h-100 shadow-sm overflow-hidden",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white"},children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[y.jsx("span",{className:"small fw-bold opacity-75",children:"CASH OUT"}),y.jsx(kq,{className:"opacity-50"})]}),y.jsx("h2",{className:"fw-bold mb-0",children:w(x.expense)}),y.jsxs("div",{className:"mt-2 small opacity-75",children:[x.savingsRate.toFixed(1),"% savings rate"]})]})})})}),y.jsx(kn,{md:6,xl:3,children:y.jsx(pn.div,{variants:I,whileHover:{y:-5},children:y.jsx(dn,{className:"custom-card border-0 h-100 shadow-sm overflow-hidden",children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsx("div",{className:"text-muted small fw-bold mb-3 uppercase",children:"NET CASH FLOW"}),y.jsxs("h2",{className:`fw-bold mb-0 ${x.net>=0?"text-success":"text-danger"}`,children:[x.net>=0?"+":"",w(x.net)]}),y.jsx("div",{className:"mt-2 small text-muted",children:"vs last period"})]})})})}),y.jsx(kn,{md:6,xl:3,children:y.jsx(pn.div,{variants:I,whileHover:{y:-5},children:y.jsx(dn,{className:"custom-card border-0 h-100 shadow-sm overflow-hidden",children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsx("div",{className:"text-muted small fw-bold mb-3 uppercase",children:"LIQUID WEALTH"}),y.jsx("h2",{className:"fw-bold mb-0 text-primary",children:w(x.totalWalletBalance)}),y.jsxs("div",{className:"mt-2 small text-muted",children:[x.survivalMonths.toFixed(1)," mo. runway"]})]})})})})]}),y.jsxs(Bs,{className:"g-4",children:[y.jsx(kn,{lg:7,children:y.jsx(pn.div,{variants:I,children:y.jsx(dn,{className:"custom-card border-0 shadow-sm",children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsx("h5",{className:"fw-bold mb-4",children:"Expense Funding Analysis"}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"d-flex justify-content-between small mb-2",children:[y.jsx("span",{className:"text-muted",children:"Income Funded (Safe)"}),y.jsxs("span",{className:"fw-bold text-success",children:[Math.round(x.incomeFunded/(x.expense||1)*100),"%"]})]}),y.jsxs(mu,{className:"rounded-pill",style:{height:"12px"},children:[y.jsx(mu,{now:x.incomeFunded/(x.expense||1)*100,variant:"success"},1),y.jsx(mu,{now:x.savingsFunded/(x.expense||1)*100,variant:"warning"},2)]}),x.savingsFunded>0&&y.jsx("div",{className:"mt-3 p-3 bg-warning bg-opacity-10 border border-warning border-opacity-25 rounded-3",children:y.jsxs("small",{className:"text-dark",children:[" ",y.jsx("strong",{children:w(x.savingsFunded)})," of your expenses came from your savings this month."]})})]}),y.jsxs(Bs,{className:"text-center g-3",children:[y.jsx(kn,{xs:6,children:y.jsxs("div",{className:"p-3 border rounded-4",children:[y.jsx("div",{className:"text-muted small mb-1",children:"Burn Rate"}),y.jsxs("div",{className:"fw-bold text-danger fs-4",children:[x.burnRate.toFixed(1),"%"]}),y.jsx("div",{className:"text-muted",style:{fontSize:"0.6rem"},children:"OF TOTAL WEALTH"})]})}),y.jsx(kn,{xs:6,children:y.jsxs("div",{className:"p-3 border rounded-4",children:[y.jsx("div",{className:"text-muted small mb-1",children:"Savings Rate"}),y.jsxs("div",{className:"fw-bold text-success fs-4",children:[x.savingsRate.toFixed(1),"%"]}),y.jsx("div",{className:"text-muted",style:{fontSize:"0.6rem"},children:"OF TOTAL INCOME"})]})})]})]})})})}),y.jsx(kn,{lg:5,children:y.jsx(pn.div,{variants:I,children:y.jsx(dn,{className:"custom-card border-0 shadow-sm h-100",children:y.jsxs(dn.Body,{className:"p-4",children:[y.jsx("h5",{className:"fw-bold mb-4",children:"Liquidity Health"}),y.jsxs("div",{className:"d-flex flex-column gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-2 text-primary",children:y.jsx(Gp,{size:14})}),y.jsx("span",{className:"small fw-medium",children:"Survival Runway"})]}),y.jsxs("span",{className:"fw-bold",children:[x.survivalMonths.toFixed(1)," Months"]})]}),y.jsx(mu,{now:Math.min(x.survivalMonths*10,100),variant:"info",className:"rounded-pill",style:{height:"8px"}})]}),y.jsxs("div",{className:"p-3 bg-light rounded-4",children:[y.jsx("div",{className:"small text-muted mb-2",children:"Insight"}),y.jsx("p",{className:"small mb-0 fw-medium",children:x.survivalMonths>6?" You have a very healthy emergency fund. You can survive over 6 months without new income.":x.survivalMonths>3?" Your liquidity is stable, but consider increasing your emergency fund to 6 months of expenses.":" Your runway is low. A sudden loss of income would consume your savings rapidly."})]})]})]})})})})]})]})},j$=()=>{const{wallets:n,meals:e,purchases:t,incomes:i,transfers:r,goals:a,goalDeposits:l,budgets:u,deleteWallet:h,deleteMeal:f,deletePurchase:p,deleteIncome:v,deleteTransfer:x,deleteGoal:w,deleteGoalDeposit:N,deleteBudget:L}=Er(),{isDarkMode:I,toggleTheme:j}=Dh(),{user:X,logout:Y}=pd(),[Z,ae]=$.useState(!1),[ge,U]=$.useState(!1),M={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},k={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},W=async()=>{U(!0);try{for(const E of i)await v(E.id,E.walletId,E.amount);for(const E of r)await x(E.id,E.sourceId,E.destId,E.amount);for(const E of l)await N(E.id,E.goalId,E.walletId,E.amount);for(const E of e)await f(E.id);for(const E of t)await p(E.id);for(const E of a)await w(E.id);for(const E of u)await L(E.id);for(const E of n)await h(E.id)}catch(E){console.error("Error clearing data:",E),alert("Failed to clear some data. Please try again.")}finally{U(!1),ae(!1)}};return y.jsxs(pn.div,{variants:M,initial:"hidden",animate:"visible",className:"pb-5",children:[y.jsx(pn.h4,{variants:k,className:"fw-bold mb-4",children:"Settings"}),y.jsx(pn.div,{variants:k,children:y.jsxs(dn,{className:"custom-card border-0 mb-4 shadow-sm overflow-hidden",children:[y.jsx(dn.Header,{className:"bg-primary bg-opacity-10 border-0 p-4",children:y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-primary rounded-circle p-3 text-white me-3 shadow-sm",children:y.jsx(Qq,{size:24})}),y.jsxs("div",{children:[y.jsx("h5",{className:"fw-bold mb-1",children:X?.displayName||X?.email?.split("@")[0]}),y.jsx("p",{className:"text-muted small mb-0",children:X?.email})]})]})}),y.jsx(dn.Body,{className:"p-0",children:y.jsx(tp,{variant:"flush",children:y.jsx(tp.Item,{className:"p-4 border-0 bg-transparent",children:y.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:`rounded-circle p-2 me-3 ${I?"bg-white bg-opacity-10 text-warning":"bg-warning bg-opacity-10 text-warning"}`,children:I?y.jsx(Zb,{}):y.jsx(Qb,{})}),y.jsxs("div",{children:[y.jsx("div",{className:"fw-bold",children:"Appearance"}),y.jsx("small",{className:"text-muted",children:"Switch between light and dark themes"})]})]}),y.jsx(pn.div,{whileTap:{scale:.9},children:y.jsx(Mt,{variant:I?"warning":"outline-primary",onClick:j,className:"rounded-pill px-4",children:I?"Light Mode":"Dark Mode"})})]})})})})]})}),y.jsx(pn.div,{variants:k,children:y.jsx(dn,{className:"custom-card border-0 mb-4 shadow-sm",children:y.jsx(dn.Body,{className:"p-0",children:y.jsxs(tp,{variant:"flush",children:[y.jsx(tp.Item,{className:"p-4 border-0 bg-transparent",children:y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-info bg-opacity-10 text-info rounded-circle p-2 me-3",children:y.jsx(Mq,{})}),y.jsxs("div",{className:"flex-grow-1",children:[y.jsx("div",{className:"fw-bold",children:"Notifications"}),y.jsx("small",{className:"text-muted",children:"Smart alerts and reminders"})]}),y.jsx(Mt,{variant:"light",disabled:!0,className:"rounded-pill opacity-50 px-3",children:"Upcoming"})]})}),y.jsx(tp.Item,{className:"p-4 border-0 bg-transparent",children:y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:"bg-success bg-opacity-10 text-success rounded-circle p-2 me-3",children:y.jsx(Wq,{})}),y.jsxs("div",{className:"flex-grow-1",children:[y.jsx("div",{className:"fw-bold",children:"Biometric Lock"}),y.jsx("small",{className:"text-muted",children:"Secure your financial data"})]}),y.jsx(Mt,{variant:"light",disabled:!0,className:"rounded-pill opacity-50 px-3",children:"Upcoming"})]})})]})})})}),y.jsx(pn.div,{variants:k,children:y.jsx(dn,{className:"custom-card border-0 shadow-sm border-danger border-opacity-10 mb-4",children:y.jsx(dn.Body,{className:"p-4",children:y.jsxs("div",{className:"d-flex align-items-start mb-4",children:[y.jsx("div",{className:"bg-danger bg-opacity-10 text-danger rounded-circle p-3 me-3",children:y.jsx(JC,{size:24})}),y.jsxs("div",{children:[y.jsx("h5",{className:"fw-bold text-danger",children:"Danger Zone"}),y.jsx("p",{className:"text-muted small",children:"Factory reset will permanently wipe all your wallets, transactions, and goals."}),y.jsx(pn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:y.jsx(Mt,{variant:"danger",onClick:()=>ae(!0),disabled:ge,className:"rounded-pill px-4",children:ge?"Clearing Data...":"Factory Reset"})})]})]})})})}),y.jsx(pn.div,{variants:k,children:y.jsx(dn,{className:"custom-card border-0 shadow-sm",children:y.jsxs(dn.Body,{className:"p-4 d-flex justify-content-between align-items-center",children:[y.jsxs("div",{children:[y.jsx("h6",{className:"fw-bold mb-1",children:"Session Management"}),y.jsx("p",{className:"text-muted small mb-0",children:"Sign out of your account on this device"})]}),y.jsx(pn.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsxs(Mt,{variant:"outline-danger",onClick:Y,className:"rounded-pill px-4 d-flex align-items-center gap-2 border-0 bg-danger bg-opacity-10",children:[y.jsx(Jb,{})," Logout"]})})]})})}),y.jsxs($t,{show:Z,onHide:()=>ae(!1),centered:!0,contentClassName:"border-0 shadow-lg rounded-4",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0",children:y.jsx($t.Title,{className:"text-danger fw-bold",children:"Confirm Reset"})}),y.jsxs($t.Body,{className:"px-4 pb-4",children:[y.jsx("p",{className:"text-muted mb-4",children:"Are you sure you want to delete everything? This action is irreversible."}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsx(Mt,{variant:"light",className:"flex-grow-1 rounded-pill",onClick:()=>ae(!1),children:"Cancel"}),y.jsx(Mt,{variant:"danger",className:"flex-grow-1 rounded-pill",onClick:W,children:"Delete All"})]})]})]})]})},P$=({show:n,onHide:e})=>{const{addWallet:t}=Er(),[i,r]=$.useState(""),[a,l]=$.useState(""),[u,h]=$.useState("asset"),f=async p=>{p.preventDefault(),!(!i||u==="asset"&&!a)&&(await t(i,a||0,u),r(""),l(""),h("asset"),e())};return y.jsxs($t,{show:n,onHide:e,centered:!0,children:[y.jsx($t.Header,{closeButton:!0,children:y.jsx($t.Title,{children:"Create New Wallet"})}),y.jsx($t.Body,{children:y.jsxs(Ue,{onSubmit:f,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Wallet Type"}),y.jsxs(Ue.Select,{value:u,onChange:p=>h(p.target.value),className:"rounded-3",children:[y.jsx("option",{value:"asset",children:"Normal Wallet (Savings/Cash)"}),y.jsx("option",{value:"liability",children:"Staff ID Card (Postpaid/Debit)"})]}),y.jsx(Ue.Text,{className:"text-muted",children:u==="liability"?"This tracks debt. Expenses will accumulate and you can settle them later.":"Standard wallet where you add money before spending."})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Wallet Name"}),y.jsx(Ue.Control,{type:"text",placeholder:u==="liability"?"e.g. Staff ID Card":"e.g. Personal Cash",value:i,onChange:p=>r(p.target.value),required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:u==="liability"?"Initial Balance (usually 0)":"Initial Balance"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",value:a,onChange:p=>l(p.target.value),required:u==="asset"})]}),y.jsxs("div",{className:"d-flex justify-content-end",children:[y.jsx(Mt,{variant:"secondary",className:"me-2",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:"primary",type:"submit",className:"btn-primary-custom",children:"Create Wallet"})]})]})})]})},k$=({show:n,onHide:e})=>{const{addGoal:t}=Er(),[i,r]=$.useState(""),[a,l]=$.useState(""),[u,h]=$.useState("0"),f=async p=>{p.preventDefault(),!(!i||!a)&&(await t({name:i,targetAmount:a,savedAmount:u}),r(""),l(""),h("0"),e())};return y.jsxs($t,{show:n,onHide:e,centered:!0,children:[y.jsx($t.Header,{closeButton:!0,children:y.jsx($t.Title,{children:"Create Savings Goal"})}),y.jsx($t.Body,{children:y.jsxs(Ue,{onSubmit:f,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Goal Name"}),y.jsx(Ue.Control,{type:"text",placeholder:"e.g. New Phone, Vacation",value:i,onChange:p=>r(p.target.value),required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Target Amount"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",value:a,onChange:p=>l(p.target.value),required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Already Saved (Optional)"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",value:u,onChange:p=>h(p.target.value)})]}),y.jsxs("div",{className:"d-flex justify-content-end",children:[y.jsx(Mt,{variant:"secondary",className:"me-2",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:"primary",type:"submit",className:"btn-primary-custom",children:"Add Goal"})]})]})})]})},M$=({show:n,onHide:e,transaction:t})=>{const{wallets:i,categories:r,updateMeal:a,updatePurchase:l,addMeal:u,addPurchase:h,deleteMeal:f,deletePurchase:p}=Er(),[v,x]=$.useState("purchase"),[w,N]=$.useState({date:"",item:"",amount:"",walletId:"",category:"Other",mealType:"Snack"}),[L,I]=$.useState(!1);$.useEffect(()=>{t&&(x(t.rawType==="meal"?"meal":"purchase"),N({date:t.date||"",item:t.item||"",amount:t.amount||"",walletId:t.walletId||"",category:t.category||"Other",mealType:t.mealType||"Snack"}))},[t]);const j=async X=>{X.preventDefault(),I(!0);const Y=i.find(ge=>ge.id===w.walletId),Z=Y?Y.name:"Unknown",ae=w.date.substring(0,7);try{v!==t.rawType?(t.rawType==="meal"?await f(t.id):await p(t.id),v==="meal"?await u({...w,walletName:Z,month:ae}):await h({...w,walletName:Z,month:ae})):v==="meal"?await a(t.id,{...w,walletName:Z,month:ae}):await l(t.id,{...w,walletName:Z,month:ae}),yh("success"),e()}catch(ge){console.error("Update failed:",ge),alert("Failed to update transaction.")}finally{I(!1)}};return y.jsxs($t,{show:n,onHide:e,centered:!0,contentClassName:"border-0 shadow-lg rounded-4",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0 pb-0",children:y.jsx($t.Title,{className:"fw-bold",children:"Edit Transaction"})}),y.jsxs($t.Body,{className:"p-4",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("small",{className:"text-muted fw-bold text-uppercase d-block mb-2",style:{fontSize:"0.65rem"},children:"Transaction Type"}),y.jsxs(cr,{variant:"pills",className:"bg-light rounded-pill p-1",style:{background:"var(--bg-color)"},children:[y.jsx(cr.Item,{className:"flex-grow-1",children:y.jsxs(cr.Link,{active:v==="purchase",onClick:()=>x("purchase"),className:"rounded-pill text-center py-2 d-flex align-items-center justify-content-center gap-2",children:[y.jsx(tR,{size:14})," General"]})}),y.jsx(cr.Item,{className:"flex-grow-1",children:y.jsxs(cr.Link,{active:v==="meal",onClick:()=>x("meal"),className:"rounded-pill text-center py-2 d-flex align-items-center justify-content-center gap-2",children:[y.jsx(nR,{size:14})," Meal"]})})]})]}),y.jsxs(Ue,{onSubmit:j,children:[y.jsxs(Bs,{className:"g-3",children:[y.jsx(kn,{xs:12,children:y.jsxs(Ue.Group,{children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase",children:"Item Name"}),y.jsx(Ue.Control,{type:"text",value:w.item,onChange:X=>N({...w,item:X.target.value}),required:!0,className:"py-2"})]})}),y.jsx(kn,{xs:6,children:y.jsxs(Ue.Group,{children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase",children:"Amount (BDT)"}),y.jsx(Ue.Control,{type:"number",value:w.amount,onChange:X=>N({...w,amount:X.target.value}),required:!0,className:"py-2 fw-bold text-primary"})]})}),y.jsx(kn,{xs:6,children:y.jsxs(Ue.Group,{children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase",children:"Date"}),y.jsx(Ue.Control,{type:"date",value:w.date,onChange:X=>N({...w,date:X.target.value}),required:!0,className:"py-2"})]})}),y.jsx(kn,{xs:12,children:v==="meal"?y.jsxs(Ue.Group,{children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase",children:"Meal Type"}),y.jsxs(Ue.Select,{value:w.mealType,onChange:X=>N({...w,mealType:X.target.value}),className:"py-2",children:[y.jsx("option",{children:"Breakfast"}),y.jsx("option",{children:"Lunch"}),y.jsx("option",{children:"Dinner"}),y.jsx("option",{children:"Snack"})]})]}):y.jsxs(Ue.Group,{children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase",children:"Category"}),y.jsx(Ue.Select,{value:w.category,onChange:X=>N({...w,category:X.target.value}),className:"py-2",children:r.map(X=>y.jsx("option",{value:X.id,children:X.label},X.id))})]})}),y.jsx(kn,{xs:12,children:y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase",children:"Paid From Wallet"}),y.jsxs(Ue.Select,{value:w.walletId,onChange:X=>N({...w,walletId:X.target.value}),required:!0,className:"py-2",children:[y.jsx("option",{value:"",children:"Select Wallet..."}),i.map(X=>y.jsx("option",{value:X.id,children:X.name},X.id))]})]})})]}),y.jsxs("div",{className:"d-flex gap-2 mt-2",children:[y.jsx(Mt,{variant:"light",className:"flex-grow-1 py-2 rounded-pill",onClick:e,children:"Cancel"}),y.jsx(Mt,{variant:"primary",type:"submit",className:"flex-grow-1 py-2 rounded-pill btn-primary-custom fw-bold",disabled:L,children:L?"Saving...":"Save Changes"})]})]})]})]})},O$=()=>{const{meals:n=[],purchases:e=[],incomes:t=[],goalDeposits:i=[],transfers:r=[],goals:a=[],deleteMeal:l,deletePurchase:u,deleteIncome:h,deleteTransfer:f,deleteGoalDeposit:p}=Er(),[v,x]=$.useState("all"),[w,N]=$.useState(""),[L,I]=$.useState(null),[j,X]=$.useState(null),Y=$.useMemo(()=>{try{return[...n.map(R=>({...R,type:"expense",category:"Meal",icon:nR,label:R.item||"Unnamed Meal",rawType:"meal"})),...e.map(R=>({...R,type:"expense",category:R.category||"Other",icon:tR,label:R.item||"Unnamed Purchase",rawType:"purchase"})),...t.map(R=>({...R,type:"income",category:"Income",icon:YC,label:R.source||"Income",rawType:"income"})),...r.map(R=>({...R,type:"transfer",category:"Transfer",icon:Ep,label:`${R.sourceName||"Wallet"}  ${R.destName||"Wallet"}`,rawType:"transfer"})),...i.map(R=>{const B=R.goalName||a.find(ce=>ce.id===R.goalId)?.name||"Savings Goal";return{...R,type:"transfer",category:"Savings",icon:Ep,label:`Deposit to ${B}`,rawType:"goal_deposit"}})].sort((R,B)=>{const ce=Ae=>{if(Ae.date){const oe=new Date(Ae.date);return isNaN(oe.getTime())?0:oe.getTime()}return Ae.createdAt?.toDate?Ae.createdAt.toDate().getTime():Ae.createdAt?.seconds?Ae.createdAt.seconds*1e3:Ae.createdAt instanceof Date?Ae.createdAt.getTime():0};return ce(B)-ce(R)})}catch(E){return console.error("Error combining transactions:",E),[]}},[n,e,t,i,r,a]),Z=$.useMemo(()=>Y.filter(E=>{const R=(E.label||"").toLowerCase(),B=(E.category||"").toLowerCase(),ce=w.toLowerCase(),Ae=v==="all"||E.type===v,oe=R.includes(ce)||B.includes(ce);return Ae&&oe}),[Y,v,w]),ae=$.useMemo(()=>{const E={};return Z.forEach(R=>{let B="Unknown Date";try{R.date?B=R.date:R.createdAt?.toDate?B=R.createdAt.toDate().toISOString().split("T")[0]:R.createdAt?.seconds?B=new Date(R.createdAt.seconds*1e3).toISOString().split("T")[0]:R.createdAt instanceof Date&&(B=R.createdAt.toISOString().split("T")[0])}catch(ce){console.error("Date parsing error:",ce)}E[B]||(E[B]=[]),E[B].push(R)}),Object.keys(E).sort((R,B)=>{const ce=new Date(R).getTime()||0;return(new Date(B).getTime()||0)-ce}).reduce((R,B)=>(R[B]=E[B],R),{})},[Z]),ge=$.useMemo(()=>{let E=0,R=0;return Z.forEach(B=>{const ce=Number(B.amount)||0;B.type==="income"&&(E+=ce),B.type==="expense"&&(R+=ce)}),{cashIn:E,cashOut:R,net:E-R}},[Z]),U=E=>{I(E)},M=async()=>{if(!L)return;const{id:E,rawType:R,walletId:B,amount:ce,sourceId:Ae,destId:oe,goalId:me}=L;try{switch(R){case"meal":await l(E);break;case"purchase":await u(E);break;case"income":await h(E,B,ce);break;case"transfer":await f(E,Ae,oe,ce);break;case"goal_deposit":await p(E,me,B,ce);break}}catch(se){console.error("Failed to delete transaction:",se)}I(null)},k=E=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(Number(E)||0),W=E=>{if(!E||E==="Unknown Date")return"Unknown Date";try{const R=new Date(E);if(isNaN(R.getTime()))return E;const B=new Date,ce=new Date;return ce.setDate(B.getDate()-1),R.toDateString()===B.toDateString()?"Today":R.toDateString()===ce.toDateString()?"Yesterday":R.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}catch{return E}};return y.jsxs("div",{className:"pb-5",children:[y.jsx(dn,{className:"custom-card border-0 shadow-sm mb-4",children:y.jsx(dn.Body,{className:"p-3",children:y.jsxs("div",{className:"d-flex flex-column flex-md-row gap-3",children:[y.jsxs(pu,{className:"shadow-none bg-light rounded-3 overflow-hidden border-0",children:[y.jsx(pu.Text,{className:"bg-transparent border-0 px-3",children:y.jsx(Gq,{className:"text-muted"})}),y.jsx(Ue.Control,{placeholder:"Search transactions...",className:"bg-transparent border-0 py-2 shadow-none",value:w,onChange:E=>N(E.target.value)})]}),y.jsxs(Ue.Select,{value:v,onChange:E=>x(E.target.value),className:"w-auto border-0 fw-bold text-primary shadow-none bg-primary bg-opacity-10 rounded-3",style:{minWidth:"140px"},children:[y.jsx("option",{value:"all",children:"All Types"}),y.jsx("option",{value:"income",children:"Cash In"}),y.jsx("option",{value:"expense",children:"Cash Out"}),y.jsx("option",{value:"transfer",children:"Transfers"})]})]})})}),y.jsxs(Bs,{className:"g-3 mb-4",children:[y.jsx(kn,{xs:6,md:4,children:y.jsxs("div",{className:"p-3 rounded-4 bg-success bg-opacity-10 text-success border border-success border-opacity-10 text-center",children:[y.jsx("div",{className:"small fw-bold text-uppercase opacity-75 mb-1",children:"Total In"}),y.jsx("div",{className:"fw-bold fs-5",children:k(ge.cashIn)})]})}),y.jsx(kn,{xs:6,md:4,children:y.jsxs("div",{className:"p-3 rounded-4 bg-danger bg-opacity-10 text-danger border border-danger border-opacity-10 text-center",children:[y.jsx("div",{className:"small fw-bold text-uppercase opacity-75 mb-1",children:"Total Out"}),y.jsx("div",{className:"fw-bold fs-5",children:k(ge.cashOut)})]})}),y.jsx(kn,{xs:12,md:4,children:y.jsxs("div",{className:`p-3 rounded-4 border ${ge.net>=0?"bg-primary bg-opacity-10 text-primary border-primary":"bg-warning bg-opacity-10 text-warning border-warning"} border-opacity-10 text-center`,children:[y.jsx("div",{className:"small fw-bold text-uppercase opacity-75 mb-1",children:"Filtered Net"}),y.jsx("div",{className:"fw-bold fs-5",children:k(ge.net)})]})})]}),Object.keys(ae).length>0?Object.keys(ae).map(E=>y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"d-flex align-items-center mb-3",children:[y.jsx("div",{className:"fw-bold text-muted small text-uppercase tracking-wider",children:W(E)}),y.jsx("div",{className:"flex-grow-1 ms-3 border-top opacity-10"})]}),ae[E].map((R,B)=>y.jsx(pn.div,{whileHover:{x:5},className:"mb-2",children:y.jsx(dn,{className:"custom-card border-0 shadow-sm overflow-hidden",children:y.jsx(dn.Body,{className:"p-3",children:y.jsxs("div",{className:"d-flex align-items-center",children:[y.jsx("div",{className:`rounded-circle p-2 me-3 d-flex align-items-center justify-content-center bg-${R.type==="income"?"success":R.type==="expense"?"danger":"primary"} bg-opacity-10 text-${R.type==="income"?"success":R.type==="expense"?"danger":"primary"}`,style:{width:"45px",height:"45px"},children:R.icon?y.jsx(R.icon,{size:20}):y.jsx(Ep,{size:20})}),y.jsx("div",{className:"flex-grow-1 overflow-hidden",children:y.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("div",{className:"fw-bold text-truncate",children:R.label}),y.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1 flex-wrap",children:[y.jsx(bh,{bg:"light",text:"secondary",className:"fw-normal border border-secondary border-opacity-10 px-2 py-1",style:{fontSize:"0.65rem"},children:R.category||"Other"}),R.walletName&&y.jsx(bh,{bg:"primary",className:"bg-opacity-10 text-primary fw-normal px-2 py-1",style:{fontSize:"0.65rem"},children:R.walletName})]})]}),y.jsxs("div",{className:"text-end ms-2",style:{minWidth:"100px"},children:[y.jsxs("div",{className:`fw-bold ${R.type==="income"?"text-success":R.type==="expense"?"text-danger":"text-primary"}`,children:[R.type==="expense"?"-":R.type==="income"?"+":"",k(R.amount)]}),y.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-1",children:[y.jsx(Mt,{variant:"light",className:"text-primary p-0 opacity-50",onClick:()=>X(R),children:y.jsx(Xb,{size:12})}),y.jsx(Mt,{variant:"link",className:"text-danger p-0 opacity-50",onClick:()=>U(R),children:y.jsx(A0,{size:12})})]})]})]})})]})})})},R.id||`tx-${E}-${B}`))]},E)):y.jsxs("div",{className:"text-center py-5",children:[y.jsx("div",{className:"text-muted mb-3 opacity-25",children:y.jsx(ym,{size:60})}),y.jsx("h5",{className:"text-muted",children:"No transactions found"}),y.jsx("p",{className:"small text-muted",children:"Try adjusting your search or filters."})]}),L&&y.jsx(ew,{show:!!L,onHide:()=>I(null),onConfirm:M,title:"Delete Transaction",message:"Are you sure you want to delete this record? This will reverse the balance changes."}),j&&y.jsx(M$,{show:!0,onHide:()=>X(null),transaction:j})]})},V$=()=>{const{wallets:n,meals:e,purchases:t,goals:i,globalStats:r}=Er(),[a,l]=$.useState("month"),u=new Date().toISOString().slice(0,7),[h,f]=$.useState(u),[p,v]=$.useState(""),x=$.useMemo(()=>{let L=e,I=t;a==="month"?(L=e.filter(Y=>Y.month===h),I=t.filter(Y=>Y.month===h)):p&&(L=e.filter(Y=>Y.walletId===p),I=t.filter(Y=>Y.walletId===p));const j=L.reduce((Y,Z)=>Y+(Number(Z.amount)||0),0),X=I.reduce((Y,Z)=>Y+(Number(Z.amount)||0),0);return{meals:L,purchases:I,totalSpent:j+X}},[a,h,p,e,t]),w=L=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT"}).format(L),N=()=>{c7(r,x.meals,x.purchases,i)};return y.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"pb-5",children:[y.jsx(dn,{className:"custom-card mb-4 border-0",children:y.jsx(dn.Body,{className:"p-4",children:y.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-lg-center gap-3",children:[y.jsxs(cr,{variant:"pills",activeKey:a,onSelect:L=>l(L),className:"nav-pills-custom",children:[y.jsx(cr.Item,{children:y.jsx(cr.Link,{eventKey:"month",className:"px-4",children:"Month View"})}),y.jsx(cr.Item,{children:y.jsx(cr.Link,{eventKey:"wallet",className:"px-4",children:"Wallet View"})})]}),y.jsxs("div",{className:"d-flex align-items-center gap-3 flex-wrap",children:[a==="month"?y.jsx(Ue.Control,{type:"month",value:h,onChange:L=>f(L.target.value),className:"shadow-sm border-0",style:{minWidth:"200px"}}):y.jsxs(Ue.Select,{value:p,onChange:L=>v(L.target.value),className:"shadow-sm border-0",style:{minWidth:"200px"},children:[y.jsx("option",{value:"",children:"Select Wallet"}),n.map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))]}),y.jsxs(Mt,{variant:"outline-secondary",onClick:N,className:"d-flex align-items-center shadow-sm border-0 bg-white",children:[y.jsx(eR,{className:"me-2"})," PDF Export"]})]})]})})}),y.jsx(Bs,{className:"mb-4",children:y.jsx(kn,{children:y.jsxs(pn.div,{className:"p-4 rounded-4 text-white shadow-lg d-flex justify-content-between align-items-center",style:{background:"var(--primary-gradient)"},initial:{scale:.95},animate:{scale:1},children:[y.jsxs("div",{children:[y.jsxs("h6",{className:"opacity-75 mb-1",children:["TOTAL SPENT (",a==="month"?h:"Selected Wallet",")"]}),y.jsx("h2",{className:"fw-bold mb-0",children:w(x.totalSpent)})]}),y.jsx("div",{className:"bg-white bg-opacity-25 p-3 rounded-circle",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16",children:y.jsx("path",{d:"M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 4V3a3 3 0 1 0-6 0v2H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11zm-1 1v1.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V6h-2zm-3 0v1.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V6H7z"})})})]})})}),y.jsx(O$,{})]})},B$=({activeTab:n,onTabChange:e})=>y.jsxs("div",{className:"bottom-nav",style:{overflowX:"auto",justifyContent:"start"},children:[y.jsxs("button",{className:`nav-item ${n==="wallets"?"active":""}`,onClick:()=>e("wallets"),style:{minWidth:"70px"},children:[y.jsx(Pu,{className:"nav-icon"}),y.jsx("span",{children:"Wallets"})]}),y.jsxs("button",{className:`nav-item ${n==="history"?"active":""}`,onClick:()=>e("history"),style:{minWidth:"70px"},children:[y.jsx(ym,{className:"nav-icon"}),y.jsx("span",{children:"History"})]}),y.jsxs("button",{className:`nav-item ${n==="goals"?"active":""}`,onClick:()=>e("goals"),style:{minWidth:"70px"},children:[y.jsx(Gp,{className:"nav-icon"}),y.jsx("span",{children:"Goals"})]}),y.jsxs("button",{className:`nav-item ${n==="budget"?"active":""}`,onClick:()=>e("budget"),style:{minWidth:"70px"},children:[y.jsx(XC,{className:"nav-icon"}),y.jsx("span",{children:"Budget"})]}),y.jsxs("button",{className:`nav-item ${n==="reports"?"active":""}`,onClick:()=>e("reports"),style:{minWidth:"70px"},children:[y.jsx(ZC,{className:"nav-icon"}),y.jsx("span",{children:"Reports"})]}),y.jsxs("button",{className:`nav-item ${n==="settings"?"active":""}`,onClick:()=>e("settings"),style:{minWidth:"70px"},children:[y.jsx(QC,{className:"nav-icon"}),y.jsx("span",{children:"Settings"})]})]}),F$=({activeTab:n,onTabChange:e,onAddTransaction:t})=>{const{isDarkMode:i,toggleTheme:r}=Dh(),{user:a,logout:l}=pd(),u=[{id:"wallets",icon:Pu,label:"My Wallets"},{id:"history",icon:ym,label:"Transactions"},{id:"goals",icon:Gp,label:"Savings Goals"},{id:"budget",icon:XC,label:"Budget Plan"},{id:"reports",icon:ZC,label:"Reports"},{id:"settings",icon:QC,label:"Settings"}];return y.jsxs(pn.div,{className:"sidebar",initial:{x:-250},animate:{x:0},transition:{type:"spring",stiffness:100},children:[y.jsxs("div",{className:"d-flex align-items-center mb-5 px-2",children:[y.jsx("div",{className:"bg-primary rounded-circle p-2 me-2 text-white",children:y.jsx(Pu,{size:20})}),y.jsx("h4",{className:"fw-bold mb-0 text-primary",children:"SMWallet"})]}),y.jsx(cr,{className:"flex-column mb-auto",children:u.map(h=>y.jsxs(cr.Link,{onClick:()=>e(h.id),className:`d-flex align-items-center mb-2 px-3 py-2 rounded ${n===h.id?"bg-primary text-white shadow-sm":"text-secondary hover-bg-light"}`,style:{transition:"all 0.2s"},children:[y.jsx(h.icon,{className:"me-3"}),y.jsx("span",{className:"fw-medium",children:h.label})]},h.id))}),y.jsxs("div",{className:"mt-auto",children:[y.jsxs(Mt,{variant:"primary",className:"w-100 mb-4 btn-primary-custom d-flex align-items-center justify-content-center shadow-lg",onClick:t,children:[y.jsx(S0,{className:"me-2"})," New Transaction"]}),y.jsxs("div",{className:"pt-3 border-top border-secondary border-opacity-10",children:[y.jsxs("div",{className:"d-flex align-items-center mb-3 px-2",children:[y.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center text-primary fw-bold me-2",style:{width:"38px",height:"38px",minWidth:"38px",fontSize:"0.9rem"},children:a?.email?.charAt(0).toUpperCase()}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("div",{className:"text-truncate small fw-bold",children:a?.displayName||a?.email?.split("@")[0]}),y.jsx("div",{className:"text-truncate text-muted",style:{fontSize:"0.7rem"},children:a?.email})]})]}),y.jsxs("div",{className:"d-flex gap-2",children:[y.jsx(Mt,{variant:"light",className:"flex-grow-1 d-flex align-items-center justify-content-center p-2 rounded-3 border-0",onClick:r,children:i?y.jsx(Zb,{className:"text-warning"}):y.jsx(Qb,{className:"text-primary"})}),y.jsx(Mt,{variant:"light",className:"flex-grow-1 d-flex align-items-center justify-content-center p-2 rounded-3 border-0 text-danger",onClick:l,children:y.jsx(Jb,{})})]}),y.jsx("div",{className:"text-center mt-3",style:{fontSize:"0.65rem",opacity:.5},children:" 2026 SMWallet"})]})]})]})},U$=()=>{const[n,e]=$.useState(!0),[t,i]=$.useState(""),[r,a]=$.useState(""),[l,u]=$.useState(""),[h,f]=$.useState(!1),{login:p,signup:v,loginWithGoogle:x}=pd(),{isDarkMode:w}=Dh(),N=async I=>{I.preventDefault(),u(""),f(!0);try{n?await p(t,r):await v(t,r)}catch(j){u(j.message.replace("Firebase:",""))}f(!1)},L=async()=>{u("");try{await x()}catch(I){u(I.message.replace("Firebase:",""))}};return y.jsxs("div",{className:"auth-wrapper d-flex align-items-center justify-content-center",style:{minHeight:"100vh",background:w?"#0f172a":"#f0f4f8",padding:"20px"},children:[y.jsx("div",{style:{position:"fixed",top:"10%",left:"10%",width:"300px",height:"300px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0) 70%)",zIndex:0}}),y.jsx("div",{style:{position:"fixed",bottom:"10%",right:"10%",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0) 70%)",zIndex:0}}),y.jsx(q1,{style:{zIndex:1},children:y.jsx(Bs,{className:"justify-content-center",children:y.jsx(kn,{md:10,lg:8,xl:6,children:y.jsx(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},children:y.jsx(dn,{className:"border-0 shadow-lg overflow-hidden",style:{borderRadius:"24px",background:w?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:w?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.5)"},children:y.jsxs(Bs,{className:"g-0",children:[y.jsx(kn,{md:5,className:"d-none d-md-block",style:{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white"},children:y.jsxs("div",{className:"h-100 d-flex flex-column justify-content-center p-4 text-center",children:[y.jsx(pn.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:3},children:y.jsx(Pu,{size:60,className:"mb-4"})}),y.jsx("h2",{className:"fw-bold mb-3",children:"SMWallet"}),y.jsx("p",{className:"opacity-75",children:"Your intelligent companion for smart savings and expense tracking."}),y.jsxs("div",{className:"mt-4 pt-4 border-top border-white border-opacity-20",children:[y.jsx("small",{className:"d-block mb-2",children:"Secure & Encrypted"}),y.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[y.jsx("div",{className:"bg-white bg-opacity-20 rounded-pill px-3 py-1 small",children:"Safe"}),y.jsx("div",{className:"bg-white bg-opacity-20 rounded-pill px-3 py-1 small",children:"Fast"})]})]})]})}),y.jsx(kn,{md:7,children:y.jsxs(dn.Body,{className:"p-4 p-lg-5",children:[y.jsxs("div",{className:"d-flex align-items-center mb-4 d-md-none",children:[y.jsx("div",{className:"bg-primary rounded-circle p-2 me-2 text-white",children:y.jsx(Pu,{size:20})}),y.jsx("h4",{className:"fw-bold mb-0 text-primary",children:"SMWallet"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"fw-bold mb-1",children:n?"Welcome Back":"Create Account"}),y.jsx("p",{className:"text-muted small",children:n?"Enter your credentials to access your wallet":"Start your journey to financial freedom today"})]}),y.jsx($b,{mode:"wait",children:l&&y.jsx(pn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:y.jsx(vL,{variant:"danger",className:"py-2 small border-0 rounded-3",children:l})})}),y.jsxs(Ue,{onSubmit:N,children:[y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted",children:"EMAIL ADDRESS"}),y.jsxs(pu,{className:"shadow-sm rounded-3 overflow-hidden",children:[y.jsx(pu.Text,{className:"border-0 bg-light px-3",children:y.jsx(Fq,{className:"text-primary"})}),y.jsx(Ue.Control,{type:"email",placeholder:"name@example.com",className:"border-0 bg-light py-2",value:t,onChange:I=>i(I.target.value),required:!0})]})]}),y.jsxs(Ue.Group,{className:"mb-4",children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted",children:"PASSWORD"}),y.jsxs(pu,{className:"shadow-sm rounded-3 overflow-hidden",children:[y.jsx(pu.Text,{className:"border-0 bg-light px-3",children:y.jsx(zq,{className:"text-primary"})}),y.jsx(Ue.Control,{type:"password",placeholder:"",className:"border-0 bg-light py-2",value:r,onChange:I=>a(I.target.value),required:!0})]})]}),y.jsx(Mt,{type:"submit",variant:"primary",className:"w-100 py-2 fw-bold rounded-3 shadow-sm btn-primary-custom mb-3 d-flex align-items-center justify-content-center gap-2",disabled:h,children:h?"Processing...":y.jsxs(y.Fragment,{children:[n?y.jsxs(y.Fragment,{children:[y.jsx($q,{})," Login"]}):y.jsxs(y.Fragment,{children:[y.jsx(Xq,{})," Sign Up"]}),y.jsx(Pq,{size:12})]})}),y.jsx("div",{className:"text-center mb-3",children:y.jsx("span",{className:"text-muted small",children:"Or continue with"})}),y.jsxs(Mt,{variant:"outline-light",className:`w-100 py-2 fw-bold rounded-3 shadow-sm d-flex align-items-center justify-content-center gap-2 mb-4 ${w?"border-secondary":"border-light text-dark"}`,style:{border:w?"":"1px solid #e2e8f0"},onClick:L,children:[y.jsx(jq,{className:"text-danger"})," Google"]}),y.jsx("div",{className:"text-center",children:y.jsxs("p",{className:"text-muted small mb-0",children:[n?"Don't have an account?":"Already have an account?",y.jsx(Mt,{variant:"link",className:"p-0 ms-1 fw-bold text-decoration-none small",onClick:()=>e(!n),children:n?"Sign Up":"Login"})]})})]})]})})]})})})})})})]})},z$=()=>{const{wallets:n,addMeal:e}=Er(),[t,i]=$.useState({show:!1,message:""}),r=new Date().toISOString().split("T")[0],[a,l]=$.useState({date:r,mealType:"Lunch",item:"",amount:"",walletId:""}),[u,h]=$.useState(null),f=v=>{l({...a,[v.target.name]:v.target.value})},p=async v=>{if(v.preventDefault(),!a.walletId){i({show:!0,type:"error",message:"Please select a wallet"});return}const x=n.find(N=>N.id===a.walletId),w=Number(a.amount);h({walletName:x?.name||"Wallet",amount:w,newBalance:x?.type==="liability"?(x?.remaining||0)+w:(x?.remaining||0)-w}),await e({...a,month:a.date.substring(0,7),walletName:x?x.name:"Unknown"}),l({...a,item:"",amount:""}),i({show:!0,type:"success",message:"Meal added successfully!"})};return y.jsxs(y.Fragment,{children:[y.jsxs(Ue,{onSubmit:p,children:[y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Date"}),y.jsx(Ue.Control,{type:"date",name:"date",value:a.date,onChange:f,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Meal Type"}),y.jsxs(Ue.Select,{name:"mealType",value:a.mealType,onChange:f,children:[y.jsx("option",{children:"Breakfast"}),y.jsx("option",{children:"Lunch"}),y.jsx("option",{children:"Dinner"}),y.jsx("option",{children:"Snack"})]})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Item"}),y.jsx(Ue.Control,{type:"text",placeholder:"e.g. Burger, Salad",name:"item",value:a.item,onChange:f,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Amount"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",name:"amount",value:a.amount,onChange:f,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Wallet"}),y.jsxs(Ue.Select,{name:"walletId",value:a.walletId,onChange:f,required:!0,children:[y.jsx("option",{value:"",children:"Select Wallet..."}),n.map(v=>y.jsxs("option",{value:v.id,children:[v.name," (",v.type==="liability"?`Debt: ${v.remaining}`:`Avail: ${v.remaining}`,")"]},v.id))]})]}),y.jsx(Mt,{type:"submit",className:"w-100 btn-primary-custom",children:"Add Meal"})]}),y.jsx(md,{show:t.show,onHide:()=>i({...t,show:!1}),type:t.type,message:t.message,impactData:u})]})},q$=()=>{const{wallets:n,addPurchase:e,categories:t}=Er(),[i,r]=$.useState({show:!1,message:""}),a=new Date().toISOString().split("T")[0],[l,u]=$.useState({date:a,category:t[0]?.id||"Other",item:"",amount:"",walletId:""}),[h,f]=$.useState(null),p=x=>{u({...l,[x.target.name]:x.target.value})},v=async x=>{if(x.preventDefault(),!l.walletId){r({show:!0,type:"error",message:"Please select a wallet"});return}const w=n.find(L=>L.id===l.walletId),N=Number(l.amount);f({walletName:w?.name||"Wallet",amount:N,newBalance:w?.type==="liability"?(w?.remaining||0)+N:(w?.remaining||0)-N}),await e({...l,month:l.date.substring(0,7),walletName:w?w.name:"Unknown"}),u({...l,item:"",amount:""}),r({show:!0,type:"success",message:"Purchase added successfully!"})};return y.jsxs(y.Fragment,{children:[y.jsxs(Ue,{onSubmit:v,children:[y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Date"}),y.jsx(Ue.Control,{type:"date",name:"date",value:l.date,onChange:p,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Category"}),y.jsx(Ue.Select,{name:"category",value:l.category,onChange:p,children:t.map(x=>y.jsx("option",{value:x.id,children:x.label},x.id))})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Item"}),y.jsx(Ue.Control,{type:"text",placeholder:"e.g. Milk, Notebook",name:"item",value:l.item,onChange:p,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Amount"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",name:"amount",value:l.amount,onChange:p,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Wallet"}),y.jsxs(Ue.Select,{name:"walletId",value:l.walletId,onChange:p,required:!0,children:[y.jsx("option",{value:"",children:"Select Wallet..."}),n.map(x=>y.jsxs("option",{value:x.id,children:[x.name," (",x.type==="liability"?`Debt: ${x.remaining}`:`Avail: ${x.remaining}`,")"]},x.id))]})]}),y.jsx(Mt,{type:"submit",className:"w-100 btn-success",children:"Add Purchase"})]}),y.jsx(md,{show:i.show,onHide:()=>r({...i,show:!1}),type:i.type,message:i.message,impactData:h})]})},H$=()=>{const{wallets:n,addIncome:e}=Er(),[t,i]=$.useState({show:!1,message:""}),r=new Date().toISOString().split("T")[0],[a,l]=$.useState({date:r,source:"Salary",amount:"",walletId:""}),[u,h]=$.useState(null),f=v=>{l({...a,[v.target.name]:v.target.value})},p=async v=>{if(v.preventDefault(),!a.walletId){i({show:!0,type:"error",message:"Please select a target wallet"});return}const x=n.find(N=>N.id===a.walletId),w=Number(a.amount);h({walletName:x?.name||"Wallet",amount:w,newBalance:x?.type==="liability"?(x?.remaining||0)-w:(x?.remaining||0)+w,isIncome:!0}),await e({...a,walletName:x?x.name:"Unknown"}),l({...a,amount:""}),i({show:!0,type:"success",message:"Income added successfully!"})};return y.jsxs(y.Fragment,{children:[y.jsxs(Ue,{onSubmit:p,children:[y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Date"}),y.jsx(Ue.Control,{type:"date",name:"date",value:a.date,onChange:f,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Source"}),y.jsxs(Ue.Select,{name:"source",value:a.source,onChange:f,children:[y.jsx("option",{children:"Salary"}),y.jsx("option",{children:"Freelance"}),y.jsx("option",{children:"Gift"}),y.jsx("option",{children:"Business"}),y.jsx("option",{children:"Other"})]})]}),y.jsxs(Ue.Group,{className:"mb-2",children:[y.jsx(Ue.Label,{children:"Amount"}),y.jsx(Ue.Control,{type:"number",placeholder:"0.00",name:"amount",value:a.amount,onChange:f,required:!0})]}),y.jsxs(Ue.Group,{className:"mb-3",children:[y.jsx(Ue.Label,{children:"Target Wallet"}),y.jsxs(Ue.Select,{name:"walletId",value:a.walletId,onChange:f,required:!0,children:[y.jsx("option",{value:"",children:"Select Wallet..."}),n.map(v=>y.jsxs("option",{value:v.id,children:[v.name," (",v.type==="liability"?`Debt: ${v.remaining}`:`Avail: ${v.remaining}`,")"]},v.id))]})]}),y.jsx(Mt,{type:"submit",className:"w-100 btn-success",style:{background:"var(--success-gradient)",border:"none"},children:"Add Income"})]}),y.jsx(md,{show:t.show,onHide:()=>i({...t,show:!1}),type:t.type,message:t.message,impactData:u})]})},G$=({show:n,onHide:e})=>{const{wallets:t,addPurchase:i,addMeal:r,getSmartRecents:a,categories:l,meals:u,purchases:h}=Er(),{isDarkMode:f}=Dh(),[p,v]=$.useState("magic"),[x,w]=$.useState(window.innerWidth>=992),[N,L]=$.useState(""),[I,j]=$.useState({amount:0,item:"",valid:!1}),X=$.useMemo(()=>a(),[n,u,h]);$.useEffect(()=>{const ae=()=>w(window.innerWidth>=992);return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),$.useEffect(()=>{n&&(yh("pop"),L(""),j({amount:0,item:"",valid:!1}),v("magic"))},[n]),$.useEffect(()=>{const ae=N.trim().split(/\s+/);let ge=0,U=[];ae.forEach(k=>{const W=parseFloat(k);!isNaN(W)&&ge===0?ge=W:U.push(k)});const M=U.join(" ");j({amount:ge,item:M,valid:ge>0&&M.length>0})},[N]);const Y=async ae=>{if(t.length===0)return alert("Create a wallet first!");const ge=t[0],U=new Date().toISOString().split("T")[0];try{ae.type==="meal"?await r({date:U,mealType:ae.mType||"Snack",item:ae.label,amount:ae.amount,walletId:ge.id,walletName:ge.name,month:U.substring(0,7)}):await i({date:U,category:ae.cat||"Other",item:ae.label,amount:ae.amount,walletId:ge.id,walletName:ge.name,month:U.substring(0,7)}),yh("success"),e()}catch(M){console.error(M)}},Z=async ae=>{if(ae.preventDefault(),!I.valid)return;if(t.length===0)return alert("Create a wallet first!");const ge=t[0],U=new Date().toISOString().split("T")[0],M=X.find(W=>W.label.toLowerCase()===I.item.toLowerCase()),k=M?M.cat:"Other";try{await i({date:U,category:k,item:I.item,amount:I.amount,walletId:ge.id,walletName:ge.name,month:U.substring(0,7)}),yh("success"),e()}catch(W){console.error(W)}};return y.jsxs($t,{show:n,onHide:e,centered:!0,dialogClassName:x?"":"modal-dialog-bottom",contentClassName:x?"rounded-4 border-0 shadow-lg":"modal-content-bottom",children:[y.jsx($t.Header,{closeButton:!0,className:"border-0 pb-0",children:y.jsx($t.Title,{className:"w-100",children:y.jsxs(cr,{variant:"pills",className:"w-100 justify-content-center p-1 p-md-2 rounded-pill mb-3",style:{background:"var(--bg-color)",border:"1px solid var(--border-color)"},children:[y.jsx(cr.Item,{style:{flex:1},children:y.jsx(cr.Link,{active:p==="magic",onClick:()=>v("magic"),className:"rounded-pill text-center small py-2",children:"Magic"})}),y.jsx(cr.Item,{style:{flex:1},children:y.jsx(cr.Link,{active:p==="meal",onClick:()=>v("meal"),className:"rounded-pill text-center small py-2 text-primary",children:"Meal"})}),y.jsx(cr.Item,{style:{flex:1},children:y.jsx(cr.Link,{active:p==="purchase",onClick:()=>v("purchase"),className:"rounded-pill text-center small py-2 text-danger",children:"Spend"})}),y.jsx(cr.Item,{style:{flex:1},children:y.jsx(cr.Link,{active:p==="income",onClick:()=>v("income"),className:"rounded-pill text-center small py-2 text-success",children:"Income"})})]})})}),y.jsxs($t.Body,{className:"px-3 px-md-4 pb-4 pt-0",children:[p==="magic"&&y.jsxs(pn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[y.jsxs("div",{className:"mb-4",children:[y.jsxs("small",{className:"text-muted fw-bold text-uppercase d-flex align-items-center gap-2 mb-2",style:{fontSize:"0.7rem",letterSpacing:"0.5px"},children:[y.jsx(ym,{className:"text-primary"})," Frequent Items"]}),y.jsxs("div",{className:"d-flex gap-2 overflow-auto py-2 scrollbar-hidden",style:{whiteSpace:"nowrap",WebkitOverflowScrolling:"touch"},children:[X.map((ae,ge)=>y.jsxs(pn.button,{whileTap:{scale:.95},onClick:()=>Y(ae),className:"btn border-0 rounded-pill px-3 py-2 shadow-sm d-flex align-items-center gap-2",style:{background:f?"rgba(255,255,255,0.08)":"#ffffff",fontSize:"0.85rem",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:[y.jsx("span",{children:ae.label}),y.jsx("span",{className:"fw-bold text-primary opacity-75",children:ae.amount})]},ge)),X.length===0&&y.jsx("small",{className:"text-muted opacity-50 py-2",children:"No frequent items yet..."})]})]}),y.jsxs(Ue,{onSubmit:Z,children:[y.jsx(Ue.Label,{className:"small fw-bold text-muted uppercase mb-2",children:"Magic Bar"}),y.jsxs(pu,{className:"shadow-sm rounded-4 overflow-hidden border-0",style:{background:f?"rgba(255,255,255,0.05)":"#f1f5f9"},children:[y.jsx(pu.Text,{className:"bg-transparent border-0 text-primary ps-3 pe-2",children:y.jsx(qq,{size:18})}),y.jsx(Ue.Control,{autoFocus:!0,placeholder:"Try '100 Coffee' or 'Rickshaw 30'",className:"bg-transparent border-0 py-3 fw-medium shadow-none",style:{color:"var(--text-primary)",fontSize:"1rem"},value:N,onChange:ae=>L(ae.target.value)})]}),y.jsx($b,{children:N&&y.jsxs(pn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 px-2",children:[y.jsxs("div",{className:`d-flex align-items-center gap-2 small ${I.valid?"text-success":"text-muted"}`,children:[I.valid?y.jsx(Bq,{}):y.jsx(Yq,{}),y.jsx("span",{children:I.valid?`Adding BDT ${I.amount} for "${I.item}"`:"Type amount and item name..."})]}),I.valid&&y.jsx(Mt,{type:"submit",variant:"primary",className:"w-100 mt-3 py-2 btn-primary-custom rounded-pill shadow-lg fw-bold",children:"Quick Save"})]})})]})]}),p==="meal"&&y.jsx(z$,{}),p==="purchase"&&y.jsx(q$,{}),p==="income"&&y.jsx(H$,{})]})]})};class W$ extends Ss.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Panel Error:",e,t)}render(){return this.state.hasError?y.jsxs("div",{className:"p-5 text-center",children:[y.jsx("h5",{className:"text-danger mb-3",children:"Something went wrong in this section."}),y.jsx(Mt,{variant:"outline-primary",onClick:()=>window.location.reload(),children:"Reload App"})]}):this.props.children}}const $$=()=>{const{isDarkMode:n,toggleTheme:e}=Dh(),{logout:t}=pd();return y.jsx(X_,{className:"bg-white border-bottom shadow-sm d-lg-none sticky-top",style:{height:"var(--header-height)",background:"var(--nav-bg)",borderColor:"var(--border-color)"},children:y.jsxs(q1,{children:[y.jsxs(X_.Brand,{className:"d-flex align-items-center fw-bold text-primary",children:[y.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-2",children:y.jsx(Pu,{size:20})}),"SMWallet"]}),y.jsxs("div",{className:"d-flex align-items-center gap-3",children:[y.jsx(Mt,{variant:"link",onClick:e,className:"text-secondary p-0",children:n?y.jsx(Qb,{size:20,className:"text-warning"}):y.jsx(Zb,{size:20,className:"text-warning"})}),y.jsx(Mt,{variant:"link",onClick:t,className:"text-danger p-0",children:y.jsx(Jb,{size:20})})]})]})})};function K$(){const{loading:n}=Er(),{user:e}=pd(),[t,i]=$.useState("wallets"),[r,a]=$.useState(!1),[l,u]=$.useState(!1),[h,f]=$.useState(!1),[p,v]=$.useState(!1),[x,w]=$.useState(window.innerWidth>=992);if($.useEffect(()=>{const L=()=>w(window.innerWidth>=992);return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),!e)return y.jsx(U$,{});const N=L=>{L!==t&&(a(!0),i(L),setTimeout(()=>a(!1),400))};return n?y.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",style:{background:"var(--bg-color)"},children:y.jsx(e5,{})}):y.jsxs("div",{className:"app-container",children:[x&&y.jsx(F$,{activeTab:t,onTabChange:N,onAddTransaction:()=>v(!0)}),y.jsxs("div",{className:"main-content d-flex flex-column p-0",children:[!x&&y.jsx($$,{}),y.jsx("div",{className:"flex-grow-1 overflow-auto",style:{padding:x?"2rem":"1rem",paddingBottom:x?"2rem":"100px"},children:y.jsx(q1,{fluid:x,className:x?"px-4":"p-0",children:y.jsx($b,{mode:"wait",children:r?y.jsx(pn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"preparing-overlay",children:y.jsx(e5,{})},"preparing"):y.jsx(pn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:y.jsxs(W$,{children:[t==="wallets"&&y.jsx(tH,{onOpenCreateModal:()=>u(!0)}),t==="goals"&&y.jsx(sH,{onOpenCreateModal:()=>f(!0)}),t==="budget"&&y.jsx(aH,{}),t==="reports"&&y.jsx(D$,{}),t==="settings"&&y.jsx(j$,{}),t==="history"&&y.jsx(V$,{})]})},t)})})})]}),!x&&y.jsx("div",{className:"fab-container",children:y.jsx(pn.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"fab-btn",onClick:()=>v(!0),"aria-label":"Add Transaction",children:y.jsx(S0,{})})}),!x&&y.jsx(B$,{activeTab:t,onTabChange:N}),y.jsx(P$,{show:l,onHide:()=>u(!1)}),y.jsx(k$,{show:h,onHide:()=>f(!1)}),y.jsx(G$,{show:p,onHide:()=>v(!1)})]})}function Y$(){return y.jsx(Tq,{children:y.jsx(Sq,{children:y.jsx(Aq,{children:y.jsx(K$,{})})})})}TI.createRoot(document.getElementById("root")).render(y.jsx($.StrictMode,{children:y.jsx(Y$,{})}));export{ai as _,X$ as c,V1 as g};
